var id=Object.defineProperty;var rd=(e,n,o)=>n in e?id(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;var Ie=(e,n,o)=>(rd(e,typeof n!="symbol"?n+"":n,o),o);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();function Wa(e,n){const o=Object.create(null),s=e.split(",");for(let l=0;l<s.length;l++)o[s[l]]=!0;return n?l=>!!o[l.toLowerCase()]:l=>!!o[l]}const xe={},pr=[],wn=()=>{},od=()=>!1,sd=/^on[^a-z]/,ks=e=>sd.test(e),Ja=e=>e.startsWith("onUpdate:"),Re=Object.assign,Ya=(e,n)=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)},ad=Object.prototype.hasOwnProperty,ae=(e,n)=>ad.call(e,n),Ft=Array.isArray,mr=e=>ko(e)==="[object Map]",xr=e=>ko(e)==="[object Set]",iu=e=>ko(e)==="[object Date]",Xt=e=>typeof e=="function",Be=e=>typeof e=="string",ho=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",bc=e=>ke(e)&&Xt(e.then)&&Xt(e.catch),Lc=Object.prototype.toString,ko=e=>Lc.call(e),ld=e=>ko(e).slice(8,-1),kc=e=>ko(e)==="[object Object]",Xa=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,es=Wa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ws=e=>{const n=Object.create(null);return o=>n[o]||(n[o]=e(o))},ud=/-(\w)/g,Nn=ws(e=>e.replace(ud,(n,o)=>o?o.toUpperCase():"")),cd=/\B([A-Z])/g,Mr=ws(e=>e.replace(cd,"-$1").toLowerCase()),xs=ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),oa=ws(e=>e?`on${xs(e)}`:""),fo=(e,n)=>!Object.is(e,n),ns=(e,n)=>{for(let o=0;o<e.length;o++)e[o](n)},cs=(e,n,o)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:o})},hs=e=>{const n=parseFloat(e);return isNaN(n)?e:n},hd=e=>{const n=Be(e)?Number(e):NaN;return isNaN(n)?e:n};let ru;const ka=()=>ru||(ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qa(e){if(Ft(e)){const n={};for(let o=0;o<e.length;o++){const s=e[o],l=Be(s)?md(s):Qa(s);if(l)for(const u in l)n[u]=l[u]}return n}else{if(Be(e))return e;if(ke(e))return e}}const fd=/;(?![^(]*\))/g,dd=/:([^]+)/,pd=/\/\*[^]*?\*\//g;function md(e){const n={};return e.replace(pd,"").split(fd).forEach(o=>{if(o){const s=o.split(dd);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function Qn(e){let n="";if(Be(e))n=e;else if(Ft(e))for(let o=0;o<e.length;o++){const s=Qn(e[o]);s&&(n+=s+" ")}else if(ke(e))for(const o in e)e[o]&&(n+=o+" ");return n.trim()}const _d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gd=Wa(_d);function wc(e){return!!e||e===""}function yd(e,n){if(e.length!==n.length)return!1;let o=!0;for(let s=0;o&&s<e.length;s++)o=Ki(e[s],n[s]);return o}function Ki(e,n){if(e===n)return!0;let o=iu(e),s=iu(n);if(o||s)return o&&s?e.getTime()===n.getTime():!1;if(o=ho(e),s=ho(n),o||s)return e===n;if(o=Ft(e),s=Ft(n),o||s)return o&&s?yd(e,n):!1;if(o=ke(e),s=ke(n),o||s){if(!o||!s)return!1;const l=Object.keys(e).length,u=Object.keys(n).length;if(l!==u)return!1;for(const f in e){const d=e.hasOwnProperty(f),m=n.hasOwnProperty(f);if(d&&!m||!d&&m||!Ki(e[f],n[f]))return!1}}return String(e)===String(n)}function tl(e,n){return e.findIndex(o=>Ki(o,n))}const Ee=e=>Be(e)?e:e==null?"":Ft(e)||ke(e)&&(e.toString===Lc||!Xt(e.toString))?JSON.stringify(e,xc,2):String(e),xc=(e,n)=>n&&n.__v_isRef?xc(e,n.value):mr(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((o,[s,l])=>(o[`${s} =>`]=l,o),{})}:xr(n)?{[`Set(${n.size})`]:[...n.values()]}:ke(n)&&!Ft(n)&&!kc(n)?String(n):n;let an;class Mc{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=an,!n&&an&&(this.index=(an.scopes||(an.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const o=an;try{return an=this,n()}finally{an=o}}}on(){an=this}off(){an=this.parent}stop(n){if(this._active){let o,s;for(o=0,s=this.effects.length;o<s;o++)this.effects[o].stop();for(o=0,s=this.cleanups.length;o<s;o++)this.cleanups[o]();if(this.scopes)for(o=0,s=this.scopes.length;o<s;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function Pc(e){return new Mc(e)}function vd(e,n=an){n&&n.active&&n.effects.push(e)}function Cc(){return an}function bd(e){an&&an.cleanups.push(e)}const el=e=>{const n=new Set(e);return n.w=0,n.n=0,n},Ec=e=>(e.w&bi)>0,Sc=e=>(e.n&bi)>0,Ld=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=bi},kd=e=>{const{deps:n}=e;if(n.length){let o=0;for(let s=0;s<n.length;s++){const l=n[s];Ec(l)&&!Sc(l)?l.delete(e):n[o++]=l,l.w&=~bi,l.n&=~bi}n.length=o}},fs=new WeakMap;let to=0,bi=1;const wa=30;let bn;const Zi=Symbol(""),xa=Symbol("");class nl{constructor(n,o=null,s){this.fn=n,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,vd(this,s)}run(){if(!this.active)return this.fn();let n=bn,o=_i;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=bn,bn=this,_i=!0,bi=1<<++to,to<=wa?Ld(this):ou(this),this.fn()}finally{to<=wa&&kd(this),bi=1<<--to,bn=this.parent,_i=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){bn===this?this.deferStop=!0:this.active&&(ou(this),this.onStop&&this.onStop(),this.active=!1)}}function ou(e){const{deps:n}=e;if(n.length){for(let o=0;o<n.length;o++)n[o].delete(e);n.length=0}}let _i=!0;const Tc=[];function Pr(){Tc.push(_i),_i=!1}function Cr(){const e=Tc.pop();_i=e===void 0?!0:e}function nn(e,n,o){if(_i&&bn){let s=fs.get(e);s||fs.set(e,s=new Map);let l=s.get(o);l||s.set(o,l=el()),Oc(l)}}function Oc(e,n){let o=!1;to<=wa?Sc(e)||(e.n|=bi,o=!Ec(e)):o=!e.has(bn),o&&(e.add(bn),bn.deps.push(e))}function ti(e,n,o,s,l,u){const f=fs.get(e);if(!f)return;let d=[];if(n==="clear")d=[...f.values()];else if(o==="length"&&Ft(e)){const m=Number(s);f.forEach((_,y)=>{(y==="length"||y>=m)&&d.push(_)})}else switch(o!==void 0&&d.push(f.get(o)),n){case"add":Ft(e)?Xa(o)&&d.push(f.get("length")):(d.push(f.get(Zi)),mr(e)&&d.push(f.get(xa)));break;case"delete":Ft(e)||(d.push(f.get(Zi)),mr(e)&&d.push(f.get(xa)));break;case"set":mr(e)&&d.push(f.get(Zi));break}if(d.length===1)d[0]&&Ma(d[0]);else{const m=[];for(const _ of d)_&&m.push(..._);Ma(el(m))}}function Ma(e,n){const o=Ft(e)?e:[...e];for(const s of o)s.computed&&su(s);for(const s of o)s.computed||su(s)}function su(e,n){(e!==bn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function wd(e,n){var o;return(o=fs.get(e))==null?void 0:o.get(n)}const xd=Wa("__proto__,__v_isRef,__isVue"),Rc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ho)),Md=il(),Pd=il(!1,!0),Cd=il(!0),au=Ed();function Ed(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...o){const s=se(this);for(let u=0,f=this.length;u<f;u++)nn(s,"get",u+"");const l=s[n](...o);return l===-1||l===!1?s[n](...o.map(se)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...o){Pr();const s=se(this)[n].apply(this,o);return Cr(),s}}),e}function Sd(e){const n=se(this);return nn(n,"has",e),n.hasOwnProperty(e)}function il(e=!1,n=!1){return function(s,l,u){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&u===(e?n?Hd:Nc:n?Dc:Bc).get(s))return s;const f=Ft(s);if(!e){if(f&&ae(au,l))return Reflect.get(au,l,u);if(l==="hasOwnProperty")return Sd}const d=Reflect.get(s,l,u);return(ho(l)?Rc.has(l):xd(l))||(e||nn(s,"get",l),n)?d:Oe(d)?f&&Xa(l)?d:d.value:ke(d)?e?jc(d):wo(d):d}}const Td=Ac(),Od=Ac(!0);function Ac(e=!1){return function(o,s,l,u){let f=o[s];if(yr(f)&&Oe(f)&&!Oe(l))return!1;if(!e&&(!ds(l)&&!yr(l)&&(f=se(f),l=se(l)),!Ft(o)&&Oe(f)&&!Oe(l)))return f.value=l,!0;const d=Ft(o)&&Xa(s)?Number(s)<o.length:ae(o,s),m=Reflect.set(o,s,l,u);return o===se(u)&&(d?fo(l,f)&&ti(o,"set",s,l):ti(o,"add",s,l)),m}}function Rd(e,n){const o=ae(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&o&&ti(e,"delete",n,void 0),s}function Ad(e,n){const o=Reflect.has(e,n);return(!ho(n)||!Rc.has(n))&&nn(e,"has",n),o}function Id(e){return nn(e,"iterate",Ft(e)?"length":Zi),Reflect.ownKeys(e)}const Ic={get:Md,set:Td,deleteProperty:Rd,has:Ad,ownKeys:Id},Bd={get:Cd,set(e,n){return!0},deleteProperty(e,n){return!0}},Dd=Re({},Ic,{get:Pd,set:Od}),rl=e=>e,Ms=e=>Reflect.getPrototypeOf(e);function Ko(e,n,o=!1,s=!1){e=e.__v_raw;const l=se(e),u=se(n);o||(n!==u&&nn(l,"get",n),nn(l,"get",u));const{has:f}=Ms(l),d=s?rl:o?al:po;if(f.call(l,n))return d(e.get(n));if(f.call(l,u))return d(e.get(u));e!==l&&e.get(n)}function qo(e,n=!1){const o=this.__v_raw,s=se(o),l=se(e);return n||(e!==l&&nn(s,"has",e),nn(s,"has",l)),e===l?o.has(e):o.has(e)||o.has(l)}function Wo(e,n=!1){return e=e.__v_raw,!n&&nn(se(e),"iterate",Zi),Reflect.get(e,"size",e)}function lu(e){e=se(e);const n=se(this);return Ms(n).has.call(n,e)||(n.add(e),ti(n,"add",e,e)),this}function uu(e,n){n=se(n);const o=se(this),{has:s,get:l}=Ms(o);let u=s.call(o,e);u||(e=se(e),u=s.call(o,e));const f=l.call(o,e);return o.set(e,n),u?fo(n,f)&&ti(o,"set",e,n):ti(o,"add",e,n),this}function cu(e){const n=se(this),{has:o,get:s}=Ms(n);let l=o.call(n,e);l||(e=se(e),l=o.call(n,e)),s&&s.call(n,e);const u=n.delete(e);return l&&ti(n,"delete",e,void 0),u}function hu(){const e=se(this),n=e.size!==0,o=e.clear();return n&&ti(e,"clear",void 0,void 0),o}function Jo(e,n){return function(s,l){const u=this,f=u.__v_raw,d=se(f),m=n?rl:e?al:po;return!e&&nn(d,"iterate",Zi),f.forEach((_,y)=>s.call(l,m(_),m(y),u))}}function Yo(e,n,o){return function(...s){const l=this.__v_raw,u=se(l),f=mr(u),d=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,_=l[e](...s),y=o?rl:n?al:po;return!n&&nn(u,"iterate",m?xa:Zi),{next(){const{value:x,done:M}=_.next();return M?{value:x,done:M}:{value:d?[y(x[0]),y(x[1])]:y(x),done:M}},[Symbol.iterator](){return this}}}}function li(e){return function(...n){return e==="delete"?!1:this}}function Nd(){const e={get(u){return Ko(this,u)},get size(){return Wo(this)},has:qo,add:lu,set:uu,delete:cu,clear:hu,forEach:Jo(!1,!1)},n={get(u){return Ko(this,u,!1,!0)},get size(){return Wo(this)},has:qo,add:lu,set:uu,delete:cu,clear:hu,forEach:Jo(!1,!0)},o={get(u){return Ko(this,u,!0)},get size(){return Wo(this,!0)},has(u){return qo.call(this,u,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:Jo(!0,!1)},s={get(u){return Ko(this,u,!0,!0)},get size(){return Wo(this,!0)},has(u){return qo.call(this,u,!0)},add:li("add"),set:li("set"),delete:li("delete"),clear:li("clear"),forEach:Jo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Yo(u,!1,!1),o[u]=Yo(u,!0,!1),n[u]=Yo(u,!1,!0),s[u]=Yo(u,!0,!0)}),[e,o,n,s]}const[zd,jd,Fd,Ud]=Nd();function ol(e,n){const o=n?e?Ud:Fd:e?jd:zd;return(s,l,u)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?s:Reflect.get(ae(o,l)&&l in s?o:s,l,u)}const Vd={get:ol(!1,!1)},Gd={get:ol(!1,!0)},Zd={get:ol(!0,!1)},Bc=new WeakMap,Dc=new WeakMap,Nc=new WeakMap,Hd=new WeakMap;function $d(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kd(e){return e.__v_skip||!Object.isExtensible(e)?0:$d(ld(e))}function wo(e){return yr(e)?e:sl(e,!1,Ic,Vd,Bc)}function zc(e){return sl(e,!1,Dd,Gd,Dc)}function jc(e){return sl(e,!0,Bd,Zd,Nc)}function sl(e,n,o,s,l){if(!ke(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const u=l.get(e);if(u)return u;const f=Kd(e);if(f===0)return e;const d=new Proxy(e,f===2?s:o);return l.set(e,d),d}function gi(e){return yr(e)?gi(e.__v_raw):!!(e&&e.__v_isReactive)}function yr(e){return!!(e&&e.__v_isReadonly)}function ds(e){return!!(e&&e.__v_isShallow)}function Fc(e){return gi(e)||yr(e)}function se(e){const n=e&&e.__v_raw;return n?se(n):e}function Ps(e){return cs(e,"__v_skip",!0),e}const po=e=>ke(e)?wo(e):e,al=e=>ke(e)?jc(e):e;function Uc(e){_i&&bn&&(e=se(e),Oc(e.dep||(e.dep=el())))}function Vc(e,n){e=se(e);const o=e.dep;o&&Ma(o)}function Oe(e){return!!(e&&e.__v_isRef===!0)}function Nt(e){return Gc(e,!1)}function qd(e){return Gc(e,!0)}function Gc(e,n){return Oe(e)?e:new Wd(e,n)}class Wd{constructor(n,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?n:se(n),this._value=o?n:po(n)}get value(){return Uc(this),this._value}set value(n){const o=this.__v_isShallow||ds(n)||yr(n);n=o?n:se(n),fo(n,this._rawValue)&&(this._rawValue=n,this._value=o?n:po(n),Vc(this))}}function Mt(e){return Oe(e)?e.value:e}const Jd={get:(e,n,o)=>Mt(Reflect.get(e,n,o)),set:(e,n,o,s)=>{const l=e[n];return Oe(l)&&!Oe(o)?(l.value=o,!0):Reflect.set(e,n,o,s)}};function Zc(e){return gi(e)?e:new Proxy(e,Jd)}function Yd(e){const n=Ft(e)?new Array(e.length):{};for(const o in e)n[o]=Qd(e,o);return n}class Xd{constructor(n,o,s){this._object=n,this._key=o,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return wd(se(this._object),this._key)}}function Qd(e,n,o){const s=e[n];return Oe(s)?s:new Xd(e,n,o)}class tp{constructor(n,o,s,l){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new nl(n,()=>{this._dirty||(this._dirty=!0,Vc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=s}get value(){const n=se(this);return Uc(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function ep(e,n,o=!1){let s,l;const u=Xt(e);return u?(s=e,l=wn):(s=e.get,l=e.set),new tp(s,l,u||!l,o)}function yi(e,n,o,s){let l;try{l=s?e(...s):e()}catch(u){Cs(u,n,o)}return l}function pn(e,n,o,s){if(Xt(e)){const u=yi(e,n,o,s);return u&&bc(u)&&u.catch(f=>{Cs(f,n,o)}),u}const l=[];for(let u=0;u<e.length;u++)l.push(pn(e[u],n,o,s));return l}function Cs(e,n,o,s=!0){const l=n?n.vnode:null;if(n){let u=n.parent;const f=n.proxy,d=o;for(;u;){const _=u.ec;if(_){for(let y=0;y<_.length;y++)if(_[y](e,f,d)===!1)return}u=u.parent}const m=n.appContext.config.errorHandler;if(m){yi(m,null,10,[e,f,d]);return}}np(e,o,l,s)}function np(e,n,o,s=!0){console.error(e)}let mo=!1,Pa=!1;const qe=[];let In=0;const _r=[];let Jn=null,Fi=0;const Hc=Promise.resolve();let ll=null;function ul(e){const n=ll||Hc;return e?n.then(this?e.bind(this):e):n}function ip(e){let n=In+1,o=qe.length;for(;n<o;){const s=n+o>>>1;_o(qe[s])<e?n=s+1:o=s}return n}function cl(e){(!qe.length||!qe.includes(e,mo&&e.allowRecurse?In+1:In))&&(e.id==null?qe.push(e):qe.splice(ip(e.id),0,e),$c())}function $c(){!mo&&!Pa&&(Pa=!0,ll=Hc.then(qc))}function rp(e){const n=qe.indexOf(e);n>In&&qe.splice(n,1)}function op(e){Ft(e)?_r.push(...e):(!Jn||!Jn.includes(e,e.allowRecurse?Fi+1:Fi))&&_r.push(e),$c()}function fu(e,n=mo?In+1:0){for(;n<qe.length;n++){const o=qe[n];o&&o.pre&&(qe.splice(n,1),n--,o())}}function Kc(e){if(_r.length){const n=[...new Set(_r)];if(_r.length=0,Jn){Jn.push(...n);return}for(Jn=n,Jn.sort((o,s)=>_o(o)-_o(s)),Fi=0;Fi<Jn.length;Fi++)Jn[Fi]();Jn=null,Fi=0}}const _o=e=>e.id==null?1/0:e.id,sp=(e,n)=>{const o=_o(e)-_o(n);if(o===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return o};function qc(e){Pa=!1,mo=!0,qe.sort(sp);const n=wn;try{for(In=0;In<qe.length;In++){const o=qe[In];o&&o.active!==!1&&yi(o,null,14)}}finally{In=0,qe.length=0,Kc(),mo=!1,ll=null,(qe.length||_r.length)&&qc()}}function ap(e,n,...o){if(e.isUnmounted)return;const s=e.vnode.props||xe;let l=o;const u=n.startsWith("update:"),f=u&&n.slice(7);if(f&&f in s){const y=`${f==="modelValue"?"model":f}Modifiers`,{number:x,trim:M}=s[y]||xe;M&&(l=o.map(B=>Be(B)?B.trim():B)),x&&(l=o.map(hs))}let d,m=s[d=oa(n)]||s[d=oa(Nn(n))];!m&&u&&(m=s[d=oa(Mr(n))]),m&&pn(m,e,6,l);const _=s[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,pn(_,e,6,l)}}function Wc(e,n,o=!1){const s=n.emitsCache,l=s.get(e);if(l!==void 0)return l;const u=e.emits;let f={},d=!1;if(!Xt(e)){const m=_=>{const y=Wc(_,n,!0);y&&(d=!0,Re(f,y))};!o&&n.mixins.length&&n.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!u&&!d?(ke(e)&&s.set(e,null),null):(Ft(u)?u.forEach(m=>f[m]=null):Re(f,u),ke(e)&&s.set(e,f),f)}function Es(e,n){return!e||!ks(n)?!1:(n=n.slice(2).replace(/Once$/,""),ae(e,n[0].toLowerCase()+n.slice(1))||ae(e,Mr(n))||ae(e,n))}let Ve=null,Ss=null;function ps(e){const n=Ve;return Ve=e,Ss=e&&e.type.__scopeId||null,n}function Er(e){Ss=e}function Sr(){Ss=null}function zn(e,n=Ve,o){if(!n||e._n)return e;const s=(...l)=>{s._d&&wu(-1);const u=ps(n);let f;try{f=e(...l)}finally{ps(u),s._d&&wu(1)}return f};return s._n=!0,s._c=!0,s._d=!0,s}function sa(e){const{type:n,vnode:o,proxy:s,withProxy:l,props:u,propsOptions:[f],slots:d,attrs:m,emit:_,render:y,renderCache:x,data:M,setupState:B,ctx:E,inheritAttrs:C}=e;let F,A;const D=ps(e);try{if(o.shapeFlag&4){const S=l||s;F=An(y.call(S,S,x,u,B,M,E)),A=m}else{const S=n;F=An(S.length>1?S(u,{attrs:m,slots:d,emit:_}):S(u,null)),A=n.props?m:lp(m)}}catch(S){oo.length=0,Cs(S,e,1),F=Tt(mn)}let Z=F;if(A&&C!==!1){const S=Object.keys(A),{shapeFlag:N}=Z;S.length&&N&7&&(f&&S.some(Ja)&&(A=up(A,f)),Z=ki(Z,A))}return o.dirs&&(Z=ki(Z),Z.dirs=Z.dirs?Z.dirs.concat(o.dirs):o.dirs),o.transition&&(Z.transition=o.transition),F=Z,ps(D),F}const lp=e=>{let n;for(const o in e)(o==="class"||o==="style"||ks(o))&&((n||(n={}))[o]=e[o]);return n},up=(e,n)=>{const o={};for(const s in e)(!Ja(s)||!(s.slice(9)in n))&&(o[s]=e[s]);return o};function cp(e,n,o){const{props:s,children:l,component:u}=e,{props:f,children:d,patchFlag:m}=n,_=u.emitsOptions;if(n.dirs||n.transition)return!0;if(o&&m>=0){if(m&1024)return!0;if(m&16)return s?du(s,f,_):!!f;if(m&8){const y=n.dynamicProps;for(let x=0;x<y.length;x++){const M=y[x];if(f[M]!==s[M]&&!Es(_,M))return!0}}}else return(l||d)&&(!d||!d.$stable)?!0:s===f?!1:s?f?du(s,f,_):!0:!!f;return!1}function du(e,n,o){const s=Object.keys(n);if(s.length!==Object.keys(e).length)return!0;for(let l=0;l<s.length;l++){const u=s[l];if(n[u]!==e[u]&&!Es(o,u))return!0}return!1}function hp({vnode:e,parent:n},o){for(;n&&n.subTree===e;)(e=n.vnode).el=o,n=n.parent}const fp=e=>e.__isSuspense;function dp(e,n){n&&n.pendingBranch?Ft(e)?n.effects.push(...e):n.effects.push(e):op(e)}const Xo={};function Bn(e,n,o){return Jc(e,n,o)}function Jc(e,n,{immediate:o,deep:s,flush:l,onTrack:u,onTrigger:f}=xe){var d;const m=Cc()===((d=je)==null?void 0:d.scope)?je:null;let _,y=!1,x=!1;if(Oe(e)?(_=()=>e.value,y=ds(e)):gi(e)?(_=()=>e,s=!0):Ft(e)?(x=!0,y=e.some(S=>gi(S)||ds(S)),_=()=>e.map(S=>{if(Oe(S))return S.value;if(gi(S))return Gi(S);if(Xt(S))return yi(S,m,2)})):Xt(e)?n?_=()=>yi(e,m,2):_=()=>{if(!(m&&m.isUnmounted))return M&&M(),pn(e,m,3,[B])}:_=wn,n&&s){const S=_;_=()=>Gi(S())}let M,B=S=>{M=D.onStop=()=>{yi(S,m,4)}},E;if(vo)if(B=wn,n?o&&pn(n,m,3,[_(),x?[]:void 0,B]):_(),l==="sync"){const S=um();E=S.__watcherHandles||(S.__watcherHandles=[])}else return wn;let C=x?new Array(e.length).fill(Xo):Xo;const F=()=>{if(D.active)if(n){const S=D.run();(s||y||(x?S.some((N,q)=>fo(N,C[q])):fo(S,C)))&&(M&&M(),pn(n,m,3,[S,C===Xo?void 0:x&&C[0]===Xo?[]:C,B]),C=S)}else D.run()};F.allowRecurse=!!n;let A;l==="sync"?A=F:l==="post"?A=()=>en(F,m&&m.suspense):(F.pre=!0,m&&(F.id=m.uid),A=()=>cl(F));const D=new nl(_,A);n?o?F():C=D.run():l==="post"?en(D.run.bind(D),m&&m.suspense):D.run();const Z=()=>{D.stop(),m&&m.scope&&Ya(m.scope.effects,D)};return E&&E.push(Z),Z}function pp(e,n,o){const s=this.proxy,l=Be(e)?e.includes(".")?Yc(s,e):()=>s[e]:e.bind(s,s);let u;Xt(n)?u=n:(u=n.handler,o=n);const f=je;vr(this);const d=Jc(l,u.bind(s),o);return f?vr(f):Hi(),d}function Yc(e,n){const o=n.split(".");return()=>{let s=e;for(let l=0;l<o.length&&s;l++)s=s[o[l]];return s}}function Gi(e,n){if(!ke(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Oe(e))Gi(e.value,n);else if(Ft(e))for(let o=0;o<e.length;o++)Gi(e[o],n);else if(xr(e)||mr(e))e.forEach(o=>{Gi(o,n)});else if(kc(e))for(const o in e)Gi(e[o],n);return e}function Tr(e,n){const o=Ve;if(o===null)return e;const s=Is(o)||o.proxy,l=e.dirs||(e.dirs=[]);for(let u=0;u<n.length;u++){let[f,d,m,_=xe]=n[u];f&&(Xt(f)&&(f={mounted:f,updated:f}),f.deep&&Gi(d),l.push({dir:f,instance:s,value:d,oldValue:void 0,arg:m,modifiers:_}))}return e}function Di(e,n,o,s){const l=e.dirs,u=n&&n.dirs;for(let f=0;f<l.length;f++){const d=l[f];u&&(d.oldValue=u[f].value);let m=d.dir[s];m&&(Pr(),pn(m,o,8,[e.el,d,e,n]),Cr())}}function mp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wi(()=>{e.isMounted=!0}),nh(()=>{e.isUnmounting=!0}),e}const dn=[Function,Array],Xc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dn,onEnter:dn,onAfterEnter:dn,onEnterCancelled:dn,onBeforeLeave:dn,onLeave:dn,onAfterLeave:dn,onLeaveCancelled:dn,onBeforeAppear:dn,onAppear:dn,onAfterAppear:dn,onAppearCancelled:dn},_p={name:"BaseTransition",props:Xc,setup(e,{slots:n}){const o=vh(),s=mp();let l;return()=>{const u=n.default&&th(n.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const C of u)if(C.type!==mn){f=C;break}}const d=se(e),{mode:m}=d;if(s.isLeaving)return aa(f);const _=pu(f);if(!_)return aa(f);const y=Ca(_,d,s,o);Ea(_,y);const x=o.subTree,M=x&&pu(x);let B=!1;const{getTransitionKey:E}=_.type;if(E){const C=E();l===void 0?l=C:C!==l&&(l=C,B=!0)}if(M&&M.type!==mn&&(!Ui(_,M)||B)){const C=Ca(M,d,s,o);if(Ea(M,C),m==="out-in")return s.isLeaving=!0,C.afterLeave=()=>{s.isLeaving=!1,o.update.active!==!1&&o.update()},aa(f);m==="in-out"&&_.type!==mn&&(C.delayLeave=(F,A,D)=>{const Z=Qc(s,M);Z[String(M.key)]=M,F._leaveCb=()=>{A(),F._leaveCb=void 0,delete y.delayedLeave},y.delayedLeave=D})}return f}}},gp=_p;function Qc(e,n){const{leavingVNodes:o}=e;let s=o.get(n.type);return s||(s=Object.create(null),o.set(n.type,s)),s}function Ca(e,n,o,s){const{appear:l,mode:u,persisted:f=!1,onBeforeEnter:d,onEnter:m,onAfterEnter:_,onEnterCancelled:y,onBeforeLeave:x,onLeave:M,onAfterLeave:B,onLeaveCancelled:E,onBeforeAppear:C,onAppear:F,onAfterAppear:A,onAppearCancelled:D}=n,Z=String(e.key),S=Qc(o,e),N=(et,rt)=>{et&&pn(et,s,9,rt)},q=(et,rt)=>{const ut=rt[1];N(et,rt),Ft(et)?et.every(_t=>_t.length<=1)&&ut():et.length<=1&&ut()},Q={mode:u,persisted:f,beforeEnter(et){let rt=d;if(!o.isMounted)if(l)rt=C||d;else return;et._leaveCb&&et._leaveCb(!0);const ut=S[Z];ut&&Ui(e,ut)&&ut.el._leaveCb&&ut.el._leaveCb(),N(rt,[et])},enter(et){let rt=m,ut=_,_t=y;if(!o.isMounted)if(l)rt=F||m,ut=A||_,_t=D||y;else return;let it=!1;const gt=et._enterCb=Dt=>{it||(it=!0,Dt?N(_t,[et]):N(ut,[et]),Q.delayedLeave&&Q.delayedLeave(),et._enterCb=void 0)};rt?q(rt,[et,gt]):gt()},leave(et,rt){const ut=String(e.key);if(et._enterCb&&et._enterCb(!0),o.isUnmounting)return rt();N(x,[et]);let _t=!1;const it=et._leaveCb=gt=>{_t||(_t=!0,rt(),gt?N(E,[et]):N(B,[et]),et._leaveCb=void 0,S[ut]===e&&delete S[ut])};S[ut]=e,M?q(M,[et,it]):it()},clone(et){return Ca(et,n,o,s)}};return Q}function aa(e){if(Ts(e))return e=ki(e),e.children=null,e}function pu(e){return Ts(e)?e.children?e.children[0]:void 0:e}function Ea(e,n){e.shapeFlag&6&&e.component?Ea(e.component.subTree,n):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function th(e,n=!1,o){let s=[],l=0;for(let u=0;u<e.length;u++){let f=e[u];const d=o==null?f.key:String(o)+String(f.key!=null?f.key:u);f.type===_e?(f.patchFlag&128&&l++,s=s.concat(th(f.children,n,d))):(n||f.type!==mn)&&s.push(d!=null?ki(f,{key:d}):f)}if(l>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}function Ne(e,n){return Xt(e)?(()=>Re({name:e.name},n,{setup:e}))():e}const io=e=>!!e.type.__asyncLoader,Ts=e=>e.type.__isKeepAlive;function yp(e,n){eh(e,"a",n)}function vp(e,n){eh(e,"da",n)}function eh(e,n,o=je){const s=e.__wdc||(e.__wdc=()=>{let l=o;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(Os(n,s,o),o){let l=o.parent;for(;l&&l.parent;)Ts(l.parent.vnode)&&bp(s,n,o,l),l=l.parent}}function bp(e,n,o,s){const l=Os(n,e,s,!0);ih(()=>{Ya(s[n],l)},o)}function Os(e,n,o=je,s=!1){if(o){const l=o[e]||(o[e]=[]),u=n.__weh||(n.__weh=(...f)=>{if(o.isUnmounted)return;Pr(),vr(o);const d=pn(n,o,e,f);return Hi(),Cr(),d});return s?l.unshift(u):l.push(u),u}}const ei=e=>(n,o=je)=>(!vo||e==="sp")&&Os(e,(...s)=>n(...s),o),Lp=ei("bm"),Wi=ei("m"),kp=ei("bu"),wp=ei("u"),nh=ei("bum"),ih=ei("um"),xp=ei("sp"),Mp=ei("rtg"),Pp=ei("rtc");function Cp(e,n=je){Os("ec",e,n)}const rh="components";function Ep(e,n){return Tp(rh,e,!0,n)||e}const Sp=Symbol.for("v-ndc");function Tp(e,n,o=!0,s=!1){const l=Ve||je;if(l){const u=l.type;if(e===rh){const d=sm(u,!1);if(d&&(d===n||d===Nn(n)||d===xs(Nn(n))))return u}const f=mu(l[e]||u[e],n)||mu(l.appContext[e],n);return!f&&s?u:f}}function mu(e,n){return e&&(e[n]||e[Nn(n)]||e[xs(Nn(n))])}function Li(e,n,o,s){let l;const u=o&&o[s];if(Ft(e)||Be(e)){l=new Array(e.length);for(let f=0,d=e.length;f<d;f++)l[f]=n(e[f],f,void 0,u&&u[f])}else if(typeof e=="number"){l=new Array(e);for(let f=0;f<e;f++)l[f]=n(f+1,f,void 0,u&&u[f])}else if(ke(e))if(e[Symbol.iterator])l=Array.from(e,(f,d)=>n(f,d,void 0,u&&u[d]));else{const f=Object.keys(e);l=new Array(f.length);for(let d=0,m=f.length;d<m;d++){const _=f[d];l[d]=n(e[_],_,d,u&&u[d])}}else l=[];return o&&(o[s]=l),l}function hl(e,n,o={},s,l){if(Ve.isCE||Ve.parent&&io(Ve.parent)&&Ve.parent.isCE)return n!=="default"&&(o.name=n),Tt("slot",o,s&&s());let u=e[n];u&&u._c&&(u._d=!1),Et();const f=u&&oh(u(o)),d=Te(_e,{key:o.key||f&&f.key||`_${n}`},f||(s?s():[]),f&&e._===1?64:-2);return!l&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),u&&u._c&&(u._d=!0),d}function oh(e){return e.some(n=>gs(n)?!(n.type===mn||n.type===_e&&!oh(n.children)):!0)?e:null}const Sa=e=>e?bh(e)?Is(e)||e.proxy:Sa(e.parent):null,ro=Re(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Sa(e.parent),$root:e=>Sa(e.root),$emit:e=>e.emit,$options:e=>fl(e),$forceUpdate:e=>e.f||(e.f=()=>cl(e.update)),$nextTick:e=>e.n||(e.n=ul.bind(e.proxy)),$watch:e=>pp.bind(e)}),la=(e,n)=>e!==xe&&!e.__isScriptSetup&&ae(e,n),Op={get({_:e},n){const{ctx:o,setupState:s,data:l,props:u,accessCache:f,type:d,appContext:m}=e;let _;if(n[0]!=="$"){const B=f[n];if(B!==void 0)switch(B){case 1:return s[n];case 2:return l[n];case 4:return o[n];case 3:return u[n]}else{if(la(s,n))return f[n]=1,s[n];if(l!==xe&&ae(l,n))return f[n]=2,l[n];if((_=e.propsOptions[0])&&ae(_,n))return f[n]=3,u[n];if(o!==xe&&ae(o,n))return f[n]=4,o[n];Ta&&(f[n]=0)}}const y=ro[n];let x,M;if(y)return n==="$attrs"&&nn(e,"get",n),y(e);if((x=d.__cssModules)&&(x=x[n]))return x;if(o!==xe&&ae(o,n))return f[n]=4,o[n];if(M=m.config.globalProperties,ae(M,n))return M[n]},set({_:e},n,o){const{data:s,setupState:l,ctx:u}=e;return la(l,n)?(l[n]=o,!0):s!==xe&&ae(s,n)?(s[n]=o,!0):ae(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(u[n]=o,!0)},has({_:{data:e,setupState:n,accessCache:o,ctx:s,appContext:l,propsOptions:u}},f){let d;return!!o[f]||e!==xe&&ae(e,f)||la(n,f)||(d=u[0])&&ae(d,f)||ae(s,f)||ae(ro,f)||ae(l.config.globalProperties,f)},defineProperty(e,n,o){return o.get!=null?e._.accessCache[n]=0:ae(o,"value")&&this.set(e,n,o.value,null),Reflect.defineProperty(e,n,o)}};function sh(e,n,o){const s=vh();if(o&&o.local){const l=Nt(e[n]);return Bn(()=>e[n],u=>l.value=u),Bn(l,u=>{u!==e[n]&&s.emit(`update:${n}`,u)}),l}else return{__v_isRef:!0,get value(){return e[n]},set value(l){s.emit(`update:${n}`,l)}}}function ms(e){return Ft(e)?e.reduce((n,o)=>(n[o]=null,n),{}):e}function ah(e,n){return!e||!n?e||n:Ft(e)&&Ft(n)?e.concat(n):Re({},ms(e),ms(n))}let Ta=!0;function Rp(e){const n=fl(e),o=e.proxy,s=e.ctx;Ta=!1,n.beforeCreate&&_u(n.beforeCreate,e,"bc");const{data:l,computed:u,methods:f,watch:d,provide:m,inject:_,created:y,beforeMount:x,mounted:M,beforeUpdate:B,updated:E,activated:C,deactivated:F,beforeDestroy:A,beforeUnmount:D,destroyed:Z,unmounted:S,render:N,renderTracked:q,renderTriggered:Q,errorCaptured:et,serverPrefetch:rt,expose:ut,inheritAttrs:_t,components:it,directives:gt,filters:Dt}=n;if(_&&Ap(_,s,null),f)for(const jt in f){const dt=f[jt];Xt(dt)&&(s[jt]=dt.bind(o))}if(l){const jt=l.call(o,o);ke(jt)&&(e.data=wo(jt))}if(Ta=!0,u)for(const jt in u){const dt=u[jt],re=Xt(dt)?dt.bind(o,o):Xt(dt.get)?dt.get.bind(o,o):wn,Ot=!Xt(dt)&&Xt(dt.set)?dt.set.bind(o):wn,Ct=$e({get:re,set:Ot});Object.defineProperty(s,jt,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:Ut=>Ct.value=Ut})}if(d)for(const jt in d)lh(d[jt],s,o,jt);if(m){const jt=Xt(m)?m.call(o):m;Reflect.ownKeys(jt).forEach(dt=>{is(dt,jt[dt])})}y&&_u(y,e,"c");function Lt(jt,dt){Ft(dt)?dt.forEach(re=>jt(re.bind(o))):dt&&jt(dt.bind(o))}if(Lt(Lp,x),Lt(Wi,M),Lt(kp,B),Lt(wp,E),Lt(yp,C),Lt(vp,F),Lt(Cp,et),Lt(Pp,q),Lt(Mp,Q),Lt(nh,D),Lt(ih,S),Lt(xp,rt),Ft(ut))if(ut.length){const jt=e.exposed||(e.exposed={});ut.forEach(dt=>{Object.defineProperty(jt,dt,{get:()=>o[dt],set:re=>o[dt]=re})})}else e.exposed||(e.exposed={});N&&e.render===wn&&(e.render=N),_t!=null&&(e.inheritAttrs=_t),it&&(e.components=it),gt&&(e.directives=gt)}function Ap(e,n,o=wn){Ft(e)&&(e=Oa(e));for(const s in e){const l=e[s];let u;ke(l)?"default"in l?u=Dn(l.from||s,l.default,!0):u=Dn(l.from||s):u=Dn(l),Oe(u)?Object.defineProperty(n,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):n[s]=u}}function _u(e,n,o){pn(Ft(e)?e.map(s=>s.bind(n.proxy)):e.bind(n.proxy),n,o)}function lh(e,n,o,s){const l=s.includes(".")?Yc(o,s):()=>o[s];if(Be(e)){const u=n[e];Xt(u)&&Bn(l,u)}else if(Xt(e))Bn(l,e.bind(o));else if(ke(e))if(Ft(e))e.forEach(u=>lh(u,n,o,s));else{const u=Xt(e.handler)?e.handler.bind(o):n[e.handler];Xt(u)&&Bn(l,u,e)}}function fl(e){const n=e.type,{mixins:o,extends:s}=n,{mixins:l,optionsCache:u,config:{optionMergeStrategies:f}}=e.appContext,d=u.get(n);let m;return d?m=d:!l.length&&!o&&!s?m=n:(m={},l.length&&l.forEach(_=>_s(m,_,f,!0)),_s(m,n,f)),ke(n)&&u.set(n,m),m}function _s(e,n,o,s=!1){const{mixins:l,extends:u}=n;u&&_s(e,u,o,!0),l&&l.forEach(f=>_s(e,f,o,!0));for(const f in n)if(!(s&&f==="expose")){const d=Ip[f]||o&&o[f];e[f]=d?d(e[f],n[f]):n[f]}return e}const Ip={data:gu,props:yu,emits:yu,methods:eo,computed:eo,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:eo,directives:eo,watch:Dp,provide:gu,inject:Bp};function gu(e,n){return n?e?function(){return Re(Xt(e)?e.call(this,this):e,Xt(n)?n.call(this,this):n)}:n:e}function Bp(e,n){return eo(Oa(e),Oa(n))}function Oa(e){if(Ft(e)){const n={};for(let o=0;o<e.length;o++)n[e[o]]=e[o];return n}return e}function Ye(e,n){return e?[...new Set([].concat(e,n))]:n}function eo(e,n){return e?Re(Object.create(null),e,n):n}function yu(e,n){return e?Ft(e)&&Ft(n)?[...new Set([...e,...n])]:Re(Object.create(null),ms(e),ms(n??{})):n}function Dp(e,n){if(!e)return n;if(!n)return e;const o=Re(Object.create(null),e);for(const s in n)o[s]=Ye(e[s],n[s]);return o}function uh(){return{app:null,config:{isNativeTag:od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Np=0;function zp(e,n){return function(s,l=null){Xt(s)||(s=Re({},s)),l!=null&&!ke(l)&&(l=null);const u=uh(),f=new Set;let d=!1;const m=u.app={_uid:Np++,_component:s,_props:l,_container:null,_context:u,_instance:null,version:cm,get config(){return u.config},set config(_){},use(_,...y){return f.has(_)||(_&&Xt(_.install)?(f.add(_),_.install(m,...y)):Xt(_)&&(f.add(_),_(m,...y))),m},mixin(_){return u.mixins.includes(_)||u.mixins.push(_),m},component(_,y){return y?(u.components[_]=y,m):u.components[_]},directive(_,y){return y?(u.directives[_]=y,m):u.directives[_]},mount(_,y,x){if(!d){const M=Tt(s,l);return M.appContext=u,y&&n?n(M,_):e(M,_,x),d=!0,m._container=_,_.__vue_app__=m,Is(M.component)||M.component.proxy}},unmount(){d&&(e(null,m._container),delete m._container.__vue_app__)},provide(_,y){return u.provides[_]=y,m},runWithContext(_){go=m;try{return _()}finally{go=null}}};return m}}let go=null;function is(e,n){if(je){let o=je.provides;const s=je.parent&&je.parent.provides;s===o&&(o=je.provides=Object.create(s)),o[e]=n}}function Dn(e,n,o=!1){const s=je||Ve;if(s||go){const l=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:go._context.provides;if(l&&e in l)return l[e];if(arguments.length>1)return o&&Xt(n)?n.call(s&&s.proxy):n}}function jp(){return!!(je||Ve||go)}function Fp(e,n,o,s=!1){const l={},u={};cs(u,As,1),e.propsDefaults=Object.create(null),ch(e,n,l,u);for(const f in e.propsOptions[0])f in l||(l[f]=void 0);o?e.props=s?l:zc(l):e.type.props?e.props=l:e.props=u,e.attrs=u}function Up(e,n,o,s){const{props:l,attrs:u,vnode:{patchFlag:f}}=e,d=se(l),[m]=e.propsOptions;let _=!1;if((s||f>0)&&!(f&16)){if(f&8){const y=e.vnode.dynamicProps;for(let x=0;x<y.length;x++){let M=y[x];if(Es(e.emitsOptions,M))continue;const B=n[M];if(m)if(ae(u,M))B!==u[M]&&(u[M]=B,_=!0);else{const E=Nn(M);l[E]=Ra(m,d,E,B,e,!1)}else B!==u[M]&&(u[M]=B,_=!0)}}}else{ch(e,n,l,u)&&(_=!0);let y;for(const x in d)(!n||!ae(n,x)&&((y=Mr(x))===x||!ae(n,y)))&&(m?o&&(o[x]!==void 0||o[y]!==void 0)&&(l[x]=Ra(m,d,x,void 0,e,!0)):delete l[x]);if(u!==d)for(const x in u)(!n||!ae(n,x))&&(delete u[x],_=!0)}_&&ti(e,"set","$attrs")}function ch(e,n,o,s){const[l,u]=e.propsOptions;let f=!1,d;if(n)for(let m in n){if(es(m))continue;const _=n[m];let y;l&&ae(l,y=Nn(m))?!u||!u.includes(y)?o[y]=_:(d||(d={}))[y]=_:Es(e.emitsOptions,m)||(!(m in s)||_!==s[m])&&(s[m]=_,f=!0)}if(u){const m=se(o),_=d||xe;for(let y=0;y<u.length;y++){const x=u[y];o[x]=Ra(l,m,x,_[x],e,!ae(_,x))}}return f}function Ra(e,n,o,s,l,u){const f=e[o];if(f!=null){const d=ae(f,"default");if(d&&s===void 0){const m=f.default;if(f.type!==Function&&!f.skipFactory&&Xt(m)){const{propsDefaults:_}=l;o in _?s=_[o]:(vr(l),s=_[o]=m.call(null,n),Hi())}else s=m}f[0]&&(u&&!d?s=!1:f[1]&&(s===""||s===Mr(o))&&(s=!0))}return s}function hh(e,n,o=!1){const s=n.propsCache,l=s.get(e);if(l)return l;const u=e.props,f={},d=[];let m=!1;if(!Xt(e)){const y=x=>{m=!0;const[M,B]=hh(x,n,!0);Re(f,M),B&&d.push(...B)};!o&&n.mixins.length&&n.mixins.forEach(y),e.extends&&y(e.extends),e.mixins&&e.mixins.forEach(y)}if(!u&&!m)return ke(e)&&s.set(e,pr),pr;if(Ft(u))for(let y=0;y<u.length;y++){const x=Nn(u[y]);vu(x)&&(f[x]=xe)}else if(u)for(const y in u){const x=Nn(y);if(vu(x)){const M=u[y],B=f[x]=Ft(M)||Xt(M)?{type:M}:Re({},M);if(B){const E=ku(Boolean,B.type),C=ku(String,B.type);B[0]=E>-1,B[1]=C<0||E<C,(E>-1||ae(B,"default"))&&d.push(x)}}}const _=[f,d];return ke(e)&&s.set(e,_),_}function vu(e){return e[0]!=="$"}function bu(e){const n=e&&e.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:e===null?"null":""}function Lu(e,n){return bu(e)===bu(n)}function ku(e,n){return Ft(n)?n.findIndex(o=>Lu(o,e)):Xt(n)&&Lu(n,e)?0:-1}const fh=e=>e[0]==="_"||e==="$stable",dl=e=>Ft(e)?e.map(An):[An(e)],Vp=(e,n,o)=>{if(n._n)return n;const s=zn((...l)=>dl(n(...l)),o);return s._c=!1,s},dh=(e,n,o)=>{const s=e._ctx;for(const l in e){if(fh(l))continue;const u=e[l];if(Xt(u))n[l]=Vp(l,u,s);else if(u!=null){const f=dl(u);n[l]=()=>f}}},ph=(e,n)=>{const o=dl(n);e.slots.default=()=>o},Gp=(e,n)=>{if(e.vnode.shapeFlag&32){const o=n._;o?(e.slots=se(n),cs(n,"_",o)):dh(n,e.slots={})}else e.slots={},n&&ph(e,n);cs(e.slots,As,1)},Zp=(e,n,o)=>{const{vnode:s,slots:l}=e;let u=!0,f=xe;if(s.shapeFlag&32){const d=n._;d?o&&d===1?u=!1:(Re(l,n),!o&&d===1&&delete l._):(u=!n.$stable,dh(n,l)),f=n}else n&&(ph(e,n),f={default:1});if(u)for(const d in l)!fh(d)&&!(d in f)&&delete l[d]};function Aa(e,n,o,s,l=!1){if(Ft(e)){e.forEach((M,B)=>Aa(M,n&&(Ft(n)?n[B]:n),o,s,l));return}if(io(s)&&!l)return;const u=s.shapeFlag&4?Is(s.component)||s.component.proxy:s.el,f=l?null:u,{i:d,r:m}=e,_=n&&n.r,y=d.refs===xe?d.refs={}:d.refs,x=d.setupState;if(_!=null&&_!==m&&(Be(_)?(y[_]=null,ae(x,_)&&(x[_]=null)):Oe(_)&&(_.value=null)),Xt(m))yi(m,d,12,[f,y]);else{const M=Be(m),B=Oe(m);if(M||B){const E=()=>{if(e.f){const C=M?ae(x,m)?x[m]:y[m]:m.value;l?Ft(C)&&Ya(C,u):Ft(C)?C.includes(u)||C.push(u):M?(y[m]=[u],ae(x,m)&&(x[m]=y[m])):(m.value=[u],e.k&&(y[e.k]=m.value))}else M?(y[m]=f,ae(x,m)&&(x[m]=f)):B&&(m.value=f,e.k&&(y[e.k]=f))};f?(E.id=-1,en(E,o)):E()}}}const en=dp;function Hp(e){return $p(e)}function $p(e,n){const o=ka();o.__VUE__=!0;const{insert:s,remove:l,patchProp:u,createElement:f,createText:d,createComment:m,setText:_,setElementText:y,parentNode:x,nextSibling:M,setScopeId:B=wn,insertStaticContent:E}=e,C=(U,K,W,st=null,ct=null,pt=null,wt=!1,R=null,b=!!K.dynamicChildren)=>{if(U===K)return;U&&!Ui(U,K)&&(st=at(U),Ut(U,ct,pt,!0),U=null),K.patchFlag===-2&&(b=!1,K.dynamicChildren=null);const{type:w,ref:T,shapeFlag:I}=K;switch(w){case Rs:F(U,K,W,st);break;case mn:A(U,K,W,st);break;case ua:U==null&&D(K,W,st,wt);break;case _e:it(U,K,W,st,ct,pt,wt,R,b);break;default:I&1?N(U,K,W,st,ct,pt,wt,R,b):I&6?gt(U,K,W,st,ct,pt,wt,R,b):(I&64||I&128)&&w.process(U,K,W,st,ct,pt,wt,R,b,bt)}T!=null&&ct&&Aa(T,U&&U.ref,pt,K||U,!K)},F=(U,K,W,st)=>{if(U==null)s(K.el=d(K.children),W,st);else{const ct=K.el=U.el;K.children!==U.children&&_(ct,K.children)}},A=(U,K,W,st)=>{U==null?s(K.el=m(K.children||""),W,st):K.el=U.el},D=(U,K,W,st)=>{[U.el,U.anchor]=E(U.children,K,W,st,U.el,U.anchor)},Z=({el:U,anchor:K},W,st)=>{let ct;for(;U&&U!==K;)ct=M(U),s(U,W,st),U=ct;s(K,W,st)},S=({el:U,anchor:K})=>{let W;for(;U&&U!==K;)W=M(U),l(U),U=W;l(K)},N=(U,K,W,st,ct,pt,wt,R,b)=>{wt=wt||K.type==="svg",U==null?q(K,W,st,ct,pt,wt,R,b):rt(U,K,ct,pt,wt,R,b)},q=(U,K,W,st,ct,pt,wt,R)=>{let b,w;const{type:T,props:I,shapeFlag:j,transition:Y,dirs:tt}=U;if(b=U.el=f(U.type,pt,I&&I.is,I),j&8?y(b,U.children):j&16&&et(U.children,b,null,st,ct,pt&&T!=="foreignObject",wt,R),tt&&Di(U,null,st,"created"),Q(b,U,U.scopeId,wt,st),I){for(const kt in I)kt!=="value"&&!es(kt)&&u(b,kt,null,I[kt],pt,U.children,st,ct,Bt);"value"in I&&u(b,"value",null,I.value),(w=I.onVnodeBeforeMount)&&Rn(w,st,U)}tt&&Di(U,null,st,"beforeMount");const ft=(!ct||ct&&!ct.pendingBranch)&&Y&&!Y.persisted;ft&&Y.beforeEnter(b),s(b,K,W),((w=I&&I.onVnodeMounted)||ft||tt)&&en(()=>{w&&Rn(w,st,U),ft&&Y.enter(b),tt&&Di(U,null,st,"mounted")},ct)},Q=(U,K,W,st,ct)=>{if(W&&B(U,W),st)for(let pt=0;pt<st.length;pt++)B(U,st[pt]);if(ct){let pt=ct.subTree;if(K===pt){const wt=ct.vnode;Q(U,wt,wt.scopeId,wt.slotScopeIds,ct.parent)}}},et=(U,K,W,st,ct,pt,wt,R,b=0)=>{for(let w=b;w<U.length;w++){const T=U[w]=R?pi(U[w]):An(U[w]);C(null,T,K,W,st,ct,pt,wt,R)}},rt=(U,K,W,st,ct,pt,wt)=>{const R=K.el=U.el;let{patchFlag:b,dynamicChildren:w,dirs:T}=K;b|=U.patchFlag&16;const I=U.props||xe,j=K.props||xe;let Y;W&&Ni(W,!1),(Y=j.onVnodeBeforeUpdate)&&Rn(Y,W,K,U),T&&Di(K,U,W,"beforeUpdate"),W&&Ni(W,!0);const tt=ct&&K.type!=="foreignObject";if(w?ut(U.dynamicChildren,w,R,W,st,tt,pt):wt||dt(U,K,R,null,W,st,tt,pt,!1),b>0){if(b&16)_t(R,K,I,j,W,st,ct);else if(b&2&&I.class!==j.class&&u(R,"class",null,j.class,ct),b&4&&u(R,"style",I.style,j.style,ct),b&8){const ft=K.dynamicProps;for(let kt=0;kt<ft.length;kt++){const It=ft[kt],Ht=I[It],qt=j[It];(qt!==Ht||It==="value")&&u(R,It,Ht,qt,ct,U.children,W,st,Bt)}}b&1&&U.children!==K.children&&y(R,K.children)}else!wt&&w==null&&_t(R,K,I,j,W,st,ct);((Y=j.onVnodeUpdated)||T)&&en(()=>{Y&&Rn(Y,W,K,U),T&&Di(K,U,W,"updated")},st)},ut=(U,K,W,st,ct,pt,wt)=>{for(let R=0;R<K.length;R++){const b=U[R],w=K[R],T=b.el&&(b.type===_e||!Ui(b,w)||b.shapeFlag&70)?x(b.el):W;C(b,w,T,null,st,ct,pt,wt,!0)}},_t=(U,K,W,st,ct,pt,wt)=>{if(W!==st){if(W!==xe)for(const R in W)!es(R)&&!(R in st)&&u(U,R,W[R],null,wt,K.children,ct,pt,Bt);for(const R in st){if(es(R))continue;const b=st[R],w=W[R];b!==w&&R!=="value"&&u(U,R,w,b,wt,K.children,ct,pt,Bt)}"value"in st&&u(U,"value",W.value,st.value)}},it=(U,K,W,st,ct,pt,wt,R,b)=>{const w=K.el=U?U.el:d(""),T=K.anchor=U?U.anchor:d("");let{patchFlag:I,dynamicChildren:j,slotScopeIds:Y}=K;Y&&(R=R?R.concat(Y):Y),U==null?(s(w,W,st),s(T,W,st),et(K.children,W,T,ct,pt,wt,R,b)):I>0&&I&64&&j&&U.dynamicChildren?(ut(U.dynamicChildren,j,W,ct,pt,wt,R),(K.key!=null||ct&&K===ct.subTree)&&mh(U,K,!0)):dt(U,K,W,T,ct,pt,wt,R,b)},gt=(U,K,W,st,ct,pt,wt,R,b)=>{K.slotScopeIds=R,U==null?K.shapeFlag&512?ct.ctx.activate(K,W,st,wt,b):Dt(K,W,st,ct,pt,wt,b):Pt(U,K,b)},Dt=(U,K,W,st,ct,pt,wt)=>{const R=U.component=em(U,st,ct);if(Ts(U)&&(R.ctx.renderer=bt),nm(R),R.asyncDep){if(ct&&ct.registerDep(R,Lt),!U.el){const b=R.subTree=Tt(mn);A(null,b,K,W)}return}Lt(R,U,K,W,ct,pt,wt)},Pt=(U,K,W)=>{const st=K.component=U.component;if(cp(U,K,W))if(st.asyncDep&&!st.asyncResolved){jt(st,K,W);return}else st.next=K,rp(st.update),st.update();else K.el=U.el,st.vnode=K},Lt=(U,K,W,st,ct,pt,wt)=>{const R=()=>{if(U.isMounted){let{next:T,bu:I,u:j,parent:Y,vnode:tt}=U,ft=T,kt;Ni(U,!1),T?(T.el=tt.el,jt(U,T,wt)):T=tt,I&&ns(I),(kt=T.props&&T.props.onVnodeBeforeUpdate)&&Rn(kt,Y,T,tt),Ni(U,!0);const It=sa(U),Ht=U.subTree;U.subTree=It,C(Ht,It,x(Ht.el),at(Ht),U,ct,pt),T.el=It.el,ft===null&&hp(U,It.el),j&&en(j,ct),(kt=T.props&&T.props.onVnodeUpdated)&&en(()=>Rn(kt,Y,T,tt),ct)}else{let T;const{el:I,props:j}=K,{bm:Y,m:tt,parent:ft}=U,kt=io(K);if(Ni(U,!1),Y&&ns(Y),!kt&&(T=j&&j.onVnodeBeforeMount)&&Rn(T,ft,K),Ni(U,!0),I&&te){const It=()=>{U.subTree=sa(U),te(I,U.subTree,U,ct,null)};kt?K.type.__asyncLoader().then(()=>!U.isUnmounted&&It()):It()}else{const It=U.subTree=sa(U);C(null,It,W,st,U,ct,pt),K.el=It.el}if(tt&&en(tt,ct),!kt&&(T=j&&j.onVnodeMounted)){const It=K;en(()=>Rn(T,ft,It),ct)}(K.shapeFlag&256||ft&&io(ft.vnode)&&ft.vnode.shapeFlag&256)&&U.a&&en(U.a,ct),U.isMounted=!0,K=W=st=null}},b=U.effect=new nl(R,()=>cl(w),U.scope),w=U.update=()=>b.run();w.id=U.uid,Ni(U,!0),w()},jt=(U,K,W)=>{K.component=U;const st=U.vnode.props;U.vnode=K,U.next=null,Up(U,K.props,st,W),Zp(U,K.children,W),Pr(),fu(),Cr()},dt=(U,K,W,st,ct,pt,wt,R,b=!1)=>{const w=U&&U.children,T=U?U.shapeFlag:0,I=K.children,{patchFlag:j,shapeFlag:Y}=K;if(j>0){if(j&128){Ot(w,I,W,st,ct,pt,wt,R,b);return}else if(j&256){re(w,I,W,st,ct,pt,wt,R,b);return}}Y&8?(T&16&&Bt(w,ct,pt),I!==w&&y(W,I)):T&16?Y&16?Ot(w,I,W,st,ct,pt,wt,R,b):Bt(w,ct,pt,!0):(T&8&&y(W,""),Y&16&&et(I,W,st,ct,pt,wt,R,b))},re=(U,K,W,st,ct,pt,wt,R,b)=>{U=U||pr,K=K||pr;const w=U.length,T=K.length,I=Math.min(w,T);let j;for(j=0;j<I;j++){const Y=K[j]=b?pi(K[j]):An(K[j]);C(U[j],Y,W,null,ct,pt,wt,R,b)}w>T?Bt(U,ct,pt,!0,!1,I):et(K,W,st,ct,pt,wt,R,b,I)},Ot=(U,K,W,st,ct,pt,wt,R,b)=>{let w=0;const T=K.length;let I=U.length-1,j=T-1;for(;w<=I&&w<=j;){const Y=U[w],tt=K[w]=b?pi(K[w]):An(K[w]);if(Ui(Y,tt))C(Y,tt,W,null,ct,pt,wt,R,b);else break;w++}for(;w<=I&&w<=j;){const Y=U[I],tt=K[j]=b?pi(K[j]):An(K[j]);if(Ui(Y,tt))C(Y,tt,W,null,ct,pt,wt,R,b);else break;I--,j--}if(w>I){if(w<=j){const Y=j+1,tt=Y<T?K[Y].el:st;for(;w<=j;)C(null,K[w]=b?pi(K[w]):An(K[w]),W,tt,ct,pt,wt,R,b),w++}}else if(w>j)for(;w<=I;)Ut(U[w],ct,pt,!0),w++;else{const Y=w,tt=w,ft=new Map;for(w=tt;w<=j;w++){const ne=K[w]=b?pi(K[w]):An(K[w]);ne.key!=null&&ft.set(ne.key,w)}let kt,It=0;const Ht=j-tt+1;let qt=!1,ce=0;const Kt=new Array(Ht);for(w=0;w<Ht;w++)Kt[w]=0;for(w=Y;w<=I;w++){const ne=U[w];if(It>=Ht){Ut(ne,ct,pt,!0);continue}let he;if(ne.key!=null)he=ft.get(ne.key);else for(kt=tt;kt<=j;kt++)if(Kt[kt-tt]===0&&Ui(ne,K[kt])){he=kt;break}he===void 0?Ut(ne,ct,pt,!0):(Kt[he-tt]=w+1,he>=ce?ce=he:qt=!0,C(ne,K[he],W,null,ct,pt,wt,R,b),It++)}const ue=qt?Kp(Kt):pr;for(kt=ue.length-1,w=Ht-1;w>=0;w--){const ne=tt+w,he=K[ne],Pe=ne+1<T?K[ne+1].el:st;Kt[w]===0?C(null,he,W,Pe,ct,pt,wt,R,b):qt&&(kt<0||w!==ue[kt]?Ct(he,W,Pe,2):kt--)}}},Ct=(U,K,W,st,ct=null)=>{const{el:pt,type:wt,transition:R,children:b,shapeFlag:w}=U;if(w&6){Ct(U.component.subTree,K,W,st);return}if(w&128){U.suspense.move(K,W,st);return}if(w&64){wt.move(U,K,W,bt);return}if(wt===_e){s(pt,K,W);for(let I=0;I<b.length;I++)Ct(b[I],K,W,st);s(U.anchor,K,W);return}if(wt===ua){Z(U,K,W);return}if(st!==2&&w&1&&R)if(st===0)R.beforeEnter(pt),s(pt,K,W),en(()=>R.enter(pt),ct);else{const{leave:I,delayLeave:j,afterLeave:Y}=R,tt=()=>s(pt,K,W),ft=()=>{I(pt,()=>{tt(),Y&&Y()})};j?j(pt,tt,ft):ft()}else s(pt,K,W)},Ut=(U,K,W,st=!1,ct=!1)=>{const{type:pt,props:wt,ref:R,children:b,dynamicChildren:w,shapeFlag:T,patchFlag:I,dirs:j}=U;if(R!=null&&Aa(R,null,W,U,!0),T&256){K.ctx.deactivate(U);return}const Y=T&1&&j,tt=!io(U);let ft;if(tt&&(ft=wt&&wt.onVnodeBeforeUnmount)&&Rn(ft,K,U),T&6)Qt(U.component,W,st);else{if(T&128){U.suspense.unmount(W,st);return}Y&&Di(U,null,K,"beforeUnmount"),T&64?U.type.remove(U,K,W,ct,bt,st):w&&(pt!==_e||I>0&&I&64)?Bt(w,K,W,!1,!0):(pt===_e&&I&384||!ct&&T&16)&&Bt(b,K,W),st&&ge(U)}(tt&&(ft=wt&&wt.onVnodeUnmounted)||Y)&&en(()=>{ft&&Rn(ft,K,U),Y&&Di(U,null,K,"unmounted")},W)},ge=U=>{const{type:K,el:W,anchor:st,transition:ct}=U;if(K===_e){oe(W,st);return}if(K===ua){S(U);return}const pt=()=>{l(W),ct&&!ct.persisted&&ct.afterLeave&&ct.afterLeave()};if(U.shapeFlag&1&&ct&&!ct.persisted){const{leave:wt,delayLeave:R}=ct,b=()=>wt(W,pt);R?R(U.el,pt,b):b()}else pt()},oe=(U,K)=>{let W;for(;U!==K;)W=M(U),l(U),U=W;l(K)},Qt=(U,K,W)=>{const{bum:st,scope:ct,update:pt,subTree:wt,um:R}=U;st&&ns(st),ct.stop(),pt&&(pt.active=!1,Ut(wt,U,K,W)),R&&en(R,K),en(()=>{U.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},Bt=(U,K,W,st=!1,ct=!1,pt=0)=>{for(let wt=pt;wt<U.length;wt++)Ut(U[wt],K,W,st,ct)},at=U=>U.shapeFlag&6?at(U.component.subTree):U.shapeFlag&128?U.suspense.next():M(U.anchor||U.el),vt=(U,K,W)=>{U==null?K._vnode&&Ut(K._vnode,null,null,!0):C(K._vnode||null,U,K,null,null,null,W),fu(),Kc(),K._vnode=U},bt={p:C,um:Ut,m:Ct,r:ge,mt:Dt,mc:et,pc:dt,pbc:ut,n:at,o:e};let Rt,te;return n&&([Rt,te]=n(bt)),{render:vt,hydrate:Rt,createApp:zp(vt,Rt)}}function Ni({effect:e,update:n},o){e.allowRecurse=n.allowRecurse=o}function mh(e,n,o=!1){const s=e.children,l=n.children;if(Ft(s)&&Ft(l))for(let u=0;u<s.length;u++){const f=s[u];let d=l[u];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=l[u]=pi(l[u]),d.el=f.el),o||mh(f,d)),d.type===Rs&&(d.el=f.el)}}function Kp(e){const n=e.slice(),o=[0];let s,l,u,f,d;const m=e.length;for(s=0;s<m;s++){const _=e[s];if(_!==0){if(l=o[o.length-1],e[l]<_){n[s]=l,o.push(s);continue}for(u=0,f=o.length-1;u<f;)d=u+f>>1,e[o[d]]<_?u=d+1:f=d;_<e[o[u]]&&(u>0&&(n[s]=o[u-1]),o[u]=s)}}for(u=o.length,f=o[u-1];u-- >0;)o[u]=f,f=n[f];return o}const qp=e=>e.__isTeleport,_e=Symbol.for("v-fgt"),Rs=Symbol.for("v-txt"),mn=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),oo=[];let Ln=null;function Et(e=!1){oo.push(Ln=e?null:[])}function Wp(){oo.pop(),Ln=oo[oo.length-1]||null}let yo=1;function wu(e){yo+=e}function _h(e){return e.dynamicChildren=yo>0?Ln||pr:null,Wp(),yo>0&&Ln&&Ln.push(e),e}function Zt(e,n,o,s,l,u){return _h(At(e,n,o,s,l,u,!0))}function Te(e,n,o,s,l){return _h(Tt(e,n,o,s,l,!0))}function gs(e){return e?e.__v_isVNode===!0:!1}function Ui(e,n){return e.type===n.type&&e.key===n.key}const As="__vInternal",gh=({key:e})=>e??null,rs=({ref:e,ref_key:n,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||Oe(e)||Xt(e)?{i:Ve,r:e,k:n,f:!!o}:e:null);function At(e,n=null,o=null,s=0,l=null,u=e===_e?0:1,f=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&gh(n),ref:n&&rs(n),scopeId:Ss,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Ve};return d?(pl(m,o),u&128&&e.normalize(m)):o&&(m.shapeFlag|=Be(o)?8:16),yo>0&&!f&&Ln&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&Ln.push(m),m}const Tt=Jp;function Jp(e,n=null,o=null,s=0,l=null,u=!1){if((!e||e===Sp)&&(e=mn),gs(e)){const d=ki(e,n,!0);return o&&pl(d,o),yo>0&&!u&&Ln&&(d.shapeFlag&6?Ln[Ln.indexOf(e)]=d:Ln.push(d)),d.patchFlag|=-2,d}if(am(e)&&(e=e.__vccOpts),n){n=Yp(n);let{class:d,style:m}=n;d&&!Be(d)&&(n.class=Qn(d)),ke(m)&&(Fc(m)&&!Ft(m)&&(m=Re({},m)),n.style=Qa(m))}const f=Be(e)?1:fp(e)?128:qp(e)?64:ke(e)?4:Xt(e)?2:0;return At(e,n,o,s,l,f,u,!0)}function Yp(e){return e?Fc(e)||As in e?Re({},e):e:null}function ki(e,n,o=!1){const{props:s,ref:l,patchFlag:u,children:f}=e,d=n?Xp(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&gh(d),ref:n&&n.ref?o&&l?Ft(l)?l.concat(rs(n)):[l,rs(n)]:rs(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==_e?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ki(e.ssContent),ssFallback:e.ssFallback&&ki(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function yh(e=" ",n=0){return Tt(Rs,null,e,n)}function Le(e="",n=!1){return n?(Et(),Te(mn,null,e)):Tt(mn,null,e)}function An(e){return e==null||typeof e=="boolean"?Tt(mn):Ft(e)?Tt(_e,null,e.slice()):typeof e=="object"?pi(e):Tt(Rs,null,String(e))}function pi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ki(e)}function pl(e,n){let o=0;const{shapeFlag:s}=e;if(n==null)n=null;else if(Ft(n))o=16;else if(typeof n=="object")if(s&65){const l=n.default;l&&(l._c&&(l._d=!1),pl(e,l()),l._c&&(l._d=!0));return}else{o=32;const l=n._;!l&&!(As in n)?n._ctx=Ve:l===3&&Ve&&(Ve.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Xt(n)?(n={default:n,_ctx:Ve},o=32):(n=String(n),s&64?(o=16,n=[yh(n)]):o=8);e.children=n,e.shapeFlag|=o}function Xp(...e){const n={};for(let o=0;o<e.length;o++){const s=e[o];for(const l in s)if(l==="class")n.class!==s.class&&(n.class=Qn([n.class,s.class]));else if(l==="style")n.style=Qa([n.style,s.style]);else if(ks(l)){const u=n[l],f=s[l];f&&u!==f&&!(Ft(u)&&u.includes(f))&&(n[l]=u?[].concat(u,f):f)}else l!==""&&(n[l]=s[l])}return n}function Rn(e,n,o,s=null){pn(e,n,7,[o,s])}const Qp=uh();let tm=0;function em(e,n,o){const s=e.type,l=(n?n.appContext:e.appContext)||Qp,u={uid:tm++,vnode:e,type:s,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Mc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hh(s,l),emitsOptions:Wc(s,l),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:s.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=ap.bind(null,u),e.ce&&e.ce(u),u}let je=null;const vh=()=>je||Ve;let ml,hr,xu="__VUE_INSTANCE_SETTERS__";(hr=ka()[xu])||(hr=ka()[xu]=[]),hr.push(e=>je=e),ml=e=>{hr.length>1?hr.forEach(n=>n(e)):hr[0](e)};const vr=e=>{ml(e),e.scope.on()},Hi=()=>{je&&je.scope.off(),ml(null)};function bh(e){return e.vnode.shapeFlag&4}let vo=!1;function nm(e,n=!1){vo=n;const{props:o,children:s}=e.vnode,l=bh(e);Fp(e,o,l,n),Gp(e,s);const u=l?im(e,n):void 0;return vo=!1,u}function im(e,n){const o=e.type;e.accessCache=Object.create(null),e.proxy=Ps(new Proxy(e.ctx,Op));const{setup:s}=o;if(s){const l=e.setupContext=s.length>1?om(e):null;vr(e),Pr();const u=yi(s,e,0,[e.props,l]);if(Cr(),Hi(),bc(u)){if(u.then(Hi,Hi),n)return u.then(f=>{Mu(e,f,n)}).catch(f=>{Cs(f,e,0)});e.asyncDep=u}else Mu(e,u,n)}else Lh(e,n)}function Mu(e,n,o){Xt(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:ke(n)&&(e.setupState=Zc(n)),Lh(e,o)}let Pu;function Lh(e,n,o){const s=e.type;if(!e.render){if(!n&&Pu&&!s.render){const l=s.template||fl(e).template;if(l){const{isCustomElement:u,compilerOptions:f}=e.appContext.config,{delimiters:d,compilerOptions:m}=s,_=Re(Re({isCustomElement:u,delimiters:d},f),m);s.render=Pu(l,_)}}e.render=s.render||wn}vr(e),Pr(),Rp(e),Cr(),Hi()}function rm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(n,o){return nn(e,"get","$attrs"),n[o]}}))}function om(e){const n=o=>{e.exposed=o||{}};return{get attrs(){return rm(e)},slots:e.slots,emit:e.emit,expose:n}}function Is(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Zc(Ps(e.exposed)),{get(n,o){if(o in n)return n[o];if(o in ro)return ro[o](e)},has(n,o){return o in n||o in ro}}))}function sm(e,n=!0){return Xt(e)?e.displayName||e.name:e.name||n&&e.__name}function am(e){return Xt(e)&&"__vccOpts"in e}const $e=(e,n)=>ep(e,n,vo);function _l(e,n,o){const s=arguments.length;return s===2?ke(n)&&!Ft(n)?gs(n)?Tt(e,null,[n]):Tt(e,n):Tt(e,null,n):(s>3?o=Array.prototype.slice.call(arguments,2):s===3&&gs(o)&&(o=[o]),Tt(e,n,o))}const lm=Symbol.for("v-scx"),um=()=>Dn(lm),cm="3.3.4",hm="http://www.w3.org/2000/svg",Vi=typeof document<"u"?document:null,Cu=Vi&&Vi.createElement("template"),fm={insert:(e,n,o)=>{n.insertBefore(e,o||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,o,s)=>{const l=n?Vi.createElementNS(hm,e):Vi.createElement(e,o?{is:o}:void 0);return e==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:e=>Vi.createTextNode(e),createComment:e=>Vi.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vi.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,o,s,l,u){const f=o?o.previousSibling:n.lastChild;if(l&&(l===u||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),o),!(l===u||!(l=l.nextSibling)););else{Cu.innerHTML=s?`<svg>${e}</svg>`:e;const d=Cu.content;if(s){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}n.insertBefore(d,o)}return[f?f.nextSibling:n.firstChild,o?o.previousSibling:n.lastChild]}};function dm(e,n,o){const s=e._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?e.removeAttribute("class"):o?e.setAttribute("class",n):e.className=n}function pm(e,n,o){const s=e.style,l=Be(o);if(o&&!l){if(n&&!Be(n))for(const u in n)o[u]==null&&Ia(s,u,"");for(const u in o)Ia(s,u,o[u])}else{const u=s.display;l?n!==o&&(s.cssText=o):n&&e.removeAttribute("style"),"_vod"in e&&(s.display=u)}}const Eu=/\s*!important$/;function Ia(e,n,o){if(Ft(o))o.forEach(s=>Ia(e,n,s));else if(o==null&&(o=""),n.startsWith("--"))e.setProperty(n,o);else{const s=mm(e,n);Eu.test(o)?e.setProperty(Mr(s),o.replace(Eu,""),"important"):e[s]=o}}const Su=["Webkit","Moz","ms"],ca={};function mm(e,n){const o=ca[n];if(o)return o;let s=Nn(n);if(s!=="filter"&&s in e)return ca[n]=s;s=xs(s);for(let l=0;l<Su.length;l++){const u=Su[l]+s;if(u in e)return ca[n]=u}return n}const Tu="http://www.w3.org/1999/xlink";function _m(e,n,o,s,l){if(s&&n.startsWith("xlink:"))o==null?e.removeAttributeNS(Tu,n.slice(6,n.length)):e.setAttributeNS(Tu,n,o);else{const u=gd(n);o==null||u&&!wc(o)?e.removeAttribute(n):e.setAttribute(n,u?"":o)}}function gm(e,n,o,s,l,u,f){if(n==="innerHTML"||n==="textContent"){s&&f(s,l,u),e[n]=o??"";return}const d=e.tagName;if(n==="value"&&d!=="PROGRESS"&&!d.includes("-")){e._value=o;const _=d==="OPTION"?e.getAttribute("value"):e.value,y=o??"";_!==y&&(e.value=y),o==null&&e.removeAttribute(n);return}let m=!1;if(o===""||o==null){const _=typeof e[n];_==="boolean"?o=wc(o):o==null&&_==="string"?(o="",m=!0):_==="number"&&(o=0,m=!0)}try{e[n]=o}catch{}m&&e.removeAttribute(n)}function Yn(e,n,o,s){e.addEventListener(n,o,s)}function ym(e,n,o,s){e.removeEventListener(n,o,s)}function vm(e,n,o,s,l=null){const u=e._vei||(e._vei={}),f=u[n];if(s&&f)f.value=s;else{const[d,m]=bm(n);if(s){const _=u[n]=wm(s,l);Yn(e,d,_,m)}else f&&(ym(e,d,f,m),u[n]=void 0)}}const Ou=/(?:Once|Passive|Capture)$/;function bm(e){let n;if(Ou.test(e)){n={};let s;for(;s=e.match(Ou);)e=e.slice(0,e.length-s[0].length),n[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Mr(e.slice(2)),n]}let ha=0;const Lm=Promise.resolve(),km=()=>ha||(Lm.then(()=>ha=0),ha=Date.now());function wm(e,n){const o=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=o.attached)return;pn(xm(s,o.value),n,5,[s])};return o.value=e,o.attached=km(),o}function xm(e,n){if(Ft(n)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},n.map(s=>l=>!l._stopped&&s&&s(l))}else return n}const Ru=/^on[a-z]/,Mm=(e,n,o,s,l=!1,u,f,d,m)=>{n==="class"?dm(e,s,l):n==="style"?pm(e,o,s):ks(n)?Ja(n)||vm(e,n,o,s,f):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Pm(e,n,s,l))?gm(e,n,s,u,f,d,m):(n==="true-value"?e._trueValue=s:n==="false-value"&&(e._falseValue=s),_m(e,n,s,l))};function Pm(e,n,o,s){return s?!!(n==="innerHTML"||n==="textContent"||n in e&&Ru.test(n)&&Xt(o)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||Ru.test(n)&&Be(o)?!1:n in e}const ui="transition",Jr="animation",Bs=(e,{slots:n})=>_l(gp,Cm(e),n);Bs.displayName="Transition";const kh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bs.props=Re({},Xc,kh);const zi=(e,n=[])=>{Ft(e)?e.forEach(o=>o(...n)):e&&e(...n)},Au=e=>e?Ft(e)?e.some(n=>n.length>1):e.length>1:!1;function Cm(e){const n={};for(const it in e)it in kh||(n[it]=e[it]);if(e.css===!1)return n;const{name:o="v",type:s,duration:l,enterFromClass:u=`${o}-enter-from`,enterActiveClass:f=`${o}-enter-active`,enterToClass:d=`${o}-enter-to`,appearFromClass:m=u,appearActiveClass:_=f,appearToClass:y=d,leaveFromClass:x=`${o}-leave-from`,leaveActiveClass:M=`${o}-leave-active`,leaveToClass:B=`${o}-leave-to`}=e,E=Em(l),C=E&&E[0],F=E&&E[1],{onBeforeEnter:A,onEnter:D,onEnterCancelled:Z,onLeave:S,onLeaveCancelled:N,onBeforeAppear:q=A,onAppear:Q=D,onAppearCancelled:et=Z}=n,rt=(it,gt,Dt)=>{ji(it,gt?y:d),ji(it,gt?_:f),Dt&&Dt()},ut=(it,gt)=>{it._isLeaving=!1,ji(it,x),ji(it,B),ji(it,M),gt&&gt()},_t=it=>(gt,Dt)=>{const Pt=it?Q:D,Lt=()=>rt(gt,it,Dt);zi(Pt,[gt,Lt]),Iu(()=>{ji(gt,it?m:u),ci(gt,it?y:d),Au(Pt)||Bu(gt,s,C,Lt)})};return Re(n,{onBeforeEnter(it){zi(A,[it]),ci(it,u),ci(it,f)},onBeforeAppear(it){zi(q,[it]),ci(it,m),ci(it,_)},onEnter:_t(!1),onAppear:_t(!0),onLeave(it,gt){it._isLeaving=!0;const Dt=()=>ut(it,gt);ci(it,x),Om(),ci(it,M),Iu(()=>{it._isLeaving&&(ji(it,x),ci(it,B),Au(S)||Bu(it,s,F,Dt))}),zi(S,[it,Dt])},onEnterCancelled(it){rt(it,!1),zi(Z,[it])},onAppearCancelled(it){rt(it,!0),zi(et,[it])},onLeaveCancelled(it){ut(it),zi(N,[it])}})}function Em(e){if(e==null)return null;if(ke(e))return[fa(e.enter),fa(e.leave)];{const n=fa(e);return[n,n]}}function fa(e){return hd(e)}function ci(e,n){n.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(n)}function ji(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:o}=e;o&&(o.delete(n),o.size||(e._vtc=void 0))}function Iu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Sm=0;function Bu(e,n,o,s){const l=e._endId=++Sm,u=()=>{l===e._endId&&s()};if(o)return setTimeout(u,o);const{type:f,timeout:d,propCount:m}=Tm(e,n);if(!f)return s();const _=f+"end";let y=0;const x=()=>{e.removeEventListener(_,M),u()},M=B=>{B.target===e&&++y>=m&&x()};setTimeout(()=>{y<m&&x()},d+1),e.addEventListener(_,M)}function Tm(e,n){const o=window.getComputedStyle(e),s=E=>(o[E]||"").split(", "),l=s(`${ui}Delay`),u=s(`${ui}Duration`),f=Du(l,u),d=s(`${Jr}Delay`),m=s(`${Jr}Duration`),_=Du(d,m);let y=null,x=0,M=0;n===ui?f>0&&(y=ui,x=f,M=u.length):n===Jr?_>0&&(y=Jr,x=_,M=m.length):(x=Math.max(f,_),y=x>0?f>_?ui:Jr:null,M=y?y===ui?u.length:m.length:0);const B=y===ui&&/\b(transform|all)(,|$)/.test(s(`${ui}Property`).toString());return{type:y,timeout:x,propCount:M,hasTransform:B}}function Du(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((o,s)=>Nu(o)+Nu(e[s])))}function Nu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Om(){return document.body.offsetHeight}const wi=e=>{const n=e.props["onUpdate:modelValue"]||!1;return Ft(n)?o=>ns(n,o):n};function Rm(e){e.target.composing=!0}function zu(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Ba={created(e,{modifiers:{lazy:n,trim:o,number:s}},l){e._assign=wi(l);const u=s||l.props&&l.props.type==="number";Yn(e,n?"change":"input",f=>{if(f.target.composing)return;let d=e.value;o&&(d=d.trim()),u&&(d=hs(d)),e._assign(d)}),o&&Yn(e,"change",()=>{e.value=e.value.trim()}),n||(Yn(e,"compositionstart",Rm),Yn(e,"compositionend",zu),Yn(e,"change",zu))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,modifiers:{lazy:o,trim:s,number:l}},u){if(e._assign=wi(u),e.composing||document.activeElement===e&&e.type!=="range"&&(o||s&&e.value.trim()===n||(l||e.type==="number")&&hs(e.value)===n))return;const f=n??"";e.value!==f&&(e.value=f)}},Am={deep:!0,created(e,n,o){e._assign=wi(o),Yn(e,"change",()=>{const s=e._modelValue,l=br(e),u=e.checked,f=e._assign;if(Ft(s)){const d=tl(s,l),m=d!==-1;if(u&&!m)f(s.concat(l));else if(!u&&m){const _=[...s];_.splice(d,1),f(_)}}else if(xr(s)){const d=new Set(s);u?d.add(l):d.delete(l),f(d)}else f(xh(e,u))})},mounted:ju,beforeUpdate(e,n,o){e._assign=wi(o),ju(e,n,o)}};function ju(e,{value:n,oldValue:o},s){e._modelValue=n,Ft(n)?e.checked=tl(n,s.props.value)>-1:xr(n)?e.checked=n.has(s.props.value):n!==o&&(e.checked=Ki(n,xh(e,!0)))}const Im={created(e,{value:n},o){e.checked=Ki(n,o.props.value),e._assign=wi(o),Yn(e,"change",()=>{e._assign(br(e))})},beforeUpdate(e,{value:n,oldValue:o},s){e._assign=wi(s),n!==o&&(e.checked=Ki(n,s.props.value))}},wh={deep:!0,created(e,{value:n,modifiers:{number:o}},s){const l=xr(n);Yn(e,"change",()=>{const u=Array.prototype.filter.call(e.options,f=>f.selected).map(f=>o?hs(br(f)):br(f));e._assign(e.multiple?l?new Set(u):u:u[0])}),e._assign=wi(s)},mounted(e,{value:n}){Fu(e,n)},beforeUpdate(e,n,o){e._assign=wi(o)},updated(e,{value:n}){Fu(e,n)}};function Fu(e,n){const o=e.multiple;if(!(o&&!Ft(n)&&!xr(n))){for(let s=0,l=e.options.length;s<l;s++){const u=e.options[s],f=br(u);if(o)Ft(n)?u.selected=tl(n,f)>-1:u.selected=n.has(f);else if(Ki(br(u),n)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function br(e){return"_value"in e?e._value:e.value}function xh(e,n){const o=n?"_trueValue":"_falseValue";return o in e?e[o]:n}const Bm={created(e,n,o){Qo(e,n,o,null,"created")},mounted(e,n,o){Qo(e,n,o,null,"mounted")},beforeUpdate(e,n,o,s){Qo(e,n,o,s,"beforeUpdate")},updated(e,n,o,s){Qo(e,n,o,s,"updated")}};function Dm(e,n){switch(e){case"SELECT":return wh;case"TEXTAREA":return Ba;default:switch(n){case"checkbox":return Am;case"radio":return Im;default:return Ba}}}function Qo(e,n,o,s,l){const f=Dm(e.tagName,o.props&&o.props.type)[l];f&&f(e,n,o,s)}const Nm=["ctrl","shift","alt","meta"],zm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>Nm.some(o=>e[`${o}Key`]&&!n.includes(o))},da=(e,n)=>(o,...s)=>{for(let l=0;l<n.length;l++){const u=zm[n[l]];if(u&&u(o,n))return}return e(o,...s)},Mh={beforeMount(e,{value:n},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&n?o.beforeEnter(e):Yr(e,n)},mounted(e,{value:n},{transition:o}){o&&n&&o.enter(e)},updated(e,{value:n,oldValue:o},{transition:s}){!n!=!o&&(s?n?(s.beforeEnter(e),Yr(e,!0),s.enter(e)):s.leave(e,()=>{Yr(e,!1)}):Yr(e,n))},beforeUnmount(e,{value:n}){Yr(e,n)}};function Yr(e,n){e.style.display=n?e._vod:"none"}const jm=Re({patchProp:Mm},fm);let Uu;function Fm(){return Uu||(Uu=Hp(jm))}const Um=(...e)=>{const n=Fm().createApp(...e),{mount:o}=n;return n.mount=s=>{const l=Vm(s);if(!l)return;const u=n._component;!Xt(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.innerHTML="";const f=o(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),f},n};function Vm(e){return Be(e)?document.querySelector(e):e}var Gm=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Ph;const Ds=e=>Ph=e,Ch=Symbol();function Da(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var so;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(so||(so={}));function Zm(){const e=Pc(!0),n=e.run(()=>Nt({}));let o=[],s=[];const l=Ps({install(u){Ds(l),l._a=u,u.provide(Ch,l),u.config.globalProperties.$pinia=l,s.forEach(f=>o.push(f)),s=[]},use(u){return!this._a&&!Gm?s.push(u):o.push(u),this},_p:o,_a:null,_e:e,_s:new Map,state:n});return l}const Eh=()=>{};function Vu(e,n,o,s=Eh){e.push(n);const l=()=>{const u=e.indexOf(n);u>-1&&(e.splice(u,1),s())};return!o&&Cc()&&bd(l),l}function fr(e,...n){e.slice().forEach(o=>{o(...n)})}const Hm=e=>e();function Na(e,n){e instanceof Map&&n instanceof Map&&n.forEach((o,s)=>e.set(s,o)),e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const o in n){if(!n.hasOwnProperty(o))continue;const s=n[o],l=e[o];Da(l)&&Da(s)&&e.hasOwnProperty(o)&&!Oe(s)&&!gi(s)?e[o]=Na(l,s):e[o]=s}return e}const $m=Symbol();function Km(e){return!Da(e)||!e.hasOwnProperty($m)}const{assign:di}=Object;function qm(e){return!!(Oe(e)&&e.effect)}function Wm(e,n,o,s){const{state:l,actions:u,getters:f}=n,d=o.state.value[e];let m;function _(){d||(o.state.value[e]=l?l():{});const y=Yd(o.state.value[e]);return di(y,u,Object.keys(f||{}).reduce((x,M)=>(x[M]=Ps($e(()=>{Ds(o);const B=o._s.get(e);return f[M].call(B,B)})),x),{}))}return m=Sh(e,_,n,o,s,!0),m}function Sh(e,n,o={},s,l,u){let f;const d=di({actions:{}},o),m={deep:!0};let _,y,x=[],M=[],B;const E=s.state.value[e];!u&&!E&&(s.state.value[e]={}),Nt({});let C;function F(et){let rt;_=y=!1,typeof et=="function"?(et(s.state.value[e]),rt={type:so.patchFunction,storeId:e,events:B}):(Na(s.state.value[e],et),rt={type:so.patchObject,payload:et,storeId:e,events:B});const ut=C=Symbol();ul().then(()=>{C===ut&&(_=!0)}),y=!0,fr(x,rt,s.state.value[e])}const A=u?function(){const{state:rt}=o,ut=rt?rt():{};this.$patch(_t=>{di(_t,ut)})}:Eh;function D(){f.stop(),x=[],M=[],s._s.delete(e)}function Z(et,rt){return function(){Ds(s);const ut=Array.from(arguments),_t=[],it=[];function gt(Lt){_t.push(Lt)}function Dt(Lt){it.push(Lt)}fr(M,{args:ut,name:et,store:N,after:gt,onError:Dt});let Pt;try{Pt=rt.apply(this&&this.$id===e?this:N,ut)}catch(Lt){throw fr(it,Lt),Lt}return Pt instanceof Promise?Pt.then(Lt=>(fr(_t,Lt),Lt)).catch(Lt=>(fr(it,Lt),Promise.reject(Lt))):(fr(_t,Pt),Pt)}}const S={_p:s,$id:e,$onAction:Vu.bind(null,M),$patch:F,$reset:A,$subscribe(et,rt={}){const ut=Vu(x,et,rt.detached,()=>_t()),_t=f.run(()=>Bn(()=>s.state.value[e],it=>{(rt.flush==="sync"?y:_)&&et({storeId:e,type:so.direct,events:B},it)},di({},m,rt)));return ut},$dispose:D},N=wo(S);s._s.set(e,N);const q=s._a&&s._a.runWithContext||Hm,Q=s._e.run(()=>(f=Pc(),q(()=>f.run(n))));for(const et in Q){const rt=Q[et];if(Oe(rt)&&!qm(rt)||gi(rt))u||(E&&Km(rt)&&(Oe(rt)?rt.value=E[et]:Na(rt,E[et])),s.state.value[e][et]=rt);else if(typeof rt=="function"){const ut=Z(et,rt);Q[et]=ut,d.actions[et]=rt}}return di(N,Q),di(se(N),Q),Object.defineProperty(N,"$state",{get:()=>s.state.value[e],set:et=>{F(rt=>{di(rt,et)})}}),s._p.forEach(et=>{di(N,f.run(()=>et({store:N,app:s._a,pinia:s,options:d})))}),E&&u&&o.hydrate&&o.hydrate(N.$state,E),_=!0,y=!0,N}function Th(e,n,o){let s,l;const u=typeof n=="function";typeof e=="string"?(s=e,l=u?o:n):(l=e,s=e.id);function f(d,m){const _=jp();return d=d||(_?Dn(Ch,null):null),d&&Ds(d),d=Ph,d._s.has(s)||(u?Sh(s,n,l,d):Wm(s,l,d)),d._s.get(s)}return f.$id=s,f}function Oh(e,n){return function(){return e.apply(n,arguments)}}const{toString:Jm}=Object.prototype,{getPrototypeOf:gl}=Object,Ns=(e=>n=>{const o=Jm.call(n);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),jn=e=>(e=e.toLowerCase(),n=>Ns(n)===e),zs=e=>n=>typeof n===e,{isArray:Or}=Array,bo=zs("undefined");function Ym(e){return e!==null&&!bo(e)&&e.constructor!==null&&!bo(e.constructor)&&_n(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Rh=jn("ArrayBuffer");function Xm(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Rh(e.buffer),n}const Qm=zs("string"),_n=zs("function"),Ah=zs("number"),js=e=>e!==null&&typeof e=="object",t_=e=>e===!0||e===!1,os=e=>{if(Ns(e)!=="object")return!1;const n=gl(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},e_=jn("Date"),n_=jn("File"),i_=jn("Blob"),r_=jn("FileList"),o_=e=>js(e)&&_n(e.pipe),s_=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||_n(e.append)&&((n=Ns(e))==="formdata"||n==="object"&&_n(e.toString)&&e.toString()==="[object FormData]"))},a_=jn("URLSearchParams"),l_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xo(e,n,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),Or(e))for(s=0,l=e.length;s<l;s++)n.call(null,e[s],s,e);else{const u=o?Object.getOwnPropertyNames(e):Object.keys(e),f=u.length;let d;for(s=0;s<f;s++)d=u[s],n.call(null,e[d],d,e)}}function Ih(e,n){n=n.toLowerCase();const o=Object.keys(e);let s=o.length,l;for(;s-- >0;)if(l=o[s],n===l.toLowerCase())return l;return null}const Bh=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Dh=e=>!bo(e)&&e!==Bh;function za(){const{caseless:e}=Dh(this)&&this||{},n={},o=(s,l)=>{const u=e&&Ih(n,l)||l;os(n[u])&&os(s)?n[u]=za(n[u],s):os(s)?n[u]=za({},s):Or(s)?n[u]=s.slice():n[u]=s};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&xo(arguments[s],o);return n}const u_=(e,n,o,{allOwnKeys:s}={})=>(xo(n,(l,u)=>{o&&_n(l)?e[u]=Oh(l,o):e[u]=l},{allOwnKeys:s}),e),c_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),h_=(e,n,o,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),o&&Object.assign(e.prototype,o)},f_=(e,n,o,s)=>{let l,u,f;const d={};if(n=n||{},e==null)return n;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)f=l[u],(!s||s(f,e,n))&&!d[f]&&(n[f]=e[f],d[f]=!0);e=o!==!1&&gl(e)}while(e&&(!o||o(e,n))&&e!==Object.prototype);return n},d_=(e,n,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=n.length;const s=e.indexOf(n,o);return s!==-1&&s===o},p_=e=>{if(!e)return null;if(Or(e))return e;let n=e.length;if(!Ah(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=e[n];return o},m_=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&gl(Uint8Array)),__=(e,n)=>{const s=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=s.next())&&!l.done;){const u=l.value;n.call(e,u[0],u[1])}},g_=(e,n)=>{let o;const s=[];for(;(o=e.exec(n))!==null;)s.push(o);return s},y_=jn("HTMLFormElement"),v_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,s,l){return s.toUpperCase()+l}),Gu=(({hasOwnProperty:e})=>(n,o)=>e.call(n,o))(Object.prototype),b_=jn("RegExp"),Nh=(e,n)=>{const o=Object.getOwnPropertyDescriptors(e),s={};xo(o,(l,u)=>{let f;(f=n(l,u,e))!==!1&&(s[u]=f||l)}),Object.defineProperties(e,s)},L_=e=>{Nh(e,(n,o)=>{if(_n(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const s=e[o];if(_n(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},k_=(e,n)=>{const o={},s=l=>{l.forEach(u=>{o[u]=!0})};return Or(e)?s(e):s(String(e).split(n)),o},w_=()=>{},x_=(e,n)=>(e=+e,Number.isFinite(e)?e:n),pa="abcdefghijklmnopqrstuvwxyz",Zu="0123456789",zh={DIGIT:Zu,ALPHA:pa,ALPHA_DIGIT:pa+pa.toUpperCase()+Zu},M_=(e=16,n=zh.ALPHA_DIGIT)=>{let o="";const{length:s}=n;for(;e--;)o+=n[Math.random()*s|0];return o};function P_(e){return!!(e&&_n(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const C_=e=>{const n=new Array(10),o=(s,l)=>{if(js(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[l]=s;const u=Or(s)?[]:{};return xo(s,(f,d)=>{const m=o(f,l+1);!bo(m)&&(u[d]=m)}),n[l]=void 0,u}}return s};return o(e,0)},E_=jn("AsyncFunction"),S_=e=>e&&(js(e)||_n(e))&&_n(e.then)&&_n(e.catch),ht={isArray:Or,isArrayBuffer:Rh,isBuffer:Ym,isFormData:s_,isArrayBufferView:Xm,isString:Qm,isNumber:Ah,isBoolean:t_,isObject:js,isPlainObject:os,isUndefined:bo,isDate:e_,isFile:n_,isBlob:i_,isRegExp:b_,isFunction:_n,isStream:o_,isURLSearchParams:a_,isTypedArray:m_,isFileList:r_,forEach:xo,merge:za,extend:u_,trim:l_,stripBOM:c_,inherits:h_,toFlatObject:f_,kindOf:Ns,kindOfTest:jn,endsWith:d_,toArray:p_,forEachEntry:__,matchAll:g_,isHTMLForm:y_,hasOwnProperty:Gu,hasOwnProp:Gu,reduceDescriptors:Nh,freezeMethods:L_,toObjectSet:k_,toCamelCase:v_,noop:w_,toFiniteNumber:x_,findKey:Ih,global:Bh,isContextDefined:Dh,ALPHABET:zh,generateString:M_,isSpecCompliantForm:P_,toJSONObject:C_,isAsyncFn:E_,isThenable:S_};function le(e,n,o,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),s&&(this.request=s),l&&(this.response=l)}ht.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ht.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jh=le.prototype,Fh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fh[e]={value:e}});Object.defineProperties(le,Fh);Object.defineProperty(jh,"isAxiosError",{value:!0});le.from=(e,n,o,s,l,u)=>{const f=Object.create(jh);return ht.toFlatObject(e,f,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),le.call(f,e.message,n,o,s,l),f.cause=e,f.name=e.name,u&&Object.assign(f,u),f};const T_=null;function ja(e){return ht.isPlainObject(e)||ht.isArray(e)}function Uh(e){return ht.endsWith(e,"[]")?e.slice(0,-2):e}function Hu(e,n,o){return e?e.concat(n).map(function(l,u){return l=Uh(l),!o&&u?"["+l+"]":l}).join(o?".":""):n}function O_(e){return ht.isArray(e)&&!e.some(ja)}const R_=ht.toFlatObject(ht,{},null,function(n){return/^is[A-Z]/.test(n)});function Fs(e,n,o){if(!ht.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,o=ht.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,F){return!ht.isUndefined(F[C])});const s=o.metaTokens,l=o.visitor||y,u=o.dots,f=o.indexes,m=(o.Blob||typeof Blob<"u"&&Blob)&&ht.isSpecCompliantForm(n);if(!ht.isFunction(l))throw new TypeError("visitor must be a function");function _(E){if(E===null)return"";if(ht.isDate(E))return E.toISOString();if(!m&&ht.isBlob(E))throw new le("Blob is not supported. Use a Buffer instead.");return ht.isArrayBuffer(E)||ht.isTypedArray(E)?m&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function y(E,C,F){let A=E;if(E&&!F&&typeof E=="object"){if(ht.endsWith(C,"{}"))C=s?C:C.slice(0,-2),E=JSON.stringify(E);else if(ht.isArray(E)&&O_(E)||(ht.isFileList(E)||ht.endsWith(C,"[]"))&&(A=ht.toArray(E)))return C=Uh(C),A.forEach(function(Z,S){!(ht.isUndefined(Z)||Z===null)&&n.append(f===!0?Hu([C],S,u):f===null?C:C+"[]",_(Z))}),!1}return ja(E)?!0:(n.append(Hu(F,C,u),_(E)),!1)}const x=[],M=Object.assign(R_,{defaultVisitor:y,convertValue:_,isVisitable:ja});function B(E,C){if(!ht.isUndefined(E)){if(x.indexOf(E)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(E),ht.forEach(E,function(A,D){(!(ht.isUndefined(A)||A===null)&&l.call(n,A,ht.isString(D)?D.trim():D,C,M))===!0&&B(A,C?C.concat(D):[D])}),x.pop()}}if(!ht.isObject(e))throw new TypeError("data must be an object");return B(e),n}function $u(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function yl(e,n){this._pairs=[],e&&Fs(e,this,n)}const Vh=yl.prototype;Vh.append=function(n,o){this._pairs.push([n,o])};Vh.toString=function(n){const o=n?function(s){return n.call(this,s,$u)}:$u;return this._pairs.map(function(l){return o(l[0])+"="+o(l[1])},"").join("&")};function A_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gh(e,n,o){if(!n)return e;const s=o&&o.encode||A_,l=o&&o.serialize;let u;if(l?u=l(n,o):u=ht.isURLSearchParams(n)?n.toString():new yl(n,o).toString(s),u){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class I_{constructor(){this.handlers=[]}use(n,o,s){return this.handlers.push({fulfilled:n,rejected:o,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ht.forEach(this.handlers,function(s){s!==null&&n(s)})}}const Ku=I_,Zh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B_=typeof URLSearchParams<"u"?URLSearchParams:yl,D_=typeof FormData<"u"?FormData:null,N_=typeof Blob<"u"?Blob:null,z_=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),j_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),kn={isBrowser:!0,classes:{URLSearchParams:B_,FormData:D_,Blob:N_},isStandardBrowserEnv:z_,isStandardBrowserWebWorkerEnv:j_,protocols:["http","https","file","blob","url","data"]};function F_(e,n){return Fs(e,new kn.classes.URLSearchParams,Object.assign({visitor:function(o,s,l,u){return kn.isNode&&ht.isBuffer(o)?(this.append(s,o.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},n))}function U_(e){return ht.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function V_(e){const n={},o=Object.keys(e);let s;const l=o.length;let u;for(s=0;s<l;s++)u=o[s],n[u]=e[u];return n}function Hh(e){function n(o,s,l,u){let f=o[u++];const d=Number.isFinite(+f),m=u>=o.length;return f=!f&&ht.isArray(l)?l.length:f,m?(ht.hasOwnProp(l,f)?l[f]=[l[f],s]:l[f]=s,!d):((!l[f]||!ht.isObject(l[f]))&&(l[f]=[]),n(o,s,l[f],u)&&ht.isArray(l[f])&&(l[f]=V_(l[f])),!d)}if(ht.isFormData(e)&&ht.isFunction(e.entries)){const o={};return ht.forEachEntry(e,(s,l)=>{n(U_(s),l,o,0)}),o}return null}function G_(e,n,o){if(ht.isString(e))try{return(n||JSON.parse)(e),ht.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(o||JSON.stringify)(e)}const vl={transitional:Zh,adapter:kn.isNode?"http":"xhr",transformRequest:[function(n,o){const s=o.getContentType()||"",l=s.indexOf("application/json")>-1,u=ht.isObject(n);if(u&&ht.isHTMLForm(n)&&(n=new FormData(n)),ht.isFormData(n))return l&&l?JSON.stringify(Hh(n)):n;if(ht.isArrayBuffer(n)||ht.isBuffer(n)||ht.isStream(n)||ht.isFile(n)||ht.isBlob(n))return n;if(ht.isArrayBufferView(n))return n.buffer;if(ht.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return F_(n,this.formSerializer).toString();if((d=ht.isFileList(n))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Fs(d?{"files[]":n}:n,m&&new m,this.formSerializer)}}return u||l?(o.setContentType("application/json",!1),G_(n)):n}],transformResponse:[function(n){const o=this.transitional||vl.transitional,s=o&&o.forcedJSONParsing,l=this.responseType==="json";if(n&&ht.isString(n)&&(s&&!this.responseType||l)){const f=!(o&&o.silentJSONParsing)&&l;try{return JSON.parse(n)}catch(d){if(f)throw d.name==="SyntaxError"?le.from(d,le.ERR_BAD_RESPONSE,this,null,this.response):d}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kn.classes.FormData,Blob:kn.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ht.forEach(["delete","get","head","post","put","patch"],e=>{vl.headers[e]={}});const bl=vl,Z_=ht.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H_=e=>{const n={};let o,s,l;return e&&e.split(`
`).forEach(function(f){l=f.indexOf(":"),o=f.substring(0,l).trim().toLowerCase(),s=f.substring(l+1).trim(),!(!o||n[o]&&Z_[o])&&(o==="set-cookie"?n[o]?n[o].push(s):n[o]=[s]:n[o]=n[o]?n[o]+", "+s:s)}),n},qu=Symbol("internals");function Xr(e){return e&&String(e).trim().toLowerCase()}function ss(e){return e===!1||e==null?e:ht.isArray(e)?e.map(ss):String(e)}function $_(e){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=o.exec(e);)n[s[1]]=s[2];return n}const K_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ma(e,n,o,s,l){if(ht.isFunction(s))return s.call(this,n,o);if(l&&(n=o),!!ht.isString(n)){if(ht.isString(s))return n.indexOf(s)!==-1;if(ht.isRegExp(s))return s.test(n)}}function q_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,s)=>o.toUpperCase()+s)}function W_(e,n){const o=ht.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+o,{value:function(l,u,f){return this[s].call(this,n,l,u,f)},configurable:!0})})}let Us=class{constructor(n){n&&this.set(n)}set(n,o,s){const l=this;function u(d,m,_){const y=Xr(m);if(!y)throw new Error("header name must be a non-empty string");const x=ht.findKey(l,y);(!x||l[x]===void 0||_===!0||_===void 0&&l[x]!==!1)&&(l[x||m]=ss(d))}const f=(d,m)=>ht.forEach(d,(_,y)=>u(_,y,m));return ht.isPlainObject(n)||n instanceof this.constructor?f(n,o):ht.isString(n)&&(n=n.trim())&&!K_(n)?f(H_(n),o):n!=null&&u(o,n,s),this}get(n,o){if(n=Xr(n),n){const s=ht.findKey(this,n);if(s){const l=this[s];if(!o)return l;if(o===!0)return $_(l);if(ht.isFunction(o))return o.call(this,l,s);if(ht.isRegExp(o))return o.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=Xr(n),n){const s=ht.findKey(this,n);return!!(s&&this[s]!==void 0&&(!o||ma(this,this[s],s,o)))}return!1}delete(n,o){const s=this;let l=!1;function u(f){if(f=Xr(f),f){const d=ht.findKey(s,f);d&&(!o||ma(s,s[d],d,o))&&(delete s[d],l=!0)}}return ht.isArray(n)?n.forEach(u):u(n),l}clear(n){const o=Object.keys(this);let s=o.length,l=!1;for(;s--;){const u=o[s];(!n||ma(this,this[u],u,n,!0))&&(delete this[u],l=!0)}return l}normalize(n){const o=this,s={};return ht.forEach(this,(l,u)=>{const f=ht.findKey(s,u);if(f){o[f]=ss(l),delete o[u];return}const d=n?q_(u):String(u).trim();d!==u&&delete o[u],o[d]=ss(l),s[d]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return ht.forEach(this,(s,l)=>{s!=null&&s!==!1&&(o[l]=n&&ht.isArray(s)?s.join(", "):s)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const s=new this(n);return o.forEach(l=>s.set(l)),s}static accessor(n){const s=(this[qu]=this[qu]={accessors:{}}).accessors,l=this.prototype;function u(f){const d=Xr(f);s[d]||(W_(l,f),s[d]=!0)}return ht.isArray(n)?n.forEach(u):u(n),this}};Us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ht.reduceDescriptors(Us.prototype,({value:e},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[o]=s}}});ht.freezeMethods(Us);const Xn=Us;function _a(e,n){const o=this||bl,s=n||o,l=Xn.from(s.headers);let u=s.data;return ht.forEach(e,function(d){u=d.call(o,u,l.normalize(),n?n.status:void 0)}),l.normalize(),u}function $h(e){return!!(e&&e.__CANCEL__)}function Mo(e,n,o){le.call(this,e??"canceled",le.ERR_CANCELED,n,o),this.name="CanceledError"}ht.inherits(Mo,le,{__CANCEL__:!0});function J_(e,n,o){const s=o.config.validateStatus;!o.status||!s||s(o.status)?e(o):n(new le("Request failed with status code "+o.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const Y_=kn.isStandardBrowserEnv?function(){return{write:function(o,s,l,u,f,d){const m=[];m.push(o+"="+encodeURIComponent(s)),ht.isNumber(l)&&m.push("expires="+new Date(l).toGMTString()),ht.isString(u)&&m.push("path="+u),ht.isString(f)&&m.push("domain="+f),d===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){const s=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function X_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Q_(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}function Kh(e,n){return e&&!X_(n)?Q_(e,n):n}const tg=kn.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let s;function l(u){let f=u;return n&&(o.setAttribute("href",f),f=o.href),o.setAttribute("href",f),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return s=l(window.location.href),function(f){const d=ht.isString(f)?l(f):f;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}();function eg(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function ng(e,n){e=e||10;const o=new Array(e),s=new Array(e);let l=0,u=0,f;return n=n!==void 0?n:1e3,function(m){const _=Date.now(),y=s[u];f||(f=_),o[l]=m,s[l]=_;let x=u,M=0;for(;x!==l;)M+=o[x++],x=x%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),_-f<n)return;const B=y&&_-y;return B?Math.round(M*1e3/B):void 0}}function Wu(e,n){let o=0;const s=ng(50,250);return l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,d=u-o,m=s(d),_=u<=f;o=u;const y={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:m||void 0,estimated:m&&f&&_?(f-u)/m:void 0,event:l};y[n?"download":"upload"]=!0,e(y)}}const ig=typeof XMLHttpRequest<"u",rg=ig&&function(e){return new Promise(function(o,s){let l=e.data;const u=Xn.from(e.headers).normalize(),f=e.responseType;let d;function m(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}ht.isFormData(l)&&(kn.isStandardBrowserEnv||kn.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let _=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(B+":"+E))}const y=Kh(e.baseURL,e.url);_.open(e.method.toUpperCase(),Gh(y,e.params,e.paramsSerializer),!0),_.timeout=e.timeout;function x(){if(!_)return;const B=Xn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!f||f==="text"||f==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:B,config:e,request:_};J_(function(A){o(A),m()},function(A){s(A),m()},C),_=null}if("onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(x)},_.onabort=function(){_&&(s(new le("Request aborted",le.ECONNABORTED,e,_)),_=null)},_.onerror=function(){s(new le("Network Error",le.ERR_NETWORK,e,_)),_=null},_.ontimeout=function(){let E=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const C=e.transitional||Zh;e.timeoutErrorMessage&&(E=e.timeoutErrorMessage),s(new le(E,C.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,e,_)),_=null},kn.isStandardBrowserEnv){const B=(e.withCredentials||tg(y))&&e.xsrfCookieName&&Y_.read(e.xsrfCookieName);B&&u.set(e.xsrfHeaderName,B)}l===void 0&&u.setContentType(null),"setRequestHeader"in _&&ht.forEach(u.toJSON(),function(E,C){_.setRequestHeader(C,E)}),ht.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),f&&f!=="json"&&(_.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&_.addEventListener("progress",Wu(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",Wu(e.onUploadProgress)),(e.cancelToken||e.signal)&&(d=B=>{_&&(s(!B||B.type?new Mo(null,e,_):B),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d)));const M=eg(y);if(M&&kn.protocols.indexOf(M)===-1){s(new le("Unsupported protocol "+M+":",le.ERR_BAD_REQUEST,e));return}_.send(l||null)})},as={http:T_,xhr:rg};ht.forEach(as,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const qh={getAdapter:e=>{e=ht.isArray(e)?e:[e];const{length:n}=e;let o,s;for(let l=0;l<n&&(o=e[l],!(s=ht.isString(o)?as[o.toLowerCase()]:o));l++);if(!s)throw s===!1?new le(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ht.hasOwnProp(as,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!ht.isFunction(s))throw new TypeError("adapter is not a function");return s},adapters:as};function ga(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mo(null,e)}function Ju(e){return ga(e),e.headers=Xn.from(e.headers),e.data=_a.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qh.getAdapter(e.adapter||bl.adapter)(e).then(function(s){return ga(e),s.data=_a.call(e,e.transformResponse,s),s.headers=Xn.from(s.headers),s},function(s){return $h(s)||(ga(e),s&&s.response&&(s.response.data=_a.call(e,e.transformResponse,s.response),s.response.headers=Xn.from(s.response.headers))),Promise.reject(s)})}const Yu=e=>e instanceof Xn?e.toJSON():e;function Lr(e,n){n=n||{};const o={};function s(_,y,x){return ht.isPlainObject(_)&&ht.isPlainObject(y)?ht.merge.call({caseless:x},_,y):ht.isPlainObject(y)?ht.merge({},y):ht.isArray(y)?y.slice():y}function l(_,y,x){if(ht.isUndefined(y)){if(!ht.isUndefined(_))return s(void 0,_,x)}else return s(_,y,x)}function u(_,y){if(!ht.isUndefined(y))return s(void 0,y)}function f(_,y){if(ht.isUndefined(y)){if(!ht.isUndefined(_))return s(void 0,_)}else return s(void 0,y)}function d(_,y,x){if(x in n)return s(_,y);if(x in e)return s(void 0,_)}const m={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d,headers:(_,y)=>l(Yu(_),Yu(y),!0)};return ht.forEach(Object.keys(Object.assign({},e,n)),function(y){const x=m[y]||l,M=x(e[y],n[y],y);ht.isUndefined(M)&&x!==d||(o[y]=M)}),o}const Wh="1.5.0",Ll={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Ll[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const Xu={};Ll.transitional=function(n,o,s){function l(u,f){return"[Axios v"+Wh+"] Transitional option '"+u+"'"+f+(s?". "+s:"")}return(u,f,d)=>{if(n===!1)throw new le(l(f," has been removed"+(o?" in "+o:"")),le.ERR_DEPRECATED);return o&&!Xu[f]&&(Xu[f]=!0,console.warn(l(f," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(u,f,d):!0}};function og(e,n,o){if(typeof e!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const u=s[l],f=n[u];if(f){const d=e[u],m=d===void 0||f(d,u,e);if(m!==!0)throw new le("option "+u+" must be "+m,le.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new le("Unknown option "+u,le.ERR_BAD_OPTION)}}const Fa={assertOptions:og,validators:Ll},hi=Fa.validators;let ys=class{constructor(n){this.defaults=n,this.interceptors={request:new Ku,response:new Ku}}request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=Lr(this.defaults,o);const{transitional:s,paramsSerializer:l,headers:u}=o;s!==void 0&&Fa.assertOptions(s,{silentJSONParsing:hi.transitional(hi.boolean),forcedJSONParsing:hi.transitional(hi.boolean),clarifyTimeoutError:hi.transitional(hi.boolean)},!1),l!=null&&(ht.isFunction(l)?o.paramsSerializer={serialize:l}:Fa.assertOptions(l,{encode:hi.function,serialize:hi.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let f=u&&ht.merge(u.common,u[o.method]);u&&ht.forEach(["delete","get","head","post","put","patch","common"],E=>{delete u[E]}),o.headers=Xn.concat(f,u);const d=[];let m=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(o)===!1||(m=m&&C.synchronous,d.unshift(C.fulfilled,C.rejected))});const _=[];this.interceptors.response.forEach(function(C){_.push(C.fulfilled,C.rejected)});let y,x=0,M;if(!m){const E=[Ju.bind(this),void 0];for(E.unshift.apply(E,d),E.push.apply(E,_),M=E.length,y=Promise.resolve(o);x<M;)y=y.then(E[x++],E[x++]);return y}M=d.length;let B=o;for(x=0;x<M;){const E=d[x++],C=d[x++];try{B=E(B)}catch(F){C.call(this,F);break}}try{y=Ju.call(this,B)}catch(E){return Promise.reject(E)}for(x=0,M=_.length;x<M;)y=y.then(_[x++],_[x++]);return y}getUri(n){n=Lr(this.defaults,n);const o=Kh(n.baseURL,n.url);return Gh(o,n.params,n.paramsSerializer)}};ht.forEach(["delete","get","head","options"],function(n){ys.prototype[n]=function(o,s){return this.request(Lr(s||{},{method:n,url:o,data:(s||{}).data}))}});ht.forEach(["post","put","patch"],function(n){function o(s){return function(u,f,d){return this.request(Lr(d||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ys.prototype[n]=o(),ys.prototype[n+"Form"]=o(!0)});const ls=ys;let sg=class Jh{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(u){o=u});const s=this;this.promise.then(l=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](l);s._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(d=>{s.subscribe(d),u=d}).then(l);return f.cancel=function(){s.unsubscribe(u)},f},n(function(u,f,d){s.reason||(s.reason=new Mo(u,f,d),o(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}static source(){let n;return{token:new Jh(function(l){n=l}),cancel:n}}};const ag=sg;function lg(e){return function(o){return e.apply(null,o)}}function ug(e){return ht.isObject(e)&&e.isAxiosError===!0}const Ua={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ua).forEach(([e,n])=>{Ua[n]=e});const cg=Ua;function Yh(e){const n=new ls(e),o=Oh(ls.prototype.request,n);return ht.extend(o,ls.prototype,n,{allOwnKeys:!0}),ht.extend(o,n,null,{allOwnKeys:!0}),o.create=function(l){return Yh(Lr(e,l))},o}const De=Yh(bl);De.Axios=ls;De.CanceledError=Mo;De.CancelToken=ag;De.isCancel=$h;De.VERSION=Wh;De.toFormData=Fs;De.AxiosError=le;De.Cancel=De.CanceledError;De.all=function(n){return Promise.all(n)};De.spread=lg;De.isAxiosError=ug;De.mergeConfig=Lr;De.AxiosHeaders=Xn;De.formToJSON=e=>Hh(ht.isHTMLForm(e)?new FormData(e):e);De.getAdapter=qh.getAdapter;De.HttpStatusCode=cg;De.default=De;const gr=De,{Axios:hg,AxiosError:fg,CanceledError:dg,isCancel:pg,CancelToken:mg,VERSION:_g,all:gg,Cancel:yg,isAxiosError:vg,spread:bg,toFormData:Lg,AxiosHeaders:kg,HttpStatusCode:wg,formToJSON:xg,getAdapter:Mg,mergeConfig:Pg}=gr,Cg=Object.freeze(Object.defineProperty({__proto__:null,Axios:hg,AxiosError:fg,AxiosHeaders:kg,Cancel:yg,CancelToken:mg,CanceledError:dg,HttpStatusCode:wg,VERSION:_g,all:gg,default:gr,formToJSON:xg,getAdapter:Mg,isAxiosError:vg,isCancel:pg,mergeConfig:Pg,spread:bg,toFormData:Lg},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function ts(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)e[s]=o[s]}return e}var Eg={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Va(e,n){function o(l,u,f){if(!(typeof document>"u")){f=ts({},n,f),typeof f.expires=="number"&&(f.expires=new Date(Date.now()+f.expires*864e5)),f.expires&&(f.expires=f.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var m in f)f[m]&&(d+="; "+m,f[m]!==!0&&(d+="="+f[m].split(";")[0]));return document.cookie=l+"="+e.write(u,l)+d}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var u=document.cookie?document.cookie.split("; "):[],f={},d=0;d<u.length;d++){var m=u[d].split("="),_=m.slice(1).join("=");try{var y=decodeURIComponent(m[0]);if(f[y]=e.read(_,y),l===y)break}catch{}}return l?f[l]:f}}return Object.create({set:o,get:s,remove:function(l,u){o(l,"",ts({},u,{expires:-1}))},withAttributes:function(l){return Va(this.converter,ts({},this.attributes,l))},withConverter:function(l){return Va(ts({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var vs=Va(Eg,{path:"/"}),Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Tg(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var o=function s(){return this instanceof s?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var l=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(o,s,l.get?l:{enumerable:!0,get:function(){return e[s]}})}),o}var Qh={exports:{}};const Og=Tg(Cg);(function(e,n){(function(o,s){e.exports=s(Og)})(Xh,function(o){return function(){var s={593:function(d,m,_){Object.defineProperty(m,"__esModule",{value:!0}),m.resendFailedRequest=m.getRetryInstance=m.unsetCache=m.createRequestQueueInterceptor=m.createRefreshCall=m.shouldInterceptError=m.mergeOptions=m.defaultOptions=void 0;const y=_(300);m.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},m.mergeOptions=function(x,M){return Object.assign(Object.assign(Object.assign({},x),{pauseInstanceWhileRefreshing:M.skipWhileRefreshing}),M)},m.shouldInterceptError=function(x,M,B,E){var C,F;return!!x&&!(!((C=x.config)===null||C===void 0)&&C.skipAuthRefresh)&&!!(M.interceptNetworkError&&!x.response&&x.request.status===0||x.response&&(M!=null&&M.shouldRefresh?M.shouldRefresh(x):!((F=M.statusCodes)===null||F===void 0)&&F.includes(parseInt(x.response.status))))&&(x.response||(x.response={config:x.config}),!M.pauseInstanceWhileRefreshing||!E.skipInstances.includes(B))},m.createRefreshCall=function(x,M,B){return B.refreshCall||(B.refreshCall=M(x),typeof B.refreshCall.then=="function")?B.refreshCall:(console.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},m.createRequestQueueInterceptor=function(x,M,B){return M.requestQueueInterceptorId===void 0&&(M.requestQueueInterceptorId=x.interceptors.request.use(E=>M.refreshCall.catch(()=>{throw new y.default.Cancel("Request call failed")}).then(()=>B.onRetry?B.onRetry(E):E))),M.requestQueueInterceptorId},m.unsetCache=function(x,M){x.interceptors.request.eject(M.requestQueueInterceptorId),M.requestQueueInterceptorId=void 0,M.refreshCall=void 0,M.skipInstances=M.skipInstances.filter(B=>B!==x)},m.getRetryInstance=function(x,M){return M.retryInstance||x},m.resendFailedRequest=function(x,M){return x.config.skipAuthRefresh=!0,M(x.response.config)}},300:function(d){d.exports=o}},l={};function u(d){var m=l[d];if(m!==void 0)return m.exports;var _=l[d]={exports:{}};return s[d](_,_.exports,u),_.exports}var f={};return function(){var d=f;Object.defineProperty(d,"__esModule",{value:!0});const m=u(593);d.default=function(_,y,x={}){if(typeof y!="function")throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");const M={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return _.interceptors.response.use(B=>B,B=>{if(x=(0,m.mergeOptions)(m.defaultOptions,x),!(0,m.shouldInterceptError)(B,x,_,M))return Promise.reject(B);x.pauseInstanceWhileRefreshing&&M.skipInstances.push(_);const E=(0,m.createRefreshCall)(B,y,M);return(0,m.createRequestQueueInterceptor)(_,M,x),E.catch(C=>Promise.reject(C)).then(()=>(0,m.resendFailedRequest)(B,(0,m.getRetryInstance)(_,x))).finally(()=>(0,m.unsetCache)(_,M))})}}(),f}()})})(Qh);var Rg=Qh.exports;const Ag=Sg(Rg);var tf=(e=>(e.DEV="development",e.PROD="production",e.TEST="test",e))(tf||{});const ao={apiBaseURL:"https://peterparkerapi.azurewebsites.net/api/",environment:"development"};var vi=(e=>(e.AUTH_ERROR="Authentication error",e.REGISTRATION_ERROR="Registration error",e.LOGIN_ERROR="Login error",e.NO_REFRESH_TOKEN="No refresh token",e.SERVER_NOT_AVAILABLE="Server not available",e.SUBSCRIPTION_FAILED="Subscription failed",e.PASS_ERROR="PASS error",e.TICKET_CREATE_FAILED="Ticket create failed",e))(vi||{});class $i{constructor(n,o){Ie(this,"error");Ie(this,"backendErrorObj");Ie(this,"message");var s;this.error=n,this.backendErrorObj=(s=n==null?void 0:n.response)==null?void 0:s.data,this.message=o,ao.environment===tf.DEV&&this.printError()}printError(){console.log(this.message,this.backendErrorObj,this.error)}}const Ig=gr.create({baseURL:ao.apiBaseURL});function Ga(e){this.message=e}Ga.prototype=new Error,Ga.prototype.name="InvalidCharacterError";var Qu=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new Ga("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,s,l=0,u=0,f="";s=n.charAt(u++);~s&&(o=l%4?64*o+s:s,l++%4)?f+=String.fromCharCode(255&o>>(-2*l&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return f};function Bg(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(o){return decodeURIComponent(Qu(o).replace(/(.)/g,function(s,l){var u=l.charCodeAt(0).toString(16).toUpperCase();return u.length<2&&(u="0"+u),"%"+u}))}(n)}catch{return Qu(n)}}function bs(e){this.message=e}function Dg(e,n){if(typeof e!="string")throw new bs("Invalid token specified");var o=(n=n||{}).header===!0?0:1;try{return JSON.parse(Bg(e.split(".")[o]))}catch(s){throw new bs("Invalid token specified: "+s.message)}}bs.prototype=new Error,bs.prototype.name="InvalidTokenError";class Ng{constructor(n){Ie(this,"axios");Ie(this,"refreshToken",null);this.axios=n}async login(n,o){try{const s=await gr.post(`${ao.apiBaseURL}/User/LogIn`,{email:n,password:o});this.setTokens(s.data),await this.requestUserData()}catch(s){throw new $i(s,vi.LOGIN_ERROR)}}storeRefreshToken(n){vs.set("refresh-token",n,{expires:new Date().setDate(new Date().getDate()+7)})}logout(){vs.remove("refresh-token");const n=We();n.user=null,n.userDataFromToken=null,this.refreshToken=null}async register(n){try{const o=await gr.post(`${ao.apiBaseURL}/User/Register`,n);this.setTokens(o.data),await this.requestUserData()}catch(o){throw new $i(o,vi.REGISTRATION_ERROR)}}setTokens(n){this.refreshToken=n.refreshToken;const o=We();o.userDataFromToken=Dg(n.token),console.log(o.userDataFromToken),this.setAuthHeader(n.token),this.storeRefreshToken(n.refreshToken)}setAuthHeader(n){this.axios.defaults.headers.common.Authorization=`bearer ${n}`}async requestNewTokens(){if(this.refreshToken)try{const n=await gr.post(`${ao.apiBaseURL}/User/TokenRefresh`,null,{headers:{"X-Pp-Refresh-Token":this.refreshToken}});return this.setTokens(n.data),n.data}catch(n){if(!n.response)throw new $i(n,vi.SERVER_NOT_AVAILABLE);n.response.status===401&&this.logout()}}async requestUserData(){const n=await this.axios.get("/User/Data"),o=We();return o.user=n.data,n.data}async updateUserData(n){await this.axios.put("/User/Update",n),this.requestUserData()}}class zg{constructor(n){Ie(this,"axios");this.axios=n}async makeInspector(n){await this.axios.post("/User/MakeInspector",{Email:n})}async removeInspector(n){await this.axios.post("/User/RevokeInspector",{Email:n})}async makeAdmin(n){await this.axios.post("/User/MakeAdmin",{Email:n})}async removeAdmin(n){await this.axios.post("/User/RevokeAdmin",{Email:n})}}var no=(e=>(e.ZONE_COLOR="#FF0000",e.GARAGE_AREA_COLOR="#00FF00",e.UNDERGROUND_AREA_COLOR="#FFFF00",e.LOT_AREA_COLOR="#0000FF",e))(no||{}),Za=(e=>(e.GARAGE="garage",e.UNDERGROUND="underground",e.LOT="lot",e))(Za||{});class jg{constructor(n){Ie(this,"axios");this.axios=n}async all(){const o=(await this.axios.get("/Zone/All")).data;return o.forEach(s=>{s.geoJSON=JSON.parse(s.geoJSON),s.parkingAreas.forEach(l=>{l.geoJSON=JSON.parse(l.geoJSON)})}),o}async create(n,o=10){await this.axios.post("/Zone/Add",{HourlyRate:o,GeoJSON:JSON.stringify(n)})}async update(n){await this.axios.patch("/Zone/Update",{GUID:n.guid,Name:n.name,GeoJSON:JSON.stringify(n.geoJSON)})}async delete(n){await this.axios.delete("/Zone/Delete",{data:{guid:n}})}async addArea(n,o){o.geoJSON=JSON.stringify(o.geoJSON),await this.axios.post("/Zone/AddArea",{ZoneGUID:n,ParkingArea:o})}}class Fg{constructor(n){Ie(this,"axios");this.axios=n}async addVehicle(n){await this.axios.post("/Vehicle/AddVehicle",{Registration:n})}async removeVehicle(n){await this.axios.delete("/Vehicle/DeleteVehicle",{data:{Registration:n}})}async park(n,o){await this.axios.post("/Vehicle/ParkVehicle",{VehicleGUID:n,ParkingSpaceGUID:o})}async unpark(n){await this.axios.post("/Vehicle/UnparkVehicle",{ParkingSpaceGUID:n})}}let Ug=class{constructor(n){Ie(this,"axios");this.axios=n}async subscribe(n){try{await this.axios.post("/Subscription/Subscribe",{Type:n})}catch(o){throw new $i(o,vi.SUBSCRIPTION_FAILED)}}async unsubscribe(){try{await this.axios.post("/Subscription/Unsubscribe")}catch(n){throw new $i(n,vi.SUBSCRIPTION_FAILED)}}async getPrices(){return(await this.axios.get("/Subscription/GetPrices")).data}};class Vg{constructor(n){Ie(this,"axios");this.axios=n}async add(n,o){try{await this.axios.post("/Pass/Add",{Hours:n,ZoneGUIDs:o})}catch(s){throw new $i(s,vi.PASS_ERROR)}}}class Gg{constructor(n){Ie(this,"axios");this.axios=n}async all(){return(await this.axios.get("/Ticket/GetAllTickets")).data}async create(n){try{return(await this.axios.post("/Ticket/AddTicket",n)).data}catch(o){throw new $i(o,vi.TICKET_CREATE_FAILED)}}async settle(n){try{return(await this.axios.post("/Ticket/Settle",n)).data}catch{}}}class Zg{constructor(){Ie(this,"axios");Ie(this,"authAPI");Ie(this,"inspectorAPI");Ie(this,"zoneAPI");Ie(this,"vehicleApi");Ie(this,"subscriptionApi");Ie(this,"passApi");Ie(this,"ticketApi");this.axios=Ig,this.authAPI=new Ng(this.axios),this.inspectorAPI=new zg(this.axios),this.zoneAPI=new jg(this.axios),this.vehicleApi=new Fg(this.axios),this.subscriptionApi=new Ug(this.axios),this.passApi=new Vg(this.axios),this.ticketApi=new Gg(this.axios),Ag(this.axios,async n=>{const o=await this.authAPI.requestNewTokens();n.response.config.headers.Authorization="bearer "+(o==null?void 0:o.token)},{statusCodes:[401,403]})}async init(){const n=vs.get("refresh-token");n&&(this.authAPI.refreshToken=n,await this.authAPI.requestNewTokens(),await this.authAPI.requestUserData())}}const pe=new Zg;var tc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(o,s){s(n)})(Xh,function(o){var s="1.9.4";function l(t){var r,c,p,v;for(c=1,p=arguments.length;c<p;c++){v=arguments[c];for(r in v)t[r]=v[r]}return t}var u=Object.create||function(){function t(){}return function(r){return t.prototype=r,new t}}();function f(t,r){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var p=c.call(arguments,2);return function(){return t.apply(r,p.length?p.concat(c.call(arguments)):arguments)}}var d=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function _(t,r,c){var p,v,P,$;return $=function(){p=!1,v&&(P.apply(c,v),v=!1)},P=function(){p?v=arguments:(t.apply(c,arguments),setTimeout($,r),p=!0)},P}function y(t,r,c){var p=r[1],v=r[0],P=p-v;return t===p&&c?t:((t-v)%P+P)%P+v}function x(){return!1}function M(t,r){if(r===!1)return t;var c=Math.pow(10,r===void 0?6:r);return Math.round(t*c)/c}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function E(t){return B(t).split(/\s+/)}function C(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var c in r)t.options[c]=r[c];return t.options}function F(t,r,c){var p=[];for(var v in t)p.push(encodeURIComponent(c?v.toUpperCase():v)+"="+encodeURIComponent(t[v]));return(!r||r.indexOf("?")===-1?"?":"&")+p.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function D(t,r){return t.replace(A,function(c,p){var v=r[p];if(v===void 0)throw new Error("No value provided for variable "+c);return typeof v=="function"&&(v=v(r)),v})}var Z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function S(t,r){for(var c=0;c<t.length;c++)if(t[c]===r)return c;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Q=0;function et(t){var r=+new Date,c=Math.max(0,16-(r-Q));return Q=r+c,window.setTimeout(t,c)}var rt=window.requestAnimationFrame||q("RequestAnimationFrame")||et,ut=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function _t(t,r,c){if(c&&rt===et)t.call(r);else return rt.call(window,f(t,r))}function it(t){t&&ut.call(window,t)}var gt={__proto__:null,extend:l,create:u,bind:f,get lastId(){return d},stamp:m,throttle:_,wrapNum:y,falseFn:x,formatNum:M,trim:B,splitWords:E,setOptions:C,getParamString:F,template:D,isArray:Z,indexOf:S,emptyImageUrl:N,requestFn:rt,cancelFn:ut,requestAnimFrame:_t,cancelAnimFrame:it};function Dt(){}Dt.extend=function(t){var r=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=r.__super__=this.prototype,p=u(c);p.constructor=r,r.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(r[v]=this[v]);return t.statics&&l(r,t.statics),t.includes&&(Pt(t.includes),l.apply(null,[p].concat(t.includes))),l(p,t),delete p.statics,delete p.includes,p.options&&(p.options=c.options?u(c.options):{},l(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,$=p._initHooks.length;P<$;P++)p._initHooks[P].call(this)}},r},Dt.include=function(t){var r=this.prototype.options;return l(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},Dt.mergeOptions=function(t){return l(this.prototype.options,t),this},Dt.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Pt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Z(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(t,r,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],r);else{t=E(t);for(var v=0,P=t.length;v<P;v++)this._on(t[v],r,c)}return this},off:function(t,r,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],r);else{t=E(t);for(var v=arguments.length===1,P=0,$=t.length;P<$;P++)v?this._off(t[P]):this._off(t[P],r,c)}return this},_on:function(t,r,c,p){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,c)===!1){c===this&&(c=void 0);var v={fn:r,ctx:c};p&&(v.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(v)}},_off:function(t,r,c){var p,v,P;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,P=p.length;v<P;v++)p[v].fn=x;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var $=this._listens(t,r,c);if($!==!1){var X=p[$];this._firingCount&&(X.fn=x,this._events[t]=p=p.slice()),p.splice($,1)}}},fire:function(t,r,c){if(!this.listens(t,c))return this;var p=l({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var v=this._events[t];if(v){this._firingCount=this._firingCount+1||1;for(var P=0,$=v.length;P<$;P++){var X=v[P],nt=X.fn;X.once&&this.off(t,nt,X.ctx),nt.call(X.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(t,r,c,p){typeof t!="string"&&console.warn('"string" type argument expected');var v=r;typeof r!="function"&&(p=!!r,v=void 0,c=void 0);var P=this._events&&this._events[t];if(P&&P.length&&this._listens(t,v,c)!==!1)return!0;if(p){for(var $ in this._eventParents)if(this._eventParents[$].listens(t,r,c,p))return!0}return!1},_listens:function(t,r,c){if(!this._events)return!1;var p=this._events[t]||[];if(!r)return!!p.length;c===this&&(c=void 0);for(var v=0,P=p.length;v<P;v++)if(p[v].fn===r&&p[v].ctx===c)return v;return!1},once:function(t,r,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],r,!0);else{t=E(t);for(var v=0,P=t.length;v<P;v++)this._on(t[v],r,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var jt=Dt.extend(Lt);function dt(t,r,c){this.x=c?Math.round(t):t,this.y=c?Math.round(r):r}var re=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(t){return this.clone()._add(Ot(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Ot(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new dt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new dt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(t){t=Ot(t);var r=t.x-this.x,c=t.y-this.y;return Math.sqrt(r*r+c*c)},equals:function(t){return t=Ot(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Ot(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Ot(t,r,c){return t instanceof dt?t:Z(t)?new dt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new dt(t.x,t.y):new dt(t,r,c)}function Ct(t,r){if(t)for(var c=r?[t,r]:t,p=0,v=c.length;p<v;p++)this.extend(c[p])}Ct.prototype={extend:function(t){var r,c;if(!t)return this;if(t instanceof dt||typeof t[0]=="number"||"x"in t)r=c=Ot(t);else if(t=Ut(t),r=t.min,c=t.max,!r||!c)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=c.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return Ot((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Ot(this.min.x,this.max.y)},getTopRight:function(){return Ot(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,c;return typeof t[0]=="number"||t instanceof dt?t=Ot(t):t=Ut(t),t instanceof Ct?(r=t.min,c=t.max):r=c=t,r.x>=this.min.x&&c.x<=this.max.x&&r.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=Ut(t);var r=this.min,c=this.max,p=t.min,v=t.max,P=v.x>=r.x&&p.x<=c.x,$=v.y>=r.y&&p.y<=c.y;return P&&$},overlaps:function(t){t=Ut(t);var r=this.min,c=this.max,p=t.min,v=t.max,P=v.x>r.x&&p.x<c.x,$=v.y>r.y&&p.y<c.y;return P&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,c=this.max,p=Math.abs(r.x-c.x)*t,v=Math.abs(r.y-c.y)*t;return Ut(Ot(r.x-p,r.y-v),Ot(c.x+p,c.y+v))},equals:function(t){return t?(t=Ut(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Ut(t,r){return!t||t instanceof Ct?t:new Ct(t,r)}function ge(t,r){if(t)for(var c=r?[t,r]:t,p=0,v=c.length;p<v;p++)this.extend(c[p])}ge.prototype={extend:function(t){var r=this._southWest,c=this._northEast,p,v;if(t instanceof Qt)p=t,v=t;else if(t instanceof ge){if(p=t._southWest,v=t._northEast,!p||!v)return this}else return t?this.extend(Bt(t)||oe(t)):this;return!r&&!c?(this._southWest=new Qt(p.lat,p.lng),this._northEast=new Qt(v.lat,v.lng)):(r.lat=Math.min(p.lat,r.lat),r.lng=Math.min(p.lng,r.lng),c.lat=Math.max(v.lat,c.lat),c.lng=Math.max(v.lng,c.lng)),this},pad:function(t){var r=this._southWest,c=this._northEast,p=Math.abs(r.lat-c.lat)*t,v=Math.abs(r.lng-c.lng)*t;return new ge(new Qt(r.lat-p,r.lng-v),new Qt(c.lat+p,c.lng+v))},getCenter:function(){return new Qt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Qt||"lat"in t?t=Bt(t):t=oe(t);var r=this._southWest,c=this._northEast,p,v;return t instanceof ge?(p=t.getSouthWest(),v=t.getNorthEast()):p=v=t,p.lat>=r.lat&&v.lat<=c.lat&&p.lng>=r.lng&&v.lng<=c.lng},intersects:function(t){t=oe(t);var r=this._southWest,c=this._northEast,p=t.getSouthWest(),v=t.getNorthEast(),P=v.lat>=r.lat&&p.lat<=c.lat,$=v.lng>=r.lng&&p.lng<=c.lng;return P&&$},overlaps:function(t){t=oe(t);var r=this._southWest,c=this._northEast,p=t.getSouthWest(),v=t.getNorthEast(),P=v.lat>r.lat&&p.lat<c.lat,$=v.lng>r.lng&&p.lng<c.lng;return P&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=oe(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(t,r){return t instanceof ge?t:new ge(t,r)}function Qt(t,r,c){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,c!==void 0&&(this.alt=+c)}Qt.prototype={equals:function(t,r){if(!t)return!1;t=Bt(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return vt.distance(this,Bt(t))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,c=r/Math.cos(Math.PI/180*this.lat);return oe([this.lat-r,this.lng-c],[this.lat+r,this.lng+c])},clone:function(){return new Qt(this.lat,this.lng,this.alt)}};function Bt(t,r,c){return t instanceof Qt?t:Z(t)&&typeof t[0]!="object"?t.length===3?new Qt(t[0],t[1],t[2]):t.length===2?new Qt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Qt(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new Qt(t,r,c)}var at={latLngToPoint:function(t,r){var c=this.projection.project(t),p=this.scale(r);return this.transformation._transform(c,p)},pointToLatLng:function(t,r){var c=this.scale(r),p=this.transformation.untransform(t,c);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,c=this.scale(t),p=this.transformation.transform(r.min,c),v=this.transformation.transform(r.max,c);return new Ct(p,v)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?y(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?y(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new Qt(c,r,p)},wrapLatLngBounds:function(t){var r=t.getCenter(),c=this.wrapLatLng(r),p=r.lat-c.lat,v=r.lng-c.lng;if(p===0&&v===0)return t;var P=t.getSouthWest(),$=t.getNorthEast(),X=new Qt(P.lat-p,P.lng-v),nt=new Qt($.lat-p,$.lng-v);return new ge(X,nt)}},vt=l({},at,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var c=Math.PI/180,p=t.lat*c,v=r.lat*c,P=Math.sin((r.lat-t.lat)*c/2),$=Math.sin((r.lng-t.lng)*c/2),X=P*P+Math.cos(p)*Math.cos(v)*$*$,nt=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*nt}}),bt=6378137,Rt={R:bt,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,t.lat),-c),v=Math.sin(p*r);return new dt(this.R*t.lng*r,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(t){var r=180/Math.PI;return new Qt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:function(){var t=bt*Math.PI;return new Ct([-t,-t],[t,t])}()};function te(t,r,c,p){if(Z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=c,this._d=p}te.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new dt((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function U(t,r,c,p){return new te(t,r,c,p)}var K=l({},vt,{code:"EPSG:3857",projection:Rt,transformation:function(){var t=.5/(Math.PI*Rt.R);return U(t,.5,-t,.5)}()}),W=l({},K,{code:"EPSG:900913"});function st(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ct(t,r){var c="",p,v,P,$,X,nt;for(p=0,P=t.length;p<P;p++){for(X=t[p],v=0,$=X.length;v<$;v++)nt=X[v],c+=(v?"L":"M")+nt.x+" "+nt.y;c+=r?zt.svg?"z":"x":""}return c||"M0 0"}var pt=document.documentElement.style,wt="ActiveXObject"in window,R=wt&&!document.addEventListener,b="msLaunchUri"in navigator&&!("documentMode"in document),w=Xe("webkit"),T=Xe("android"),I=Xe("android 2")||Xe("android 3"),j=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Y=T&&Xe("Google")&&j<537&&!("AudioNode"in window),tt=!!window.opera,ft=!b&&Xe("chrome"),kt=Xe("gecko")&&!w&&!tt&&!wt,It=!ft&&Xe("safari"),Ht=Xe("phantom"),qt="OTransition"in pt,ce=navigator.platform.indexOf("Win")===0,Kt=wt&&"transition"in pt,ue="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!I,ne="MozPerspective"in pt,he=!window.L_DISABLE_3D&&(Kt||ue||ne)&&!qt&&!Ht,Pe=typeof orientation<"u"||Xe("mobile"),Ge=Pe&&w,Ze=Pe&&ue,ln=!window.PointerEvent&&window.MSPointerEvent,on=!!(window.PointerEvent||ln),Ke="ontouchstart"in window||!!window.TouchEvent,sn=!window.L_NO_TOUCH&&(Ke||on),gn=Pe&&tt,Fn=Pe&&kt,He=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ze=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,r),window.removeEventListener("testPassiveEventSupport",x,r)}catch{}return t}(),Pn=function(){return!!document.createElement("canvas").getContext}(),Ji=!!(document.createElementNS&&st("svg").createSVGRect),Rr=!!Ji&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mi=!Ji&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Gs=navigator.platform.indexOf("Mac")===0,Ar=navigator.platform.indexOf("Linux")===0;function Xe(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var zt={ie:wt,ielt9:R,edge:b,webkit:w,android:T,android23:I,androidStock:Y,opera:tt,chrome:ft,gecko:kt,safari:It,phantom:Ht,opera12:qt,win:ce,ie3d:Kt,webkit3d:ue,gecko3d:ne,any3d:he,mobile:Pe,mobileWebkit:Ge,mobileWebkit3d:Ze,msPointer:ln,pointer:on,touch:sn,touchNative:Ke,mobileOpera:gn,mobileGecko:Fn,retina:He,passiveEvents:ze,canvas:Pn,svg:Ji,vml:Mi,inlineSvg:Rr,mac:Gs,linux:Ar},Ir=zt.msPointer?"MSPointerDown":"pointerdown",Cn=zt.msPointer?"MSPointerMove":"pointermove",En=zt.msPointer?"MSPointerUp":"pointerup",Co=zt.msPointer?"MSPointerCancel":"pointercancel",Pi={touchstart:Ir,touchmove:Cn,touchend:En,touchcancel:Co},ni={touchstart:Xi,touchmove:Yi,touchend:Yi,touchcancel:Yi},ii={},Br=!1;function Eo(t,r,c){return r==="touchstart"&&zr(),ni[r]?(c=ni[r].bind(this,c),t.addEventListener(Pi[r],c,!1),c):(console.warn("wrong event specified:",r),x)}function Zs(t,r,c){if(!Pi[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(Pi[r],c,!1)}function So(t){ii[t.pointerId]=t}function Dr(t){ii[t.pointerId]&&(ii[t.pointerId]=t)}function Nr(t){delete ii[t.pointerId]}function zr(){Br||(document.addEventListener(Ir,So,!0),document.addEventListener(Cn,Dr,!0),document.addEventListener(En,Nr,!0),document.addEventListener(Co,Nr,!0),Br=!0)}function Yi(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var c in ii)r.touches.push(ii[c]);r.changedTouches=[r],t(r)}}function Xi(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&H(r),Yi(t,r)}function To(t){var r={},c,p;for(p in t)c=t[p],r[p]=c&&c.bind?c.bind(t):c;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Hs=200;function Ci(t,r){t.addEventListener("dblclick",r);var c=0,p;function v(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var $=lt(P);if(!($.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!$.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var X=Date.now();X-c<=Hs?(p++,p===2&&r(To(P))):p=1,c=X}}}return t.addEventListener("click",v),{dblclick:r,simDblclick:v}}function $s(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var Qi=er(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Un=er(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Oo=Un==="webkitTransition"||Un==="OTransition"?Un+"End":"transitionend";function Ro(t){return typeof t=="string"?document.getElementById(t):t}function ri(t,r){var c=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);c=p?p[r]:null}return c==="auto"?null:c}function ie(t,r,c){var p=document.createElement(t);return p.className=r||"",c&&c.appendChild(p),p}function ye(t){var r=t.parentNode;r&&r.removeChild(t)}function Ei(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vn(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function Gn(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function tr(t,r){if(t.classList!==void 0)return t.classList.contains(r);var c=Si(t);return c.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(c)}function Jt(t,r){if(t.classList!==void 0)for(var c=E(r),p=0,v=c.length;p<v;p++)t.classList.add(c[p]);else if(!tr(t,r)){var P=Si(t);jr(t,(P?P+" ":"")+r)}}function Ce(t,r){t.classList!==void 0?t.classList.remove(r):jr(t,B((" "+Si(t)+" ").replace(" "+r+" "," ")))}function jr(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function Si(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Qe(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&Fr(t,r)}function Fr(t,r){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(p)}catch{if(r===1)return}r=Math.round(r*100),c?(c.Enabled=r!==100,c.Opacity=r):t.style.filter+=" progid:"+p+"(opacity="+r+")"}function er(t){for(var r=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in r)return t[c];return!1}function Sn(t,r,c){var p=r||new dt(0,0);t.style[Qi]=(zt.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function be(t,r){t._leaflet_pos=r,zt.any3d?Sn(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function un(t){return t._leaflet_pos||new dt(0,0)}var Ti,Oi,Se;if("onselectstart"in document)Ti=function(){Wt(window,"selectstart",H)},Oi=function(){a(window,"selectstart",H)};else{var Tn=er(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ti=function(){if(Tn){var t=document.documentElement.style;Se=t[Tn],t[Tn]="none"}},Oi=function(){Tn&&(document.documentElement.style[Tn]=Se,Se=void 0)}}function Ri(){Wt(window,"dragstart",H)}function Ur(){a(window,"dragstart",H)}var nr,ir;function Vr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(oi(),nr=t,ir=t.style.outlineStyle,t.style.outlineStyle="none",Wt(window,"keydown",oi))}function oi(){nr&&(nr.style.outlineStyle=ir,nr=void 0,ir=void 0,a(window,"keydown",oi))}function rr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Gr(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var Ks={__proto__:null,TRANSFORM:Qi,TRANSITION:Un,TRANSITION_END:Oo,get:Ro,getStyle:ri,create:ie,remove:ye,empty:Ei,toFront:Vn,toBack:Gn,hasClass:tr,addClass:Jt,removeClass:Ce,setClass:jr,getClass:Si,setOpacity:Qe,testProp:er,setTransform:Sn,setPosition:be,getPosition:un,get disableTextSelection(){return Ti},get enableTextSelection(){return Oi},disableImageDrag:Ri,enableImageDrag:Ur,preventOutline:Vr,restoreOutline:oi,getSizedParentNode:rr,getScale:Gr};function Wt(t,r,c,p){if(r&&typeof r=="object")for(var v in r)k(t,v,r[v],c);else{r=E(r);for(var P=0,$=r.length;P<$;P++)k(t,r[P],c,p)}return this}var i="_leaflet_events";function a(t,r,c,p){if(arguments.length===1)h(t),delete t[i];else if(r&&typeof r=="object")for(var v in r)O(t,v,r[v],c);else if(r=E(r),arguments.length===2)h(t,function(X){return S(r,X)!==-1});else for(var P=0,$=r.length;P<$;P++)O(t,r[P],c,p);return this}function h(t,r){for(var c in t[i]){var p=c.split(/\d/)[0];(!r||r(p))&&O(t,p,null,null,c)}}var g={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function k(t,r,c,p){var v=r+m(c)+(p?"_"+m(p):"");if(t[i]&&t[i][v])return this;var P=function(X){return c.call(p||t,X||window.event)},$=P;!zt.touchNative&&zt.pointer&&r.indexOf("touch")===0?P=Eo(t,r,P):zt.touch&&r==="dblclick"?P=Ci(t,P):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(g[r]||r,P,zt.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(P=function(X){X=X||window.event,Gt(t,X)&&$(X)},t.addEventListener(g[r],P,!1)):t.addEventListener(r,$,!1):t.attachEvent("on"+r,P),t[i]=t[i]||{},t[i][v]=P}function O(t,r,c,p,v){v=v||r+m(c)+(p?"_"+m(p):"");var P=t[i]&&t[i][v];if(!P)return this;!zt.touchNative&&zt.pointer&&r.indexOf("touch")===0?Zs(t,r,P):zt.touch&&r==="dblclick"?$s(t,P):"removeEventListener"in t?t.removeEventListener(g[r]||r,P,!1):t.detachEvent("on"+r,P),t[i][v]=null}function z(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function G(t){return k(t,"wheel",z),this}function V(t){return Wt(t,"mousedown touchstart dblclick contextmenu",z),t._leaflet_disable_click=!0,this}function H(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function J(t){return H(t),z(t),this}function lt(t){if(t.composedPath)return t.composedPath();for(var r=[],c=t.target;c;)r.push(c),c=c.parentNode;return r}function ot(t,r){if(!r)return new dt(t.clientX,t.clientY);var c=Gr(r),p=c.boundingClientRect;return new dt((t.clientX-p.left)/c.x-r.clientLeft,(t.clientY-p.top)/c.y-r.clientTop)}var yt=zt.linux&&zt.chrome?window.devicePixelRatio:zt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xt(t){return zt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/yt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Gt(t,r){var c=r.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Yt={__proto__:null,on:Wt,off:a,stopPropagation:z,disableScrollPropagation:G,disableClickPropagation:V,preventDefault:H,stop:J,getPropagationPath:lt,getMousePosition:ot,getWheelDelta:xt,isExternalTarget:Gt,addListener:Wt,removeListener:a},fe=jt.extend({run:function(t,r,c,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=un(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,c=this._duration*1e3;r<c?this._runFrame(this._easeOut(r/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var c=this._startPos.add(this._offset.multiplyBy(t));r&&c._round(),be(this._el,c),this.fire("step")},_complete:function(){it(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Vt=jt.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=C(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(Bt(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Un&&zt.any3d&&!zt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,Oo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,c){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(Bt(t),r,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=l({animate:c.animate},c.zoom),c.pan=l({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,c.zoom):this._tryAnimatedPan(t,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(zt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,c){var p=this.getZoomScale(r),v=this.getSize().divideBy(2),P=t instanceof dt?t:this.latLngToContainerPoint(t),$=P.subtract(v).multiplyBy(1-1/p),X=this.containerPointToLatLng(v.add($));return this.setView(X,r,{zoom:c})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():oe(t);var c=Ot(r.paddingTopLeft||r.padding||[0,0]),p=Ot(r.paddingBottomRight||r.padding||[0,0]),v=this.getBoundsZoom(t,!1,c.add(p));if(v=typeof r.maxZoom=="number"?Math.min(r.maxZoom,v):v,v===1/0)return{center:t.getCenter(),zoom:v};var P=p.subtract(c).divideBy(2),$=this.project(t.getSouthWest(),v),X=this.project(t.getNorthEast(),v),nt=this.unproject($.add(X).divideBy(2).add(P),v);return{center:nt,zoom:v}},fitBounds:function(t,r){if(t=oe(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,r);return this.setView(c.center,c.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=Ot(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Jt(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,c){if(c=c||{},c.animate===!1||!zt.any3d)return this.setView(t,r,c);this._stop();var p=this.project(this.getCenter()),v=this.project(t),P=this.getSize(),$=this._zoom;t=Bt(t),r=r===void 0?$:r;var X=Math.max(P.x,P.y),nt=X*this.getZoomScale($,r),mt=v.distanceTo(p)||1,St=1.42,$t=St*St;function ee(Ae){var $o=Ae?-1:1,Qf=Ae?nt:X,td=nt*nt-X*X+$o*$t*$t*mt*mt,ed=2*Qf*$t*mt,ra=td/ed,nu=Math.sqrt(ra*ra+1)-ra,nd=nu<1e-9?-18:Math.log(nu);return nd}function Je(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function Ue(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}function fn(Ae){return Je(Ae)/Ue(Ae)}var tn=ee(0);function cr(Ae){return X*(Ue(tn)/Ue(tn+St*Ae))}function Wf(Ae){return X*(Ue(tn)*fn(tn+St*Ae)-Je(tn))/$t}function Jf(Ae){return 1-Math.pow(1-Ae,1.5)}var Yf=Date.now(),tu=(ee(1)-tn)/St,Xf=c.duration?1e3*c.duration:1e3*tu*.8;function eu(){var Ae=(Date.now()-Yf)/Xf,$o=Jf(Ae)*tu;Ae<=1?(this._flyToFrame=_t(eu,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy(Wf($o)/mt)),$),this.getScaleZoom(X/cr($o),$),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),eu.call(this),this},flyToBounds:function(t,r){var c=this._getBoundsCenterZoom(t,r);return this.flyTo(c.center,c.zoom,r)},setMaxBounds:function(t){return t=oe(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,oe(t));return c.equals(p)||this.panTo(p,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var c=Ot(r.paddingTopLeft||r.padding||[0,0]),p=Ot(r.paddingBottomRight||r.padding||[0,0]),v=this.project(this.getCenter()),P=this.project(t),$=this.getPixelBounds(),X=Ut([$.min.add(c),$.max.subtract(p)]),nt=X.getSize();if(!X.contains(P)){this._enforcingBounds=!0;var mt=P.subtract(X.getCenter()),St=X.extend(P).getSize().subtract(nt);v.x+=mt.x<0?-St.x:St.x,v.y+=mt.y<0?-St.y:St.y,this.panTo(this.unproject(v),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=r.divideBy(2).round(),v=c.divideBy(2).round(),P=p.subtract(v);return!P.x&&!P.y?this:(t.animate&&t.pan?this.panBy(P):(t.pan&&this._rawPanBy(P),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=f(this._handleGeolocationResponse,this),c=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,c,t):navigator.geolocation.getCurrentPosition(r,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,c=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,c=t.coords.longitude,p=new Qt(r,c),v=p.toBounds(t.coords.accuracy*2),P=this._locateOptions;if(P.setView){var $=this.getBoundsZoom(v);this.setView(p,P.maxZoom?Math.min($,P.maxZoom):$)}var X={latlng:p,bounds:v,timestamp:t.timestamp};for(var nt in t.coords)typeof t.coords[nt]=="number"&&(X[nt]=t.coords[nt]);this.fire("locationfound",X)}},addHandler:function(t,r){if(!r)return this;var c=this[t]=new r(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(it(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ye(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=ie("div",c,r||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new ge(r,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,c){t=oe(t),c=Ot(c||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),P=this.getMaxZoom(),$=t.getNorthWest(),X=t.getSouthEast(),nt=this.getSize().subtract(c),mt=Ut(this.project(X,p),this.project($,p)).getSize(),St=zt.any3d?this.options.zoomSnap:1,$t=nt.x/mt.x,ee=nt.y/mt.y,Je=r?Math.max($t,ee):Math.min($t,ee);return p=this.getScaleZoom(Je,p),St&&(p=Math.round(p/(St/100))*(St/100),p=r?Math.ceil(p/St)*St:Math.floor(p/St)*St),Math.max(v,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var c=this._getTopLeftPoint(t,r);return new Ct(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var c=this.options.crs;return r=r===void 0?this._zoom:r,c.scale(t)/c.scale(r)},getScaleZoom:function(t,r){var c=this.options.crs;r=r===void 0?this._zoom:r;var p=c.zoom(t*c.scale(r));return isNaN(p)?1/0:p},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(Bt(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Ot(t),r)},layerPointToLatLng:function(t){var r=Ot(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(Bt(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Bt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(oe(t))},distance:function(t,r){return this.options.crs.distance(Bt(t),Bt(r))},containerPointToLayerPoint:function(t){return Ot(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Ot(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(Ot(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Bt(t)))},mouseEventToContainerPoint:function(t){return ot(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=Ro(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(r,"scroll",this._onScroll,this),this._containerId=m(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&zt.any3d,Jt(t,"leaflet-container"+(zt.touch?" leaflet-touch":"")+(zt.retina?" leaflet-retina":"")+(zt.ielt9?" leaflet-oldie":"")+(zt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=ri(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Jt(t.markerPane,"leaflet-zoom-hide"),Jt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,c){be(this._mapPane,new dt(0,0));var p=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var v=this._zoom!==r;this._moveStart(v,c)._move(t,r)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,c,p){r===void 0&&(r=this._zoom);var v=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?c&&c.pinch&&this.fire("zoom",c):((v||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return it(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var r=t?a:Wt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),zt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){it(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var c=[],p,v=r==="mouseout"||r==="mouseover",P=t.target||t.srcElement,$=!1;P;){if(p=this._targets[m(P)],p&&(r==="click"||r==="preclick")&&this._draggableMoved(p)){$=!0;break}if(p&&p.listens(r,!0)&&(v&&!Gt(P,t)||(c.push(p),v))||P===this._container)break;P=P.parentNode}return!c.length&&!$&&!v&&this.listens(r,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var c=t.type;c==="mousedown"&&Vr(r),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,c){if(t.type==="click"){var p=l({},t);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var v=this._findEventTargets(t,r);if(c){for(var P=[],$=0;$<c.length;$++)c[$].listens(r,!0)&&P.push(c[$]);v=P.concat(v)}if(v.length){r==="contextmenu"&&H(t);var X=v[0],nt={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var mt=X.getLatLng&&(!X._radius||X._radius<=10);nt.containerPoint=mt?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(t),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=mt?X.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for($=0;$<v.length;$++)if(v[$].fire(r,nt,!0),nt.originalEvent._stopped||v[$].options.bubblingMouseEvents===!1&&S(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return un(this._mapPane)||new dt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var c=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var c=this.getSize()._divideBy(2);return this.project(t,r)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,c){var p=this._getNewPixelOrigin(c,r);return this.project(t,r)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,r,c){var p=this._getNewPixelOrigin(c,r);return Ut([this.project(t.getSouthWest(),r)._subtract(p),this.project(t.getNorthWest(),r)._subtract(p),this.project(t.getSouthEast(),r)._subtract(p),this.project(t.getNorthEast(),r)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,c){if(!c)return t;var p=this.project(t,r),v=this.getSize().divideBy(2),P=new Ct(p.subtract(v),p.add(v)),$=this._getBoundsOffset(P,c,r);return Math.abs($.x)<=1&&Math.abs($.y)<=1?t:this.unproject(p.add($),r)},_limitOffset:function(t,r){if(!r)return t;var c=this.getPixelBounds(),p=new Ct(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(p,r))},_getBoundsOffset:function(t,r,c){var p=Ut(this.project(r.getNorthEast(),c),this.project(r.getSouthWest(),c)),v=p.min.subtract(t.min),P=p.max.subtract(t.max),$=this._rebound(v.x,-P.x),X=this._rebound(v.y,-P.y);return new dt($,X)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),c=this.getMaxZoom(),p=zt.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(r,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var c=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,r),!0)},_createAnimProxy:function(){var t=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var c=Qi,p=this._proxy.style[c];Sn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();Sn(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(r),v=this._getCenterOffset(t)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(v)?!1:(_t(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,Jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function de(t,r){return new Vt(t,r)}var ve=Dt.extend({options:{position:"topright"},initialize:function(t){C(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),c=this.getPosition(),p=t._controlCorners[c];return Jt(r,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(r,p.firstChild):p.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Fe=function(t){return new ve(t)};Vt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",c=this._controlContainer=ie("div",r+"control-container",this._container);function p(v,P){var $=r+v+" "+r+P;t[v+P]=ie("div",$,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ye(this._controlCorners[t]);ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yn=ve.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,c,p){return c<p?-1:p<c?1:0}},initialize:function(t,r,c){C(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in r)this._addLayer(r[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ve.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(m(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=ie("div",t),c=this.options.collapsed;r.setAttribute("aria-haspopup",!0),V(r),G(r);var p=this._section=ie("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Wt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=ie("a",t+"-toggle",r);v.href="#",v.title="Layers",v.setAttribute("role","button"),Wt(v,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){H(P),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ie("div",t+"-base",p),this._separator=ie("div",t+"-separator",p),this._overlaysList=ie("div",t+"-overlays",p),r.appendChild(p)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&m(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:c}),this.options.sortLayers&&this._layers.sort(f(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ei(this._baseLayersList),Ei(this._overlaysList),this._layerControlInputs=[];var t,r,c,p,v=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),r=r||p.overlay,t=t||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&v>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(m(t.target)),c=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,r)},_createRadioElement:function(t,r){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(t){var r=document.createElement("label"),c=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+m(this),c),this._layerControlInputs.push(p),p.layerId=m(t.layer),Wt(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+t.name;var P=document.createElement("span");r.appendChild(P),P.appendChild(p),P.appendChild(v);var $=t.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,r,c,p=[],v=[];this._handlingClick=!0;for(var P=t.length-1;P>=0;P--)r=t[P],c=this._getLayer(r.layerId).layer,r.checked?p.push(c):r.checked||v.push(c);for(P=0;P<v.length;P++)this._map.hasLayer(v[P])&&this._map.removeLayer(v[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,c,p=this._map.getZoom(),v=t.length-1;v>=0;v--)r=t[v],c=this._getLayer(r.layerId).layer,r.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Wt(t,"click",H),this.expand();var r=this;setTimeout(function(){a(t,"click",H),r._preventClick=!1})}}),Ao=function(t,r,c){return new yn(t,r,c)},Ai=ve.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",c=ie("div",r+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,r+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,r+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,c,p,v){var P=ie("a",c,p);return P.innerHTML=t,P.href="#",P.title=r,P.setAttribute("role","button"),P.setAttribute("aria-label",r),V(P),Wt(P,"click",J),Wt(P,"click",v,this),Wt(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";Ce(this._zoomInButton,r),Ce(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Jt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Jt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Vt.mergeOptions({zoomControl:!0}),Vt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ai,this.addControl(this.zoomControl))});var Zn=function(t){return new Ai(t)},Zr=ve.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",c=ie("div",r),p=this.options;return this._addScales(p,r+"-line",c),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,c){t.metric&&(this._mScale=ie("div",r,c)),t.imperial&&(this._iScale=ie("div",r,c))},_update:function(){var t=this._map,r=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),c=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,c,r/t)},_updateImperial:function(t){var r=t*3.2808399,c,p,v;r>5280?(c=r/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(v=this._getRoundNum(r),this._updateScale(this._iScale,v+" ft",v/r))},_updateScale:function(t,r,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),c=t/r;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,r*c}}),Io=function(t){return new Zr(t)},qs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ii=ve.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(zt.inlineSvg?qs+" ":"")+"Leaflet</a>"},initialize:function(t){C(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),V(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Vt.mergeOptions({attributionControl:!0}),Vt.addInitHook(function(){this.options.attributionControl&&new Ii().addTo(this)});var Ws=function(t){return new Ii(t)};ve.Layers=yn,ve.Zoom=Ai,ve.Scale=Zr,ve.Attribution=Ii,Fe.layers=Ao,Fe.zoom=Zn,Fe.scale=Io,Fe.attribution=Ws;var cn=Dt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});cn.addTo=function(t,r){return t.addHandler(r,this),this};var yf={Events:Lt},Ml=zt.touch?"touchstart mousedown":"mousedown",si=jt.extend({options:{clickTolerance:3},initialize:function(t,r,c,p){C(this,p),this._element=t,this._dragStartTarget=r||t,this._preventOutline=c},enable:function(){this._enabled||(Wt(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(si._dragging===this&&this.finishDrag(!0),a(this._dragStartTarget,Ml,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!tr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){si._dragging===this&&this.finishDrag();return}if(!(si._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(si._dragging=this,this._preventOutline&&Vr(this._element),Ri(),Ti(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,c=rr(this._element);this._startPoint=new dt(r.clientX,r.clientY),this._startPos=un(this._element),this._parentScale=Gr(c);var p=t.type==="mousedown";Wt(document,p?"mousemove":"touchmove",this._onMove,this),Wt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,c=new dt(r.clientX,r.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,H(t),this._moved||(this.fire("dragstart"),this._moved=!0,Jt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),a(document,"mousemove touchmove",this._onMove,this),a(document,"mouseup touchend touchcancel",this._onUp,this),Ur(),Oi();var r=this._moved&&this._moving;this._moving=!1,si._dragging=!1,r&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Pl(t,r,c){var p,v=[1,4,2,8],P,$,X,nt,mt,St,$t,ee;for(P=0,St=t.length;P<St;P++)t[P]._code=Bi(t[P],r);for(X=0;X<4;X++){for($t=v[X],p=[],P=0,St=t.length,$=St-1;P<St;$=P++)nt=t[P],mt=t[$],nt._code&$t?mt._code&$t||(ee=Bo(mt,nt,$t,r,c),ee._code=Bi(ee,r),p.push(ee)):(mt._code&$t&&(ee=Bo(mt,nt,$t,r,c),ee._code=Bi(ee,r),p.push(ee)),p.push(nt));t=p}return t}function Cl(t,r){var c,p,v,P,$,X,nt,mt,St;if(!t||t.length===0)throw new Error("latlngs not passed");hn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var $t=Bt([0,0]),ee=oe(t),Je=ee.getNorthWest().distanceTo(ee.getSouthWest())*ee.getNorthEast().distanceTo(ee.getNorthWest());Je<1700&&($t=Js(t));var Ue=t.length,fn=[];for(c=0;c<Ue;c++){var tn=Bt(t[c]);fn.push(r.project(Bt([tn.lat-$t.lat,tn.lng-$t.lng])))}for(X=nt=mt=0,c=0,p=Ue-1;c<Ue;p=c++)v=fn[c],P=fn[p],$=v.y*P.x-P.y*v.x,nt+=(v.x+P.x)*$,mt+=(v.y+P.y)*$,X+=$*3;X===0?St=fn[0]:St=[nt/X,mt/X];var cr=r.unproject(Ot(St));return Bt([cr.lat+$t.lat,cr.lng+$t.lng])}function Js(t){for(var r=0,c=0,p=0,v=0;v<t.length;v++){var P=Bt(t[v]);r+=P.lat,c+=P.lng,p++}return Bt([r/p,c/p])}var vf={__proto__:null,clipPolygon:Pl,polygonCenter:Cl,centroid:Js};function El(t,r){if(!r||!t.length)return t.slice();var c=r*r;return t=kf(t,c),t=Lf(t,c),t}function Sl(t,r,c){return Math.sqrt(Hr(t,r,c,!0))}function bf(t,r,c){return Hr(t,r,c)}function Lf(t,r){var c=t.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,v=new p(c);v[0]=v[c-1]=1,Ys(t,v,r,0,c-1);var P,$=[];for(P=0;P<c;P++)v[P]&&$.push(t[P]);return $}function Ys(t,r,c,p,v){var P=0,$,X,nt;for(X=p+1;X<=v-1;X++)nt=Hr(t[X],t[p],t[v],!0),nt>P&&($=X,P=nt);P>c&&(r[$]=1,Ys(t,r,c,p,$),Ys(t,r,c,$,v))}function kf(t,r){for(var c=[t[0]],p=1,v=0,P=t.length;p<P;p++)wf(t[p],t[v])>r&&(c.push(t[p]),v=p);return v<P-1&&c.push(t[P-1]),c}var Tl;function Ol(t,r,c,p,v){var P=p?Tl:Bi(t,c),$=Bi(r,c),X,nt,mt;for(Tl=$;;){if(!(P|$))return[t,r];if(P&$)return!1;X=P||$,nt=Bo(t,r,X,c,v),mt=Bi(nt,c),X===P?(t=nt,P=mt):(r=nt,$=mt)}}function Bo(t,r,c,p,v){var P=r.x-t.x,$=r.y-t.y,X=p.min,nt=p.max,mt,St;return c&8?(mt=t.x+P*(nt.y-t.y)/$,St=nt.y):c&4?(mt=t.x+P*(X.y-t.y)/$,St=X.y):c&2?(mt=nt.x,St=t.y+$*(nt.x-t.x)/P):c&1&&(mt=X.x,St=t.y+$*(X.x-t.x)/P),new dt(mt,St,v)}function Bi(t,r){var c=0;return t.x<r.min.x?c|=1:t.x>r.max.x&&(c|=2),t.y<r.min.y?c|=4:t.y>r.max.y&&(c|=8),c}function wf(t,r){var c=r.x-t.x,p=r.y-t.y;return c*c+p*p}function Hr(t,r,c,p){var v=r.x,P=r.y,$=c.x-v,X=c.y-P,nt=$*$+X*X,mt;return nt>0&&(mt=((t.x-v)*$+(t.y-P)*X)/nt,mt>1?(v=c.x,P=c.y):mt>0&&(v+=$*mt,P+=X*mt)),$=t.x-v,X=t.y-P,p?$*$+X*X:new dt(v,P)}function hn(t){return!Z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Rl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(t)}function Al(t,r){var c,p,v,P,$,X,nt,mt;if(!t||t.length===0)throw new Error("latlngs not passed");hn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var St=Bt([0,0]),$t=oe(t),ee=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());ee<1700&&(St=Js(t));var Je=t.length,Ue=[];for(c=0;c<Je;c++){var fn=Bt(t[c]);Ue.push(r.project(Bt([fn.lat-St.lat,fn.lng-St.lng])))}for(c=0,p=0;c<Je-1;c++)p+=Ue[c].distanceTo(Ue[c+1])/2;if(p===0)mt=Ue[0];else for(c=0,P=0;c<Je-1;c++)if($=Ue[c],X=Ue[c+1],v=$.distanceTo(X),P+=v,P>p){nt=(P-p)/v,mt=[X.x-nt*(X.x-$.x),X.y-nt*(X.y-$.y)];break}var tn=r.unproject(Ot(mt));return Bt([tn.lat+St.lat,tn.lng+St.lng])}var xf={__proto__:null,simplify:El,pointToSegmentDistance:Sl,closestPointOnSegment:bf,clipSegment:Ol,_getEdgeIntersection:Bo,_getBitCode:Bi,_sqClosestPointOnSegment:Hr,isFlat:hn,_flat:Rl,polylineCenter:Al},Xs={project:function(t){return new dt(t.lng,t.lat)},unproject:function(t){return new Qt(t.y,t.x)},bounds:new Ct([-180,-90],[180,90])},Qs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ct([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,c=this.R,p=t.lat*r,v=this.R_MINOR/c,P=Math.sqrt(1-v*v),$=P*Math.sin(p),X=Math.tan(Math.PI/4-p/2)/Math.pow((1-$)/(1+$),P/2);return p=-c*Math.log(Math.max(X,1e-10)),new dt(t.lng*r*c,p)},unproject:function(t){for(var r=180/Math.PI,c=this.R,p=this.R_MINOR/c,v=Math.sqrt(1-p*p),P=Math.exp(-t.y/c),$=Math.PI/2-2*Math.atan(P),X=0,nt=.1,mt;X<15&&Math.abs(nt)>1e-7;X++)mt=v*Math.sin($),mt=Math.pow((1-mt)/(1+mt),v/2),nt=Math.PI/2-2*Math.atan(P*mt)-$,$+=nt;return new Qt($*r,t.x*r/c)}},Mf={__proto__:null,LonLat:Xs,Mercator:Qs,SphericalMercator:Rt},Pf=l({},vt,{code:"EPSG:3395",projection:Qs,transformation:function(){var t=.5/(Math.PI*Qs.R);return U(t,.5,-t,.5)}()}),Il=l({},vt,{code:"EPSG:4326",projection:Xs,transformation:U(1/180,1,-1/180,.5)}),Cf=l({},at,{projection:Xs,transformation:U(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var c=r.lng-t.lng,p=r.lat-t.lat;return Math.sqrt(c*c+p*p)},infinite:!0});at.Earth=vt,at.EPSG3395=Pf,at.EPSG3857=K,at.EPSG900913=W,at.EPSG4326=Il,at.Simple=Cf;var vn=jt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var c=this.getEvents();r.on(c,this),this.once("remove",function(){r.off(c,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Vt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=m(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=m(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,r){for(var c in this._layers)t.call(r,this._layers[c]);return this},_addLayers:function(t){t=t?Z(t)?t:[t]:[];for(var r=0,c=t.length;r<c;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=m(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;t=v.minZoom===void 0?t:Math.min(t,v.minZoom),r=v.maxZoom===void 0?r:Math.max(r,v.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var or=vn.extend({initialize:function(t,r){C(this,r),this._layers={};var c,p;if(t)for(c=0,p=t.length;c<p;c++)this.addLayer(t[c])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[t]&&p[t].apply(p,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var c in this._layers)t.call(r,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),Ef=function(t,r){return new or(t,r)},Hn=or.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),or.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),or.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ge;for(var r in this._layers){var c=this._layers[r];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),Sf=function(t,r){return new Hn(t,r)},sr=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){C(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,r){var c=this.options,p=c[r+"Size"];typeof p=="number"&&(p=[p,p]);var v=Ot(p),P=Ot(r==="shadow"&&c.shadowAnchor||c.iconAnchor||v&&v.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(c.className||""),P&&(t.style.marginLeft=-P.x+"px",t.style.marginTop=-P.y+"px"),v&&(t.style.width=v.x+"px",t.style.height=v.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return zt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Tf(t){return new sr(t)}var $r=sr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof $r.imagePath!="string"&&($r.imagePath=this._detectIconPath()),(this.options.imagePath||$r.imagePath)+sr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(c,p,v){var P=p.exec(c);return P&&P[v]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ie("div","leaflet-default-icon-path",document.body),r=ri(t,"background-image")||ri(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Bl=cn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new si(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Jt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,c=r._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,P=un(r._icon),$=c.getPixelBounds(),X=c.getPixelOrigin(),nt=Ut($.min._subtract(X).add(v),$.max._subtract(X).subtract(v));if(!nt.contains(P)){var mt=Ot((Math.max(nt.max.x,P.x)-nt.max.x)/($.max.x-nt.max.x)-(Math.min(nt.min.x,P.x)-nt.min.x)/($.min.x-nt.min.x),(Math.max(nt.max.y,P.y)-nt.max.y)/($.max.y-nt.max.y)-(Math.min(nt.min.y,P.y)-nt.min.y)/($.min.y-nt.min.y)).multiplyBy(p);c.panBy(mt,{animate:!1}),this._draggable._newPos._add(mt),this._draggable._startPos._add(mt),be(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_t(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(it(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,c=r._shadow,p=un(r._icon),v=r._map.layerPointToLatLng(p);c&&be(c,p),r._latlng=v,t.latlng=v,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){it(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Do=vn.extend({options:{icon:new $r,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){C(this,r),this._latlng=Bt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=Bt(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Jt(c,r),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(c,"focus",this._panOnFocus,this);var v=t.icon.createShadow(this._shadow),P=!1;v!==this._shadow&&(this._removeShadow(),P=!0),v&&(Jt(v,r),v.alt=""),this._shadow=v,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&P&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&a(this._icon,"focus",this._panOnFocus,this),ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ye(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Bl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Bl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Qe(this._icon,t),this._shadow&&Qe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,c=r.iconSize?Ot(r.iconSize):Ot(0,0),p=r.iconAnchor?Ot(r.iconAnchor):Ot(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Of(t,r){return new Do(t,r)}var ai=vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return C(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),No=ai.extend({options:{fill:!0,radius:10},initialize:function(t,r){C(this,r),this._latlng=Bt(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=Bt(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return ai.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,c=this._clickTolerance(),p=[t+c,r+c];this._pxBounds=new Ct(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Rf(t,r){return new No(t,r)}var ta=No.extend({initialize:function(t,r,c){if(typeof r=="number"&&(r=l({},c,{radius:r})),C(this,r),this._latlng=Bt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ge(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ai.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===vt.distance){var v=Math.PI/180,P=this._mRadius/vt.R/v,$=c.project([r+P,t]),X=c.project([r-P,t]),nt=$.add(X).divideBy(2),mt=c.unproject(nt).lat,St=Math.acos((Math.cos(P*v)-Math.sin(r*v)*Math.sin(mt*v))/(Math.cos(r*v)*Math.cos(mt*v)))/v;(isNaN(St)||St===0)&&(St=P/Math.cos(Math.PI/180*r)),this._point=nt.subtract(c.getPixelOrigin()),this._radius=isNaN(St)?0:nt.x-c.project([mt,t-St]).x,this._radiusY=nt.y-$.y}else{var $t=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint($t).x}this._updateBounds()}});function Af(t,r,c){return new ta(t,r,c)}var $n=ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){C(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,c=null,p=Hr,v,P,$=0,X=this._parts.length;$<X;$++)for(var nt=this._parts[$],mt=1,St=nt.length;mt<St;mt++){v=nt[mt-1],P=nt[mt];var $t=p(t,v,P,!0);$t<r&&(r=$t,c=p(t,v,P))}return c&&(c.distance=Math.sqrt(r)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Al(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=Bt(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ge,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],c=hn(t),p=0,v=t.length;p<v;p++)c?(r[p]=Bt(t[p]),this._bounds.extend(r[p])):r[p]=this._convertLatLngs(t[p]);return r},_project:function(){var t=new Ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new dt(t,t);this._rawPxBounds&&(this._pxBounds=new Ct([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,c){var p=t[0]instanceof Qt,v=t.length,P,$;if(p){for($=[],P=0;P<v;P++)$[P]=this._map.latLngToLayerPoint(t[P]),c.extend($[P]);r.push($)}else for(P=0;P<v;P++)this._projectLatlngs(t[P],r,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,c,p,v,P,$,X,nt;for(c=0,v=0,P=this._rings.length;c<P;c++)for(nt=this._rings[c],p=0,$=nt.length;p<$-1;p++)X=Ol(nt[p],nt[p+1],t,p,!0),X&&(r[v]=r[v]||[],r[v].push(X[0]),(X[1]!==nt[p+1]||p===$-2)&&(r[v].push(X[1]),v++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,c=0,p=t.length;c<p;c++)t[c]=El(t[c],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var c,p,v,P,$,X,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,P=this._parts.length;c<P;c++)for(X=this._parts[c],p=0,$=X.length,v=$-1;p<$;v=p++)if(!(!r&&p===0)&&Sl(t,X[v],X[p])<=nt)return!0;return!1}});function If(t,r){return new $n(t,r)}$n._flat=Rl;var ar=$n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=$n.prototype._convertLatLngs.call(this,t),c=r.length;return c>=2&&r[0]instanceof Qt&&r[0].equals(r[c-1])&&r.pop(),r},_setLatLngs:function(t){$n.prototype._setLatLngs.call(this,t),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,c=new dt(r,r);if(t=new Ct(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,P;p<v;p++)P=Pl(this._rings[p],t,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,c,p,v,P,$,X,nt,mt;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(P=0,nt=this._parts.length;P<nt;P++)for(c=this._parts[P],$=0,mt=c.length,X=mt-1;$<mt;X=$++)p=c[$],v=c[X],p.y>t.y!=v.y>t.y&&t.x<(v.x-p.x)*(t.y-p.y)/(v.y-p.y)+p.x&&(r=!r);return r||$n.prototype._containsPoint.call(this,t,!0)}});function Bf(t,r){return new ar(t,r)}var Kn=Hn.extend({initialize:function(t,r){C(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=Z(t)?t:t.features,c,p,v;if(r){for(c=0,p=r.length;c<p;c++)v=r[c],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var P=this.options;if(P.filter&&!P.filter(t))return this;var $=zo(t,P);return $?($.feature=Uo(t),$.defaultOptions=$.options,this.resetStyle($),P.onEachFeature&&P.onEachFeature(t,$),this.addLayer($)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function zo(t,r){var c=t.type==="Feature"?t.geometry:t,p=c?c.coordinates:null,v=[],P=r&&r.pointToLayer,$=r&&r.coordsToLatLng||ea,X,nt,mt,St;if(!p&&!c)return null;switch(c.type){case"Point":return X=$(p),Dl(P,t,X,r);case"MultiPoint":for(mt=0,St=p.length;mt<St;mt++)X=$(p[mt]),v.push(Dl(P,t,X,r));return new Hn(v);case"LineString":case"MultiLineString":return nt=jo(p,c.type==="LineString"?0:1,$),new $n(nt,r);case"Polygon":case"MultiPolygon":return nt=jo(p,c.type==="Polygon"?1:2,$),new ar(nt,r);case"GeometryCollection":for(mt=0,St=c.geometries.length;mt<St;mt++){var $t=zo({geometry:c.geometries[mt],type:"Feature",properties:t.properties},r);$t&&v.push($t)}return new Hn(v);case"FeatureCollection":for(mt=0,St=c.features.length;mt<St;mt++){var ee=zo(c.features[mt],r);ee&&v.push(ee)}return new Hn(v);default:throw new Error("Invalid GeoJSON object.")}}function Dl(t,r,c,p){return t?t(r,c):new Do(c,p&&p.markersInheritOptions&&p)}function ea(t){return new Qt(t[1],t[0],t[2])}function jo(t,r,c){for(var p=[],v=0,P=t.length,$;v<P;v++)$=r?jo(t[v],r-1,c):(c||ea)(t[v]),p.push($);return p}function na(t,r){return t=Bt(t),t.alt!==void 0?[M(t.lng,r),M(t.lat,r),M(t.alt,r)]:[M(t.lng,r),M(t.lat,r)]}function Fo(t,r,c,p){for(var v=[],P=0,$=t.length;P<$;P++)v.push(r?Fo(t[P],hn(t[P])?0:r-1,c,p):na(t[P],p));return!r&&c&&v.length>0&&v.push(v[0].slice()),v}function lr(t,r){return t.feature?l({},t.feature,{geometry:r}):Uo(r)}function Uo(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ia={toGeoJSON:function(t){return lr(this,{type:"Point",coordinates:na(this.getLatLng(),t)})}};Do.include(ia),ta.include(ia),No.include(ia),$n.include({toGeoJSON:function(t){var r=!hn(this._latlngs),c=Fo(this._latlngs,r?1:0,!1,t);return lr(this,{type:(r?"Multi":"")+"LineString",coordinates:c})}}),ar.include({toGeoJSON:function(t){var r=!hn(this._latlngs),c=r&&!hn(this._latlngs[0]),p=Fo(this._latlngs,c?2:r?1:0,!0,t);return r||(p=[p]),lr(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),or.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(c){r.push(c.toGeoJSON(t).geometry.coordinates)}),lr(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var c=r==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var P=v.toGeoJSON(t);if(c)p.push(P.geometry);else{var $=Uo(P);$.type==="FeatureCollection"?p.push.apply(p,$.features):p.push($)}}}),c?lr(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Nl(t,r){return new Kn(t,r)}var Df=Nl,Vo=vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,c){this._url=t,this._bounds=oe(r),C(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Vn(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=oe(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:ie("img");if(Jt(r,"leaflet-image-layer"),this._zoomAnimated&&Jt(r,"leaflet-zoom-animated"),this.options.className&&Jt(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onload=f(this.fire,this,"load"),r.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Sn(this._image,c,r)},_reset:function(){var t=this._image,r=new Ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=r.getSize();be(t,r.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){Qe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Nf=function(t,r,c){return new Vo(t,r,c)},zl=Vo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:ie("video");if(Jt(r,"leaflet-image-layer"),this._zoomAnimated&&Jt(r,"leaflet-zoom-animated"),this.options.className&&Jt(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onloadeddata=f(this.fire,this,"load"),t){for(var c=r.getElementsByTagName("source"),p=[],v=0;v<c.length;v++)p.push(c[v].src);this._url=c.length>0?p:[r.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var $=ie("source");$.src=this._url[P],r.appendChild($)}}});function zf(t,r,c){return new zl(t,r,c)}var jl=Vo.extend({_initImage:function(){var t=this._image=this._url;Jt(t,"leaflet-image-layer"),this._zoomAnimated&&Jt(t,"leaflet-zoom-animated"),this.options.className&&Jt(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function jf(t,r,c){return new jl(t,r,c)}var On=vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof Qt||Z(t))?(this._latlng=Bt(t),C(this,r)):(C(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Qe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Qe(this._container,1),this.bringToFront(),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Qe(this._container,0),this._removeTimeout=setTimeout(f(ye,void 0,this._container),200)):ye(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Bt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vn(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof Hn){r=null;var c=this._source._layers;for(var p in c)if(c[p]._map){r=c[p];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=Ot(this.options.offset),c=this._getAnchor();this._zoomAnimated?be(this._container,t.add(c)):r=r.add(t).add(c);var p=this._containerBottom=-r.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Vt.include({_initOverlay:function(t,r,c,p){var v=r;return v instanceof t||(v=new t(p).setContent(r)),c&&v.setLatLng(c),v}}),vn.include({_initOverlay:function(t,r,c,p){var v=c;return v instanceof t?(C(v,p),v._source=this):(v=r&&!p?r:new t(p,this),v.setContent(c)),v}});var Go=On.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,On.prototype.openOn.call(this,t)},onAdd:function(t){On.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ai||this._source.on("preclick",z))},onRemove:function(t){On.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ai||this._source.off("preclick",z))},getEvents:function(){var t=On.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=ie("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ie("div",t+"-content-wrapper",r);if(this._contentNode=ie("div",t+"-content",c),V(r),G(this._contentNode),Wt(r,"contextmenu",z),this._tipContainer=ie("div",t+"-tip-container",r),this._tip=ie("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=ie("a",t+"-close-button",r);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(p,"click",function(v){H(v),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),r.width=c+1+"px",r.whiteSpace="",r.height="";var p=t.offsetHeight,v=this.options.maxHeight,P="leaflet-popup-scrolled";v&&p>v?(r.height=v+"px",Jt(t,P)):Ce(t,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();be(this._container,r.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(ri(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+r,p=this._containerWidth,v=new dt(this._containerLeft,-c-this._containerBottom);v._add(un(this._container));var P=t.layerPointToContainerPoint(v),$=Ot(this.options.autoPanPadding),X=Ot(this.options.autoPanPaddingTopLeft||$),nt=Ot(this.options.autoPanPaddingBottomRight||$),mt=t.getSize(),St=0,$t=0;P.x+p+nt.x>mt.x&&(St=P.x+p-mt.x+nt.x),P.x-St-X.x<0&&(St=P.x-X.x),P.y+c+nt.y>mt.y&&($t=P.y+c-mt.y+nt.y),P.y-$t-X.y<0&&($t=P.y-X.y),(St||$t)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([St,$t]))}},_getAnchor:function(){return Ot(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ff=function(t,r){return new Go(t,r)};Vt.mergeOptions({closePopupOnClick:!0}),Vt.include({openPopup:function(t,r,c){return this._initOverlay(Go,t,r,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),vn.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Go,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Hn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){J(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Zo=On.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){On.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){On.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=On.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,c,p=this._map,v=this._container,P=p.latLngToContainerPoint(p.getCenter()),$=p.layerPointToContainerPoint(t),X=this.options.direction,nt=v.offsetWidth,mt=v.offsetHeight,St=Ot(this.options.offset),$t=this._getAnchor();X==="top"?(r=nt/2,c=mt):X==="bottom"?(r=nt/2,c=0):X==="center"?(r=nt/2,c=mt/2):X==="right"?(r=0,c=mt/2):X==="left"?(r=nt,c=mt/2):$.x<P.x?(X="right",r=0,c=mt/2):(X="left",r=nt+(St.x+$t.x)*2,c=mt/2),t=t.subtract(Ot(r,c,!0)).add(St).add($t),Ce(v,"leaflet-tooltip-right"),Ce(v,"leaflet-tooltip-left"),Ce(v,"leaflet-tooltip-top"),Ce(v,"leaflet-tooltip-bottom"),Jt(v,"leaflet-tooltip-"+X),be(v,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Qe(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return Ot(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Uf=function(t,r){return new Zo(t,r)};Vt.include({openTooltip:function(t,r,c){return this._initOverlay(Zo,t,r,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),vn.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zo,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[r](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Hn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&(Wt(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Wt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var r=t.latlng,c,p;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(c),r=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(r)}});var Fl=sr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ei(r),r.appendChild(c.html)):r.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=Ot(c.bgPos);r.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Vf(t){return new Fl(t)}sr.Default=$r;var Kr=vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){C(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ye(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof dt?t:new dt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,c=-t(-1/0,1/0),p=0,v=r.length,P;p<v;p++)P=r[p].style.zIndex,r[p]!==this._container&&P&&(c=t(c,+P));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zt.ielt9){Qe(this._container,this.options.opacity);var t=+new Date,r=!1,c=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var P=Math.min(1,(t-v.loaded)/200);Qe(v.el,P),P<1?r=!0:(v.active?c=!0:this._onOpaqueTile(v),v.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),r&&(it(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=r-Math.abs(t-c),this._onUpdateLevel(c)):(ye(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[t],v=this._map;return p||(p=this._levels[t]={},p.el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=r,p.origin=v.project(v.unproject(v.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,v.getCenter(),v.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,r,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var p=r.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ye(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,c,p){var v=Math.floor(t/2),P=Math.floor(r/2),$=c-1,X=new dt(+v,+P);X.z=+$;var nt=this._tileCoordsToKey(X),mt=this._tiles[nt];return mt&&mt.active?(mt.retain=!0,!0):(mt&&mt.loaded&&(mt.retain=!0),$>p?this._retainParent(v,P,$,p):!1)},_retainChildren:function(t,r,c,p){for(var v=2*t;v<2*t+2;v++)for(var P=2*r;P<2*r+2;P++){var $=new dt(v,P);$.z=c+1;var X=this._tileCoordsToKey($),nt=this._tiles[X];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);c+1<p&&this._retainChildren(v,P,c+1,p)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,c,p){var v=Math.round(r);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var P=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||P)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,r)},_setZoomTransform:function(t,r,c){var p=this._map.getZoomScale(c,t.zoom),v=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(r,c)).round();zt.any3d?Sn(t.el,v,p):be(t.el,v)},_resetGrid:function(){var t=this._map,r=t.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],p).x/c.x),Math.ceil(t.project([0,r.wrapLng[1]],p).x/c.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],p).y/c.x),Math.ceil(t.project([r.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,c=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),p=r.getZoomScale(c,this._tileZoom),v=r.project(t,this._tileZoom).floor(),P=r.getSize().divideBy(p*2);return new Ct(v.subtract(P),v.add(P))},_update:function(t){var r=this._map;if(r){var c=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),v=this._pxBoundsToTileRange(p),P=v.getCenter(),$=[],X=this.options.keepBuffer,nt=new Ct(v.getBottomLeft().subtract([X,-X]),v.getTopRight().add([X,-X]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var mt in this._tiles){var St=this._tiles[mt].coords;(St.z!==this._tileZoom||!nt.contains(new dt(St.x,St.y)))&&(this._tiles[mt].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var $t=v.min.y;$t<=v.max.y;$t++)for(var ee=v.min.x;ee<=v.max.x;ee++){var Je=new dt(ee,$t);if(Je.z=this._tileZoom,!!this._isValidTile(Je)){var Ue=this._tiles[this._tileCoordsToKey(Je)];Ue?Ue.current=!0:$.push(Je)}}if($.sort(function(tn,cr){return tn.distanceTo(P)-cr.distanceTo(P)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fn=document.createDocumentFragment();for(ee=0;ee<$.length;ee++)this._addTile($[ee],fn);this._level.el.appendChild(fn)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var c=this._globalTileRange;if(!r.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!r.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return oe(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,c=this.getTileSize(),p=t.scaleBy(c),v=p.add(c),P=r.unproject(p,t.z),$=r.unproject(v,t.z);return[P,$]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),c=new ge(r[0],r[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),c=new dt(+r[0],+r[1]);return c.z=+r[2],c},_removeTile:function(t){var r=this._tiles[t];r&&(ye(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Jt(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=x,t.onmousemove=x,zt.ielt9&&this.options.opacity<1&&Qe(t,this.options.opacity)},_addTile:function(t,r){var c=this._getTilePos(t),p=this._tileCoordsToKey(t),v=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(v),this.createTile.length<2&&_t(f(this._tileReady,this,t,null,v)),be(v,c),this._tiles[p]={el:v,coords:t,current:!0},r.appendChild(v),this.fire("tileloadstart",{tile:v,coords:t})},_tileReady:function(t,r,c){r&&this.fire("tileerror",{error:r,tile:c,coords:t});var p=this._tileCoordsToKey(t);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Qe(c.el,0),it(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),r||(Jt(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zt.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new dt(this._wrapX?y(t.x,this._wrapX):t.x,this._wrapY?y(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new Ct(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Gf(t){return new Kr(t)}var ur=Kr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=C(this,r),r.detectRetina&&zt.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var c=document.createElement("img");return Wt(c,"load",f(this._tileOnLoad,this,r,c)),Wt(c,"error",f(this._tileOnError,this,r,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var r={r:zt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=c),r["-y"]=c}return D(this._url,l(r,this.options))},_tileOnLoad:function(t,r){zt.ielt9?setTimeout(f(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,c){var p=this.options.errorTileUrl;p&&r.getAttribute("src")!==p&&(r.src=p),t(c,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(t=r-t),t+p},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=x,r.onerror=x,!r.complete)){r.src=N;var c=this._tiles[t].coords;ye(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:c})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",N),Kr.prototype._removeTile.call(this,t)},_tileReady:function(t,r,c){if(!(!this._map||c&&c.getAttribute("src")===N))return Kr.prototype._tileReady.call(this,t,r,c)}});function Ul(t,r){return new ur(t,r)}var Vl=ur.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var c=l({},this.defaultWmsParams);for(var p in r)p in this.options||(c[p]=r[p]);r=C(this,r);var v=r.detectRetina&&zt.retina?2:1,P=this.getTileSize();c.width=P.x*v,c.height=P.y*v,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,ur.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),c=this._crs,p=Ut(c.project(r[0]),c.project(r[1])),v=p.min,P=p.max,$=(this._wmsVersion>=1.3&&this._crs===Il?[v.y,v.x,P.y,P.x]:[v.x,v.y,P.x,P.y]).join(","),X=ur.prototype.getTileUrl.call(this,t);return X+F(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(t,r){return l(this.wmsParams,t),r||this.redraw(),this}});function Zf(t,r){return new Vl(t,r)}ur.WMS=Vl,Ul.wms=Zf;var qn=vn.extend({options:{padding:.1},initialize:function(t){C(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var c=this._map.getZoomScale(r,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,r),P=p.multiplyBy(-c).add(v).subtract(this._map._getNewPixelOrigin(t,r));zt.any3d?Sn(this._container,P,c):be(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),c=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new Ct(c,c.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gl=qn.extend({options:{tolerance:0},getEvents:function(){var t=qn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Wt(t,"mousemove",this._onMouseMove,this),Wt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){it(this._redrawRequest),delete this._ctx,ye(this._container),a(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var t=this._bounds,r=this._container,c=t.getSize(),p=zt.retina?2:1;be(r,t.min),r.width=p*c.x,r.height=p*c.y,r.style.width=c.x+"px",r.style.height=c.y+"px",zt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,c=r.next,p=r.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),c=[],p,v;for(v=0;v<r.length;v++){if(p=Number(r[v]),isNaN(p))return;c.push(p)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ct,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var c=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var c,p,v,P,$=t._parts,X=$.length,nt=this._ctx;if(X){for(nt.beginPath(),c=0;c<X;c++){for(p=0,v=$[c].length;p<v;p++)P=$[c][p],nt[p?"lineTo":"moveTo"](P.x,P.y);r&&nt.closePath()}this._fillStroke(nt,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,c=this._ctx,p=Math.max(Math.round(t._radius),1),v=(Math.max(Math.round(t._radiusY),1)||p)/p;v!==1&&(c.save(),c.scale(1,v)),c.beginPath(),c.arc(r.x,r.y/v,p,0,Math.PI*2,!1),v!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,r){var c=r.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),c,p,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var c,p,v=this._drawFirst;v;v=v.next)c=v.layer,c.options.interactive&&c._containsPoint(r)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,c){this._map._fireDOMEvent(r,c||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var c=r.next,p=r.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var c=r.next,p=r.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function Zl(t){return zt.canvas?new Gl(t):null}var qr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hf={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=qr("shape");Jt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=qr("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;ye(r),t.removeInteractiveTarget(r),delete this._layers[m(t)]},_updateStyle:function(t){var r=t._stroke,c=t._fill,p=t.options,v=t._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(r||(r=t._stroke=qr("stroke")),v.appendChild(r),r.weight=p.weight+"px",r.color=p.color,r.opacity=p.opacity,p.dashArray?r.dashStyle=Z(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=p.lineCap.replace("butt","flat"),r.joinstyle=p.lineJoin):r&&(v.removeChild(r),t._stroke=null),p.fill?(c||(c=t._fill=qr("fill")),v.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(v.removeChild(c),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),c=Math.round(t._radius),p=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){Vn(t._container)},_bringToBack:function(t){Gn(t._container)}},Ho=zt.vml?qr:st,Wr=qn.extend({_initContainer:function(){this._container=Ho("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ho("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ye(this._container),a(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var t=this._bounds,r=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,c.setAttribute("width",r.x),c.setAttribute("height",r.y)),be(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Ho("path");t.options.className&&Jt(r,t.options.className),t.options.interactive&&Jt(r,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ye(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,c=t.options;r&&(c.stroke?(r.setAttribute("stroke",c.color),r.setAttribute("stroke-opacity",c.opacity),r.setAttribute("stroke-width",c.weight),r.setAttribute("stroke-linecap",c.lineCap),r.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?r.setAttribute("stroke-dasharray",c.dashArray):r.removeAttribute("stroke-dasharray"),c.dashOffset?r.setAttribute("stroke-dashoffset",c.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),c.fill?(r.setAttribute("fill",c.fillColor||c.color),r.setAttribute("fill-opacity",c.fillOpacity),r.setAttribute("fill-rule",c.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,ct(t._parts,r))},_updateCircle:function(t){var r=t._point,c=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||c,v="a"+c+","+p+" 0 1,0 ",P=t._empty()?"M0 0":"M"+(r.x-c)+","+r.y+v+c*2+",0 "+v+-c*2+",0 ";this._setPath(t,P)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){Vn(t._path)},_bringToBack:function(t){Gn(t._path)}});zt.vml&&Wr.include(Hf);function Hl(t){return zt.svg||zt.vml?new Wr(t):null}Vt.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&Zl(t)||Hl(t)}});var $l=ar.extend({initialize:function(t,r){ar.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=oe(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function $f(t,r){return new $l(t,r)}Wr.create=Ho,Wr.pointsToPath=ct,Kn.geometryToLayer=zo,Kn.coordsToLatLng=ea,Kn.coordsToLatLngs=jo,Kn.latLngToCoords=na,Kn.latLngsToCoords=Fo,Kn.getFeature=lr,Kn.asFeature=Uo,Vt.mergeOptions({boxZoom:!0});var Kl=cn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){a(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ti(),Ri(),this._startPoint=this._map.mouseEventToContainerPoint(t),Wt(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),Jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new Ct(this._point,this._startPoint),c=r.getSize();be(this._box,r.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ye(this._box),Ce(this._container,"leaflet-crosshair")),Oi(),Ur(),a(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var r=new ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Vt.addInitHook("addHandler","boxZoom",Kl),Vt.mergeOptions({doubleClickZoom:!0});var ql=cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,c=r.getZoom(),p=r.options.zoomDelta,v=t.originalEvent.shiftKey?c-p:c+p;r.options.doubleClickZoom==="center"?r.setZoom(v):r.setZoomAround(t.containerPoint,v)}});Vt.addInitHook("addHandler","doubleClickZoom",ql),Vt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wl=cn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new si(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=oe(this._map.options.maxBounds);this._offsetLimit=Ut(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-r+c)%t+r-c,P=(p+r+c)%t-r-c,$=Math.abs(v+c)<Math.abs(P+c)?v:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(t){var r=this._map,c=r.options,p=!c.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),p)r.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,$=c.easeLinearity,X=v.multiplyBy($/P),nt=X.distanceTo([0,0]),mt=Math.min(c.inertiaMaxSpeed,nt),St=X.multiplyBy(mt/nt),$t=mt/(c.inertiaDeceleration*$),ee=St.multiplyBy(-$t/2).round();!ee.x&&!ee.y?r.fire("moveend"):(ee=r._limitOffset(ee,r.options.maxBounds),_t(function(){r.panBy(ee,{duration:$t,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Vt.addInitHook("addHandler","dragging",Wl),Vt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jl=cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Wt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),a(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,c=t.scrollTop||r.scrollTop,p=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},c=this.keyCodes,p,v;for(p=0,v=c.left.length;p<v;p++)r[c.left[p]]=[-1*t,0];for(p=0,v=c.right.length;p<v;p++)r[c.right[p]]=[t,0];for(p=0,v=c.down.length;p<v;p++)r[c.down[p]]=[0,t];for(p=0,v=c.up.length;p<v;p++)r[c.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},c=this.keyCodes,p,v;for(p=0,v=c.zoomIn.length;p<v;p++)r[c.zoomIn[p]]=t;for(p=0,v=c.zoomOut.length;p<v;p++)r[c.zoomOut[p]]=-t},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){a(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,c=this._map,p;if(r in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[r],t.shiftKey&&(p=Ot(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(Ot(p),c.options.maxBounds)),c.options.worldCopyJump){var v=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(v)}else c.panBy(p)}else if(r in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;J(t)}}});Vt.addInitHook("addHandler","keyboard",Jl),Vt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yl=cn.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){a(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=xt(t),c=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),p),J(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=c?Math.ceil(v/c)*c:v,$=t._limitZoom(r+(this._delta>0?P:-P))-r;this._delta=0,this._startTime=null,$&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+$):t.setZoomAround(this._lastMousePos,r+$))}});Vt.addInitHook("addHandler","scrollWheelZoom",Yl);var Kf=600;Vt.mergeOptions({tapHold:zt.touchNative&&zt.safari&&zt.mobile,tapTolerance:15});var Xl=cn.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){a(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new dt(r.clientX,r.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",H),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Kf),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){a(document,"touchend",H),a(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),a(document,"touchend touchcancel contextmenu",this._cancel,this),a(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new dt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});c._simulated=!0,r.target.dispatchEvent(c)}});Vt.addInitHook("addHandler","tapHold",Xl),Vt.mergeOptions({touchZoom:zt.touch,bounceAtZoomLimits:!0});var Ql=cn.extend({addHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),a(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var c=r.mouseEventToContainerPoint(t.touches[0]),p=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),H(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,c=r.mouseEventToContainerPoint(t.touches[0]),p=r.mouseEventToContainerPoint(t.touches[1]),v=c.distanceTo(p)/this._startDist;if(this._zoom=r.getScaleZoom(v,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&v<1||this._zoom>r.getMaxZoom()&&v>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var P=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&P.x===0&&P.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),it(this._animRequest);var $=f(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_t($,this,!0),H(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,it(this._animRequest),a(document,"touchmove",this._onTouchMove,this),a(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Vt.addInitHook("addHandler","touchZoom",Ql),Vt.BoxZoom=Kl,Vt.DoubleClickZoom=ql,Vt.Drag=Wl,Vt.Keyboard=Jl,Vt.ScrollWheelZoom=Yl,Vt.TapHold=Xl,Vt.TouchZoom=Ql,o.Bounds=Ct,o.Browser=zt,o.CRS=at,o.Canvas=Gl,o.Circle=ta,o.CircleMarker=No,o.Class=Dt,o.Control=ve,o.DivIcon=Fl,o.DivOverlay=On,o.DomEvent=Yt,o.DomUtil=Ks,o.Draggable=si,o.Evented=jt,o.FeatureGroup=Hn,o.GeoJSON=Kn,o.GridLayer=Kr,o.Handler=cn,o.Icon=sr,o.ImageOverlay=Vo,o.LatLng=Qt,o.LatLngBounds=ge,o.Layer=vn,o.LayerGroup=or,o.LineUtil=xf,o.Map=Vt,o.Marker=Do,o.Mixin=yf,o.Path=ai,o.Point=dt,o.PolyUtil=vf,o.Polygon=ar,o.Polyline=$n,o.Popup=Go,o.PosAnimation=fe,o.Projection=Mf,o.Rectangle=$l,o.Renderer=qn,o.SVG=Wr,o.SVGOverlay=jl,o.TileLayer=ur,o.Tooltip=Zo,o.Transformation=te,o.Util=gt,o.VideoOverlay=zl,o.bind=f,o.bounds=Ut,o.canvas=Zl,o.circle=Af,o.circleMarker=Rf,o.control=Fe,o.divIcon=Vf,o.extend=l,o.featureGroup=Sf,o.geoJSON=Nl,o.geoJson=Df,o.gridLayer=Gf,o.icon=Tf,o.imageOverlay=Nf,o.latLng=Bt,o.latLngBounds=oe,o.layerGroup=Ef,o.map=de,o.marker=Of,o.point=Ot,o.polygon=Bf,o.polyline=If,o.popup=Ff,o.rectangle=$f,o.setOptions=C,o.stamp=m,o.svg=Hl,o.svgOverlay=jf,o.tileLayer=Ul,o.tooltip=Uf,o.transformation=U,o.version=s,o.videoOverlay=zf;var qf=window.L;o.noConflict=function(){return window.L=qf,this},window.L=o})})(tc,tc.exports);const Hg=Th("store",()=>{const e=Nt(null),n=Nt(null),o=Nt(null),s=Nt(null),l=Nt([]),u=Nt(!1),f=$e(()=>{var E;return(E=n.value)==null?void 0:E["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]}),d=$e(()=>f.value?typeof f.value=="string"?f.value==="Admin":f.value.includes("Admin"):!1),m=$e(()=>f.value?typeof f.value=="string"?f.value==="Inspector":f.value.includes("Inspector"):!1);function _(){var E;u.value=!0,(E=s.value)==null||E.pm.enableDraw("Poly",{snappable:!1})}function y(){var E,C;u.value=!1,(E=s.value)==null||E.pm.disableDraw("Poly"),(C=s.value)==null||C.off("pm:create")}function x(){return _(),new Promise((E,C)=>{var F;(F=s.value)==null||F.once("pm:create",A=>{const D=A.layer.toGeoJSON();E(D.geometry),y()})})}function M(){var E;_(),(E=s.value)==null||E.once("pm:create",async C=>{const F=C.layer.toGeoJSON();await pe.zoneAPI.create(F.geometry),y(),await B()})}async function B(){l.value=await pe.zoneAPI.all()}return Bn(e,(E,C)=>{E&&(o.value=E.vehicles[0])}),{user:e,userDataFromToken:n,selectedVehicle:o,map:s,zones:l,drawing:u,userClaims:f,isAdmin:d,isInspector:m,enableDraw:_,disableDraw:y,drawZone:M,drawArea:x,requestZones:B}}),We=Hg;var us=(e=>(e.LOGIN="login",e.REGISTER="register",e.ZONE="zone",e.SETTINGS="settings",e.SUBSCRIPTION="subscription",e))(us||{});const xi=Th("dialogStore",()=>{const e=Nt(null),n=Nt(!1);function o(B){e.value=B}function s(){e.value=null,l.value=null,u.value=null,f.value=!1,d.value=null,m.value=null}const l=Nt(null),u=Nt(null),f=Nt(!1),d=Nt(null),m=Nt(null);function _(B,E,C){l.value=B,u.value=E,C&&(d.value=C),o("zone")}function y(){o("settings")}function x(){o("subscription")}async function M(B=!1){if(f.value=!f.value,u.value.layer.pm.toggleEdit(),B){We().requestZones();return}const E=u.value.layer.options.zoneInfo;E.geoJSON=u.value.layer.toGeoJSON(),await pe.zoneAPI.update(E)}return{dialogType:e,showRegisterDialog:n,selectedZone:l,selectedZonePolygon:u,zoneEditing:f,selectedArea:d,selectedParkingSpace:m,openDialog:o,closeDialog:s,openZoneDialog:_,openSettingsDialog:y,openSubscriptionDialog:x,toggleEditingZone:M}}),$g=Ne({__name:"DialogContainer",setup(e){const n=xi(),o=We();return(s,l)=>Tr((Et(),Zt("div",{class:"dialog-container",onClick:l[0]||(l[0]=(...u)=>Mt(n).closeDialog&&Mt(n).closeDialog(...u))},[hl(s.$slots,"default",{},void 0,!0)],512)),[[Mh,!Mt(n).zoneEditing&&!Mt(o).drawing]])}});const rn=(e,n)=>{const o=e.__vccOpts||e;for(const[s,l]of n)o[s]=l;return o},Kg=rn($g,[["__scopeId","data-v-431c34b6"]]);var xn=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e))(xn||{});const qg={},Wg={class:"loader"};function Jg(e,n){return Et(),Zt("div",Wg)}const Yg=rn(qg,[["render",Jg],["__scopeId","data-v-7d7dad28"]]),Xg={key:0,class:"loader-container"},Qg={class:"text"},ty=Ne({__name:"ButtonComponent",props:{label:{},callback:{},type:{default:xn.PRIMARY},loading:{type:Boolean}},setup(e){const n=e;async function o(){await n.callback()}return(s,l)=>(Et(),Zt("div",{class:Qn(["button-component",s.type])},[At("button",{onClick:o},[Tt(Bs,null,{default:zn(()=>[s.loading?(Et(),Zt("div",Xg,[Tt(Yg)])):Le("",!0)]),_:1}),At("div",Qg,Ee(s.label),1)])],2))}});const we=rn(ty,[["__scopeId","data-v-928a53db"]]),ey={class:"floating-buttons"},ny=Ne({__name:"FloatingButtons",setup(e){const n=We(),o=xi();return(s,l)=>(Et(),Zt("div",ey,[Mt(n).isAdmin?(Et(),Zt(_e,{key:0},[Mt(o).zoneEditing?Le("",!0):(Et(),Te(we,{key:0,label:Mt(n).drawing?"Cancel":"Add Zone",callback:Mt(n).drawing?Mt(n).disableDraw:Mt(n).drawZone},null,8,["label","callback"])),Mt(o).zoneEditing?(Et(),Te(we,{key:1,label:"Cancel",callback:()=>Mt(o).toggleEditingZone(!0)},null,8,["callback"])):Le("",!0),Mt(o).zoneEditing?(Et(),Te(we,{key:2,label:"Finish",callback:Mt(o).toggleEditingZone},null,8,["callback"])):Le("",!0)],64)):Le("",!0)]))}});const iy=rn(ny,[["__scopeId","data-v-aa280ccc"]]);/*! maska v2.1.10 | (c) Alexander Shabunevich | Released under the MIT license */var ry=Object.defineProperty,oy=(e,n,o)=>n in e?ry(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,lo=(e,n,o)=>(oy(e,typeof n!="symbol"?n+"":n,o),o);const ec={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class nc{constructor(n={}){lo(this,"opts",{}),lo(this,"memo",new Map);const o={...n};if(o.tokens!=null){o.tokens=o.tokensReplace?{...o.tokens}:{...ec,...o.tokens};for(const s of Object.values(o.tokens))typeof s.pattern=="string"&&(s.pattern=new RegExp(s.pattern))}else o.tokens=ec;Array.isArray(o.mask)&&(o.mask.length>1?o.mask=[...o.mask].sort((s,l)=>s.length-l.length):o.mask=o.mask[0]??""),o.mask===""&&(o.mask=null),this.opts=o}masked(n){return this.process(n,this.findMask(n))}unmasked(n){return this.process(n,this.findMask(n),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(n){const o=this.findMask(n);if(this.opts.mask==null||o==null)return!1;const s=this.process(n,o).length;return typeof this.opts.mask=="string"?s>=this.opts.mask.length:typeof this.opts.mask=="function"?s>=o.length:this.opts.mask.filter(l=>s>=l.length).length===this.opts.mask.length}findMask(n){const o=this.opts.mask;if(o==null)return null;if(typeof o=="string")return o;if(typeof o=="function")return o(n);const s=this.process(n,o.slice(-1).pop()??"",!1);return o.find(l=>this.process(n,l,!1).length>=s.length)??""}escapeMask(n){const o=[],s=[];return n.split("").forEach((l,u)=>{l==="!"&&n[u-1]!=="!"?s.push(u-s.length):o.push(l)}),{mask:o.join(""),escaped:s}}process(n,o,s=!0){var l;if(o==null)return n;const u=`value=${n},mask=${o},masked=${s?1:0}`;if(this.memo.has(u))return this.memo.get(u);const{mask:f,escaped:d}=this.escapeMask(o),m=[],_=this.opts.tokens!=null?this.opts.tokens:{},y=this.isReversed()?-1:1,x=this.isReversed()?"unshift":"push",M=this.isReversed()?0:f.length-1,B=this.isReversed()?()=>A>-1&&D>-1:()=>A<f.length&&D<n.length,E=Z=>!this.isReversed()&&Z<=M||this.isReversed()&&Z>=M;let C,F=-1,A=this.isReversed()?f.length-1:0,D=this.isReversed()?n.length-1:0;for(;B();){const Z=f.charAt(A),S=_[Z],N=(S==null?void 0:S.transform)!=null?S.transform(n.charAt(D)):n.charAt(D);if(!d.includes(A)&&S!=null){if(N.match(S.pattern)!=null)m[x](N),S.repeated?(F===-1?F=A:A===M&&A!==F&&(A=F-y),M===F&&(A-=y)):S.multiple&&(A-=y),A+=y;else if(S.multiple){const q=((l=m[D-y])==null?void 0:l.match(S.pattern))!=null,Q=f.charAt(A+y);q&&Q!==""&&_[Q]==null?(A+=y,D-=y):m[x]("")}else N===C?C=void 0:S.optional&&(A+=y,D-=y);D+=y}else s&&!this.isEager()&&m[x](Z),N===Z&&!this.isEager()?D+=y:C=Z,this.isEager()||(A+=y);if(this.isEager())for(;E(A)&&(_[f.charAt(A)]==null||d.includes(A));)s?m[x](f.charAt(A)):f.charAt(A)===n.charAt(D)&&(D+=y),A+=y}return this.memo.set(u,m.join("")),this.memo.get(u)}}const ef=e=>JSON.parse(e.replaceAll("'",'"')),ic=(e,n={})=>{const o={...n};return e.dataset.maska!=null&&e.dataset.maska!==""&&(o.mask=sy(e.dataset.maska)),e.dataset.maskaEager!=null&&(o.eager=ya(e.dataset.maskaEager)),e.dataset.maskaReversed!=null&&(o.reversed=ya(e.dataset.maskaReversed)),e.dataset.maskaTokensReplace!=null&&(o.tokensReplace=ya(e.dataset.maskaTokensReplace)),e.dataset.maskaTokens!=null&&(o.tokens=ay(e.dataset.maskaTokens)),o},ya=e=>e!==""?!!JSON.parse(e):!0,sy=e=>e.startsWith("[")&&e.endsWith("]")?ef(e):e,ay=e=>{if(e.startsWith("{")&&e.endsWith("}"))return ef(e);const n={};return e.split("|").forEach(o=>{const s=o.split(":");n[s[0]]={pattern:new RegExp(s[1]),optional:s[2]==="optional",multiple:s[2]==="multiple",repeated:s[2]==="repeated"}}),n};class ly{constructor(n,o={}){lo(this,"items",new Map),lo(this,"beforeinputEvent",s=>{const l=s.target,u=this.items.get(l);u.isEager()&&"inputType"in s&&s.inputType.startsWith("delete")&&u.unmasked(l.value).length<=1&&this.setMaskedValue(l,"")}),lo(this,"inputEvent",s=>{if(s instanceof CustomEvent&&s.type==="input"&&s.detail!=null&&typeof s.detail=="object"&&"masked"in s.detail)return;const l=s.target,u=this.items.get(l),f=l.value,d=l.selectionStart,m=l.selectionEnd;let _=f;if(u.isEager()){const y=u.masked(f),x=u.unmasked(f);x===""&&"data"in s&&s.data!=null?_=s.data:x!==u.unmasked(y)&&(_=x)}if(this.setMaskedValue(l,_),"inputType"in s&&(s.inputType.startsWith("delete")||d!=null&&d<f.length))try{l.setSelectionRange(d,m)}catch{}}),this.options=o,typeof n=="string"?this.init(Array.from(document.querySelectorAll(n)),this.getMaskOpts(o)):this.init("length"in n?Array.from(n):[n],this.getMaskOpts(o))}destroy(){for(const n of this.items.keys())n.removeEventListener("input",this.inputEvent),n.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdateOptions(n,o){const s=this.items.get(n),l=new nc(ic(n,this.getMaskOpts(o)));return JSON.stringify(s.opts)!==JSON.stringify(l.opts)}needUpdateValue(n){const o=n.dataset.maskaValue;return o==null&&n.value!==""||o!=null&&o!==n.value}getMaskOpts(n){const{onMaska:o,preProcess:s,postProcess:l,...u}=n;return u}init(n,o){for(const s of n){const l=new nc(ic(s,o));this.items.set(s,l),s.value!==""&&this.setMaskedValue(s,s.value),s.addEventListener("input",this.inputEvent),s.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(n,o){const s=this.items.get(n);this.options.preProcess!=null&&(o=this.options.preProcess(o));const l=s.masked(o),u=s.unmasked(s.isEager()?l:o),f=s.completed(o),d={masked:l,unmasked:u,completed:f};o=l,this.options.postProcess!=null&&(o=this.options.postProcess(o)),n.value=o,n.dataset.maskaValue=o,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(m=>m(d)):this.options.onMaska(d)),n.dispatchEvent(new CustomEvent("maska",{detail:d})),n.dispatchEvent(new CustomEvent("input",{detail:d}))}}const Ha=new WeakMap,uy=e=>{setTimeout(()=>{var n;((n=Ha.get(e))==null?void 0:n.needUpdateValue(e))===!0&&e.dispatchEvent(new CustomEvent("input"))})},cy=(e,n)=>{const o=e instanceof HTMLInputElement?e:e.querySelector("input"),s={...n.arg};if(o==null||(o==null?void 0:o.type)==="file")return;uy(o);const l=Ha.get(o);if(l!=null){if(!l.needUpdateOptions(o,s))return;l.destroy()}if(n.value!=null){const u=n.value,f=d=>{u.masked=d.masked,u.unmasked=d.unmasked,u.completed=d.completed};s.onMaska=s.onMaska==null?f:Array.isArray(s.onMaska)?[...s.onMaska,f]:[s.onMaska,f]}Ha.set(o,new ly(o,s))};var qi=(e=>(e.TEXT="text",e.NUMBER="number",e.EMAIL="email",e.PASSWORD="password",e))(qi||{});const hy={class:"input-component"},fy=["type","placeholder","disabled","data-maska"],dy=Ne({__name:"InputComponent",props:ah({label:{},placeholder:{},disabled:{type:Boolean},type:{default:qi.TEXT},maska:{}},{modelValue:{}}),emits:["update:modelValue"],setup(e){const n=sh(e,"modelValue");return(o,s)=>(Et(),Zt("div",hy,[At("label",null,Ee(o.label),1),Tr(At("input",{type:o.type,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),placeholder:o.placeholder,disabled:o.disabled,"data-maska":o.maska},null,8,fy),[[Bm,n.value],[Mt(cy)]])]))}});const Me=rn(dy,[["__scopeId","data-v-ef1613bc"]]),py={class:"enum-select-buttons"},my={class:"select-items"},_y=["onClick"],gy=Ne({__name:"SelectButtons",props:ah({label:{},selectValues:{}},{modelValue:{}}),emits:["update:modelValue"],setup(e){const n=sh(e,"modelValue");return(o,s)=>(Et(),Zt("div",py,[At("label",null,Ee(o.label),1),At("div",my,[(Et(!0),Zt(_e,null,Li(o.selectValues,l=>(Et(),Zt("div",{class:Qn(["select-item",{selected:n.value===l}]),key:l,onClick:u=>n.value=l},Ee(l),11,_y))),128))])]))}});const nf=rn(gy,[["__scopeId","data-v-40b56cc0"]]);const yy={},vy={class:"dialog-box"};function by(e,n){return Et(),Zt("div",vy,[hl(e.$slots,"default",{},void 0,!0)])}const Po=rn(yy,[["render",by],["__scopeId","data-v-47d83434"]]),Ly={class:"zone-dialog"},ky={class:"add-area-form"},wy={class:"combined-input"},xy={class:"buttons"},My={class:"zone-info"},Py={class:"tabs"},Cy=["onClick"],Ey={key:0,class:"parking"},Sy={class:"parking-spaces"},Ty=["onClick"],Oy={class:"parking-info"},Ry={class:"parking-space-info"},Ay={class:"actions"},Iy={key:0,class:"inspector"},By={key:0,class:"message"},Dy={key:1,class:"error"},Ny={class:"buttons"},zy=Ne({__name:"ZoneModalDialog",setup(e){const n=xi(),o=We(),s=Nt(!1),l=Nt(),u=Nt(""),f=Nt(),d=Nt(!1),m=Nt({name:"",address:"",numberOfSpaces:"10",type:"",geoJSON:null,workingHours:""});async function _(){l.value=null,s.value=!0,l.value=await pe.ticketApi.create({ParkingSpaceGuid:n.selectedParkingSpace.guid,ZoneGuid:n.selectedZone.guid,IssueReason:u.value}),s.value=!1}async function y(){await pe.zoneAPI.delete(n.selectedZone.guid),n.closeDialog(),await o.requestZones()}async function x(){const C=await o.drawArea();m.value.geoJSON=C}async function M(){await pe.zoneAPI.addArea(n.selectedZone.guid,m.value),n.closeDialog(),await o.requestZones()}async function B(){var C,F,A;if(f.value=null,!(!n.selectedParkingSpace||!o.selectedVehicle)){if((C=n.selectedParkingSpace)!=null&&C.vehicle)try{await pe.vehicleApi.unpark(n.selectedParkingSpace.guid)}catch(D){f.value=D.response.data.Message}else try{await pe.vehicleApi.park(o.selectedVehicle.guid,n.selectedParkingSpace.guid)}catch(D){console.log(D),f.value="Vehicle already parked"}await o.requestZones(),n.selectedZone=o.zones.find(D=>{var Z;return D.guid===((Z=n.selectedZone)==null?void 0:Z.guid)})||null,n.selectedArea=((F=n.selectedZone)==null?void 0:F.parkingAreas.find(D=>{var Z;return D.guid===((Z=n.selectedArea)==null?void 0:Z.guid)}))||null,console.log("parking space",n.selectedParkingSpace),n.selectedParkingSpace=((A=n.selectedArea)==null?void 0:A.parkingSpaces.find(D=>{var Z;return D.guid===((Z=n.selectedParkingSpace)==null?void 0:Z.guid)}))||null,console.log("parking space",n.selectedParkingSpace)}}function E(){var A,D,Z;if(n.selectedArea||(n.selectedArea=((A=n.selectedZone)==null?void 0:A.parkingAreas[0])||null),n.selectedParkingSpace&&(D=n.selectedArea)!=null&&D.parkingSpaces.find(S=>{var N;return S.guid===((N=n.selectedParkingSpace)==null?void 0:N.guid)}))return;const C=(Z=n.selectedArea)==null?void 0:Z.parkingSpaces.filter(S=>S.vehicle===null),F=C==null?void 0:C.reduce((S,N)=>S.number<N.number?S:N);n.selectedParkingSpace=F||null}return Bn(()=>n.selectedArea,(C,F)=>{C&&E()}),Wi(async()=>{E()}),(C,F)=>(Et(),Te(Po,null,{default:zn(()=>{var A,D,Z,S,N,q;return[At("div",Ly,[At("h1",null,Ee((A=Mt(n).selectedZone)==null?void 0:A.name),1),d.value?(Et(),Zt(_e,{key:0},[At("div",ky,[Tt(nf,{label:"Select","select-values":["lot","underground","garage"],modelValue:m.value.type,"onUpdate:modelValue":F[0]||(F[0]=Q=>m.value.type=Q)},null,8,["modelValue"]),Tt(Me,{label:"Name",placeholder:"Area Name",modelValue:m.value.name,"onUpdate:modelValue":F[1]||(F[1]=Q=>m.value.name=Q)},null,8,["modelValue"]),Tt(Me,{label:"Address",placeholder:"Area Address",modelValue:m.value.address,"onUpdate:modelValue":F[2]||(F[2]=Q=>m.value.address=Q)},null,8,["modelValue"]),Tt(Me,{label:"Area Parking spots",modelValue:m.value.numberOfSpaces,"onUpdate:modelValue":F[3]||(F[3]=Q=>m.value.numberOfSpaces=Q)},null,8,["modelValue"]),Tt(Me,{label:"Working hours",modelValue:m.value.workingHours,"onUpdate:modelValue":F[4]||(F[4]=Q=>m.value.workingHours=Q),maska:"##-##",placeholder:"08-20"},null,8,["modelValue"]),At("div",wy,[Tt(Me,{label:"GeoJSON",disabled:!0,placeholder:m.value.geoJSON?"Area GeoJSON added":"Draw Area"},null,8,["placeholder"]),Tt(we,{label:"Draw Area",callback:x})])]),At("div",xy,[Tt(we,{label:"Cancel",callback:()=>d.value=!1,type:Mt(xn).DANGER},null,8,["callback","type"]),Tt(we,{label:"Add",callback:M,type:Mt(xn).PRIMARY},null,8,["type"])])],64)):(Et(),Zt(_e,{key:1},[At("div",My,[At("div",Py,[(Et(!0),Zt(_e,null,Li((D=Mt(n).selectedZone)==null?void 0:D.parkingAreas,Q=>{var et;return Et(),Zt("div",{class:Qn(["tab",{selected:Q.guid===((et=Mt(n).selectedArea)==null?void 0:et.guid),underground:Q.type==="underground",lot:Q.type==="lot",garage:Q.type==="garage"}]),key:Q.guid,onClick:rt=>Mt(n).selectedArea=Q},Ee(Q.name),11,Cy)}),128))]),Mt(n).selectedArea?(Et(),Zt("div",Ey,[At("div",Sy,[(Et(!0),Zt(_e,null,Li(Mt(n).selectedArea.parkingSpaces,Q=>{var et;return Et(),Zt("div",{class:Qn(["parking-space",{selected:Q.guid===((et=Mt(n).selectedParkingSpace)==null?void 0:et.guid),free:Q.vehicle===null,occupied:Q.vehicle!==null}]),key:Q.guid,onClick:rt=>Mt(n).selectedParkingSpace=Q},Ee(Q.number),11,Ty)}),128))]),At("div",Oy,[At("div",Ry,[At("div",null,"Number: "+Ee((Z=Mt(n).selectedParkingSpace)==null?void 0:Z.number),1),At("div",null,"Vehicle: "+Ee(((N=(S=Mt(n).selectedParkingSpace)==null?void 0:S.vehicle)==null?void 0:N.registration)||"Unoccupied"),1)]),At("div",Ay,[Tt(we,{label:(q=Mt(n).selectedParkingSpace)!=null&&q.vehicle?"Unpark":"Park",callback:B},null,8,["label"])]),Mt(o).isInspector?(Et(),Zt("div",Iy,[Tt(Me,{label:"Ticket Reason",placeholder:"Ticket Reason",modelValue:u.value,"onUpdate:modelValue":F[5]||(F[5]=Q=>u.value=Q)},null,8,["modelValue"]),Tt(we,{label:"Fine vehicle",callback:_}),l.value?(Et(),Zt("div",By,Ee(l.value),1)):Le("",!0)])):Le("",!0),f.value?(Et(),Zt("div",Dy,Ee(f.value),1)):Le("",!0)])])):Le("",!0)]),At("div",Ny,[Mt(o).isAdmin?(Et(),Zt(_e,{key:0},[Tt(we,{label:"Delete",type:Mt(xn).DANGER,callback:y},null,8,["type"]),Tt(we,{label:"Edit",callback:Mt(n).toggleEditingZone},null,8,["callback"]),Tt(we,{label:"Add area",callback:()=>d.value=!0},null,8,["callback"])],64)):Le("",!0)])],64))])]}),_:1}))}});const jy=rn(zy,[["__scopeId","data-v-770f937f"]]),Fy={class:"settings profile"},Uy=At("h1",null,"Profile Settings",-1),Vy={class:"items"},Gy={class:"buttons"},Zy=Ne({__name:"ProfileSettings",setup(e){const n=We(),o=Nt(""),s=Nt(""),l=Nt(""),u=Nt(""),f=Nt("");async function d(){if(u.value!==f.value)return alert("Passwords do not match");const m={firstName:o.value,lastName:s.value,homeAddress:l.value};u.value&&(m.password=u.value);try{await pe.authAPI.updateUserData(m)}catch(_){console.log("profile settings",_)}}return Wi(()=>{n.user&&(o.value=n.user.firstName,s.value=n.user.lastName,l.value=n.user.homeAddress)}),(m,_)=>(Et(),Zt("div",Fy,[Uy,At("div",Vy,[Tt(Me,{label:"First name",modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=y=>o.value=y)},null,8,["modelValue"]),Tt(Me,{label:"Last name",modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=y=>s.value=y)},null,8,["modelValue"]),Tt(Me,{label:"Home address",modelValue:l.value,"onUpdate:modelValue":_[2]||(_[2]=y=>l.value=y)},null,8,["modelValue"]),Tt(Me,{label:"Password",modelValue:u.value,"onUpdate:modelValue":_[3]||(_[3]=y=>u.value=y),type:Mt(qi).PASSWORD},null,8,["modelValue","type"]),Tt(Me,{label:"Confirm password",modelValue:f.value,"onUpdate:modelValue":_[4]||(_[4]=y=>f.value=y),type:Mt(qi).PASSWORD},null,8,["modelValue","type"])]),At("div",Gy,[Tt(we,{label:"Save Changes",callback:d})])]))}});const Hy={class:"settings vehicle"},$y=At("h1",null,"Vehicle Settings",-1),Ky={class:"add-vehicle-input"},qy={class:"items"},Wy=At("div",{class:"buttons"},null,-1),Jy=Ne({__name:"VehicleSettings",setup(e){const n=We(),o=Nt("");async function s(){await pe.vehicleApi.addVehicle(o.value),await pe.authAPI.requestUserData()}async function l(u){await pe.vehicleApi.removeVehicle(u),await pe.authAPI.requestUserData()}return(u,f)=>{var d;return Et(),Zt("div",Hy,[$y,At("div",Ky,[Tt(Me,{label:"Add vehicle by registration number",modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=m=>o.value=m)},null,8,["modelValue"]),Tt(we,{label:"Add",callback:s,type:Mt(xn).PRIMARY},null,8,["type"])]),At("div",qy,[(Et(!0),Zt(_e,null,Li((d=Mt(n).user)==null?void 0:d.vehicles,m=>(Et(),Zt("div",{class:"vehicle-item",key:m.guid},[yh(Ee(m.registration)+" ",1),Tt(we,{label:"Remove",callback:()=>l(m.registration),type:Mt(xn).DANGER},null,8,["callback","type"])]))),128))]),Wy])}}});const Yy={class:"settings ticket"},Xy=At("h1",null,"Ticket Settings",-1),Qy={class:"items"},tv={class:"reason"},ev=At("div",{class:"filler"},null,-1),nv={key:1},iv=Ne({__name:"TicketSettings",setup(e){const n=Nt(""),o=Nt(null);async function s(l){await pe.ticketApi.settle({GUID:l,SettleReason:n.value}),o.value=await pe.ticketApi.all()}return Wi(async()=>{o.value=await pe.ticketApi.all()}),(l,u)=>(Et(),Zt("div",Yy,[Xy,At("div",Qy,[(Et(!0),Zt(_e,null,Li(o.value,f=>(Et(),Zt("div",{class:"ticket-item",key:f.guid},[At("div",tv,Ee(f.issueReason),1),f.paid?Le("",!0):(Et(),Zt(_e,{key:0},[Tt(Me,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=d=>n.value=d)},null,8,["modelValue"]),Tt(we,{label:"Settle",callback:()=>s(f.guid)},null,8,["callback"])],64)),ev,f.paid?(Et(),Zt("div",nv," Paid ")):Le("",!0)]))),128))])]))}});const rv={class:"settings admin"},ov=At("h1",null,"Administration",-1),sv={class:"row"},av={class:"row"},lv={class:"row"},uv={class:"row"},cv={key:0,class:"row"},hv=Ne({__name:"AdminSettings",setup(e){const n=Nt(""),o=Nt(""),s=Nt(""),l=Nt(""),u=Nt(!1),f=Nt(!1),d=Nt(!1),m=Nt(!1),_=Nt(null);async function y(){_.value=null,u.value=!0;try{await pe.inspectorAPI.makeInspector(n.value)}catch(E){_.value=E}u.value=!1}async function x(){_.value=null,d.value=!0;try{await pe.inspectorAPI.removeInspector(s.value)}catch(E){_.value=E}d.value=!1}async function M(){_.value=null,f.value=!0;try{await pe.inspectorAPI.makeAdmin(o.value)}catch(E){_.value=E}f.value=!1}async function B(){_.value=null,m.value=!0;try{await pe.inspectorAPI.removeAdmin(l.value)}catch(E){_.value=E}m.value=!1}return(E,C)=>(Et(),Zt("div",rv,[ov,At("div",sv,[Tt(Me,{label:"User email",modelValue:n.value,"onUpdate:modelValue":C[0]||(C[0]=F=>n.value=F)},null,8,["modelValue"]),Tt(we,{label:"Make Inspector",callback:y,loading:u.value},null,8,["loading"])]),At("div",av,[Tt(Me,{label:"User email",modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=F=>s.value=F)},null,8,["modelValue"]),Tt(we,{label:"Revoke Inspector",callback:x,loading:d.value},null,8,["loading"])]),At("div",lv,[Tt(Me,{label:"User email",modelValue:o.value,"onUpdate:modelValue":C[2]||(C[2]=F=>o.value=F)},null,8,["modelValue"]),Tt(we,{label:"Make Admin",callback:M,loading:f.value},null,8,["loading"])]),At("div",uv,[Tt(Me,{label:"User email",modelValue:l.value,"onUpdate:modelValue":C[3]||(C[3]=F=>l.value=F)},null,8,["modelValue"]),Tt(we,{label:"Revoke Admin",callback:B,loading:m.value},null,8,["loading"])]),_.value?(Et(),Zt("div",cv,Ee(_.value),1)):Le("",!0)]))}});const fv={class:"settings-dialog"},dv={class:"tabs"},pv=["onClick"],mv={class:"tab-view"},_v=Ne({__name:"SettingsDialog",setup(e){const n=We(),o=Nt([{name:"Profile",visible:!0},{name:"Vehicles",visible:!0},{name:"Tickets",visible:!0},{name:"Administration",visible:n.isAdmin}]),s=Nt(o.value[0].name);return(l,u)=>(Et(),Te(Po,null,{default:zn(()=>[At("div",fv,[At("div",dv,[(Et(!0),Zt(_e,null,Li(o.value,f=>Tr((Et(),Zt("div",{class:"tab",key:f.name,onClick:d=>s.value=f.name},Ee(f.name),9,pv)),[[Mh,f.visible]])),128))]),At("div",mv,[s.value==="Profile"?(Et(),Te(Zy,{key:0})):Le("",!0),s.value==="Vehicles"?(Et(),Te(Jy,{key:1})):Le("",!0),s.value==="Tickets"?(Et(),Te(iv,{key:2})):Le("",!0),s.value==="Administration"?(Et(),Te(hv,{key:3})):Le("",!0)])])]),_:1}))}});const gv=e=>(Er("data-v-338e2cac"),e=e(),Sr(),e),yv={class:"login-dialog"},vv=gv(()=>At("h1",null,"Login",-1)),bv={key:0},Lv=Ne({__name:"LoginDialog",setup(e){const n=xi(),o=We(),s=Nt(""),l=Nt(""),u=Nt(null),f=Nt(!1);async function d(){var m;if(u.value=null,!s.value||!l.value){u.value="Please fill in all fields";return}f.value=!0;try{await pe.authAPI.login(s.value,l.value),await o.requestZones()}catch(_){u.value=((m=_.backendErrorObj)==null?void 0:m.Message)||_.message}f.value=!1}return(m,_)=>(Et(),Te(Po,null,{default:zn(()=>[At("div",yv,[vv,Tt(Me,{label:"Email",modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=y=>s.value=y)},null,8,["modelValue"]),Tt(Me,{label:"Password",modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=y=>l.value=y),type:Mt(qi).PASSWORD},null,8,["modelValue","type"]),Tt(we,{label:"Login",callback:d,type:Mt(xn).PRIMARY,loading:f.value},null,8,["type","loading"]),u.value?(Et(),Zt("div",bv,Ee(u.value),1)):Le("",!0),Tt(we,{label:"Go to register",callback:()=>Mt(n).showRegisterDialog=!0,type:Mt(xn).SECONDARY},null,8,["callback","type"])])]),_:1}))}});const kv=rn(Lv,[["__scopeId","data-v-338e2cac"]]),wv=e=>(Er("data-v-b816cd10"),e=e(),Sr(),e),xv={class:"register-dialog"},Mv=wv(()=>At("h1",null,"Register",-1)),Pv={key:0},Cv=Ne({__name:"RegisterDialog",setup(e){const n=xi(),o=We(),s=Nt(null),l=Nt(!1),u=Nt(""),f=Nt(""),d=Nt(""),m=Nt(""),_=Nt(""),y=Nt("");async function x(){var B;if(s.value=null,!u.value||!_.value||!f.value||!d.value||!m.value){s.value="Please fill in all fields";return}if(_.value!==y.value){s.value="Passwords do not match";return}l.value=!0;const M={firstName:f.value,lastName:d.value,homeAddress:m.value,password:_.value,email:u.value};try{await pe.authAPI.register(M),await o.requestZones()}catch(E){s.value=((B=E.backendErrorObj)==null?void 0:B.Message)||E.message}l.value=!1}return(M,B)=>(Et(),Te(Po,null,{default:zn(()=>[At("div",xv,[Mv,Tt(Me,{label:"First Name",modelValue:f.value,"onUpdate:modelValue":B[0]||(B[0]=E=>f.value=E)},null,8,["modelValue"]),Tt(Me,{label:"Last Name",modelValue:d.value,"onUpdate:modelValue":B[1]||(B[1]=E=>d.value=E)},null,8,["modelValue"]),Tt(Me,{label:"Email",modelValue:u.value,"onUpdate:modelValue":B[2]||(B[2]=E=>u.value=E)},null,8,["modelValue"]),Tt(Me,{label:"Home Adress",modelValue:m.value,"onUpdate:modelValue":B[3]||(B[3]=E=>m.value=E)},null,8,["modelValue"]),Tt(Me,{label:"Password",modelValue:_.value,"onUpdate:modelValue":B[4]||(B[4]=E=>_.value=E),type:Mt(qi).PASSWORD},null,8,["modelValue","type"]),Tt(Me,{label:"Confirm Password",modelValue:y.value,"onUpdate:modelValue":B[5]||(B[5]=E=>y.value=E),type:Mt(qi).PASSWORD},null,8,["modelValue","type"]),Tt(we,{label:"Register",callback:x,type:Mt(xn).PRIMARY},null,8,["type"]),s.value?(Et(),Zt("div",Pv,Ee(s.value),1)):Le("",!0),Tt(we,{label:"Go to login",callback:()=>Mt(n).showRegisterDialog=!1,type:Mt(xn).SECONDARY,loading:l.value},null,8,["callback","type","loading"])])]),_:1}))}});const Ev=rn(Cv,[["__scopeId","data-v-b816cd10"]]),rf=e=>(Er("data-v-49eee230"),e=e(),Sr(),e),Sv={class:"subscription-dialog"},Tv={class:"navigation"},Ov={key:0,class:"tab"},Rv=rf(()=>At("h1",null,"Subscription",-1)),Av={class:"expiry"},Iv={class:"price"},Bv={key:1,class:"tab"},Dv=rf(()=>At("h1",null,"Passes",-1)),Nv={class:"zones-select"},zv=["onClick"],jv={class:"name"},Fv={key:0,class:"checkmark"},Uv={class:"buttons"},Vv={class:"price"};var of=(e=>(e.WEEKLY="weekly",e.MONTHLY="monthly",e.ANNUALLY="annually",e))(of||{});const Gv=Ne({__name:"SubscriptionDialog",setup(e){const n=We(),o=Nt(0),s=Nt("monthly"),l=Nt(!1),u=Nt(null),f=Nt([]),d=Nt(1),m=$e(()=>u.value?u.value[s.value]:null),_=$e(()=>{if(!f.value.length)return 0;let E=0;return f.value.forEach(C=>{const F=n.zones.find(A=>A.guid===C);E+=F.hourlyRate*d.value}),f.value.length>6?E*=.4:(E*=1-.1*(f.value.length-1),console.log("multipler",1-.1*(f.value.length-1))),E});function y(E){f.value.includes(E.guid)?f.value=f.value.filter(C=>C!==E.guid):f.value=[...f.value,E.guid]}async function x(){l.value=!0,await pe.subscriptionApi.subscribe(s.value),await pe.authAPI.requestUserData(),l.value=!1}async function M(){l.value=!0,await pe.subscriptionApi.unsubscribe(),await pe.authAPI.requestUserData(),l.value=!1}async function B(){await pe.passApi.add(d.value,f.value)}return Wi(async()=>{u.value=await pe.subscriptionApi.getPrices()}),(E,C)=>(Et(),Te(Po,null,{default:zn(()=>{var F;return[At("div",Sv,[At("div",Tv,[At("div",{class:Qn(["navigation-item",{active:o.value===0}]),onClick:C[0]||(C[0]=A=>o.value=0)}," Subscription ",2),At("div",{class:Qn(["navigation-item",{active:o.value===1}]),onClick:C[1]||(C[1]=A=>o.value=1)}," Passes ",2)]),o.value===0?(Et(),Zt("div",Ov,[Rv,(F=Mt(n).user)!=null&&F.subscription?(Et(),Zt(_e,{key:0},[At("div",Av,"Your subscription expires on "+Ee(new Date(Mt(n).user.subscription.expiration).toLocaleString()),1),Tt(we,{label:"Unsubscribe",callback:M,loading:l.value},null,8,["loading"])],64)):(Et(),Zt(_e,{key:1},[Tt(nf,{"select-values":Object.values(of),modelValue:s.value,"onUpdate:modelValue":C[2]||(C[2]=A=>s.value=A)},null,8,["select-values","modelValue"]),At("div",Iv,Ee(m.value),1),Tt(we,{label:"Subscribe",callback:x,loading:l.value},null,8,["loading"])],64))])):Le("",!0),o.value===1?(Et(),Zt("div",Bv,[Dv,At("div",Nv,[(Et(!0),Zt(_e,null,Li(Mt(n).zones,A=>(Et(),Zt("div",{class:"zone-item",key:A.guid,onClick:D=>y(A)},[At("div",jv,Ee(A.name),1),f.value.includes(A.guid)?(Et(),Zt("div",Fv," ✔ ")):Le("",!0)],8,zv))),128))]),At("div",Uv,[Tr(At("input",{type:"number","onUpdate:modelValue":C[3]||(C[3]=A=>d.value=A)},null,512),[[Ba,d.value]]),Tt(we,{label:"Buy Pass",callback:B}),At("div",Vv,Ee(_.value),1)])])):Le("",!0)])]}),_:1}))}});const Zv=rn(Gv,[["__scopeId","data-v-49eee230"]]),Hv=Ne({__name:"App",setup(e){const n=xi(),o=We();return(s,l)=>{const u=Ep("RouterView");return Et(),Zt(_e,null,[Tt(u),Mt(n).dialogType||!Mt(o).user?(Et(),Te(Kg,{key:0},{default:zn(()=>[!Mt(o).user&&Mt(n).showRegisterDialog?(Et(),Te(Ev,{key:0})):Mt(o).user?(Et(),Zt(_e,{key:2},[Mt(n).dialogType===Mt(us).ZONE?(Et(),Te(jy,{key:0,onClick:l[0]||(l[0]=da(()=>{},["stop"]))})):Le("",!0),Mt(n).dialogType===Mt(us).SETTINGS?(Et(),Te(_v,{key:1,onClick:l[1]||(l[1]=da(()=>{},["stop"]))})):Le("",!0),Mt(n).dialogType===Mt(us).SUBSCRIPTION?(Et(),Te(Zv,{key:2,onClick:l[2]||(l[2]=da(()=>{},["stop"]))})):Le("",!0)],64)):(Et(),Te(kv,{key:1}))]),_:1})):Le("",!0),Tt(iy)],64)}}});/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const dr=typeof window<"u";function $v(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const me=Object.assign;function va(e,n){const o={};for(const s in n){const l=n[s];o[s]=Mn(l)?l.map(e):e(l)}return o}const uo=()=>{},Mn=Array.isArray,Kv=/\/$/,qv=e=>e.replace(Kv,"");function ba(e,n,o="/"){let s,l={},u="",f="";const d=n.indexOf("#");let m=n.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(s=n.slice(0,m),u=n.slice(m+1,d>-1?d:n.length),l=e(u)),d>-1&&(s=s||n.slice(0,d),f=n.slice(d,n.length)),s=Xv(s??n,o),{fullPath:s+(u&&"?")+u+f,path:s,query:l,hash:f}}function Wv(e,n){const o=n.query?e(n.query):"";return n.path+(o&&"?")+o+(n.hash||"")}function rc(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function Jv(e,n,o){const s=n.matched.length-1,l=o.matched.length-1;return s>-1&&s===l&&kr(n.matched[s],o.matched[l])&&sf(n.params,o.params)&&e(n.query)===e(o.query)&&n.hash===o.hash}function kr(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function sf(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(!Yv(e[o],n[o]))return!1;return!0}function Yv(e,n){return Mn(e)?oc(e,n):Mn(n)?oc(n,e):e===n}function oc(e,n){return Mn(n)?e.length===n.length&&e.every((o,s)=>o===n[s]):e.length===1&&e[0]===n}function Xv(e,n){if(e.startsWith("/"))return e;if(!e)return n;const o=n.split("/"),s=e.split("/"),l=s[s.length-1];(l===".."||l===".")&&s.push("");let u=o.length-1,f,d;for(f=0;f<s.length;f++)if(d=s[f],d!==".")if(d==="..")u>1&&u--;else break;return o.slice(0,u).join("/")+"/"+s.slice(f-(f===s.length?1:0)).join("/")}var Lo;(function(e){e.pop="pop",e.push="push"})(Lo||(Lo={}));var co;(function(e){e.back="back",e.forward="forward",e.unknown=""})(co||(co={}));function Qv(e){if(!e)if(dr){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qv(e)}const tb=/^[^#]+#/;function eb(e,n){return e.replace(tb,"#")+n}function nb(e,n){const o=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:n.behavior,left:s.left-o.left-(n.left||0),top:s.top-o.top-(n.top||0)}}const Vs=()=>({left:window.pageXOffset,top:window.pageYOffset});function ib(e){let n;if("el"in e){const o=e.el,s=typeof o=="string"&&o.startsWith("#"),l=typeof o=="string"?s?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!l)return;n=nb(l,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function sc(e,n){return(history.state?history.state.position-n:-1)+e}const $a=new Map;function rb(e,n){$a.set(e,n)}function ob(e){const n=$a.get(e);return $a.delete(e),n}let sb=()=>location.protocol+"//"+location.host;function af(e,n){const{pathname:o,search:s,hash:l}=n,u=e.indexOf("#");if(u>-1){let d=l.includes(e.slice(u))?e.slice(u).length:1,m=l.slice(d);return m[0]!=="/"&&(m="/"+m),rc(m,"")}return rc(o,e)+s+l}function ab(e,n,o,s){let l=[],u=[],f=null;const d=({state:M})=>{const B=af(e,location),E=o.value,C=n.value;let F=0;if(M){if(o.value=B,n.value=M,f&&f===E){f=null;return}F=C?M.position-C.position:0}else s(B);l.forEach(A=>{A(o.value,E,{delta:F,type:Lo.pop,direction:F?F>0?co.forward:co.back:co.unknown})})};function m(){f=o.value}function _(M){l.push(M);const B=()=>{const E=l.indexOf(M);E>-1&&l.splice(E,1)};return u.push(B),B}function y(){const{history:M}=window;M.state&&M.replaceState(me({},M.state,{scroll:Vs()}),"")}function x(){for(const M of u)M();u=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:m,listen:_,destroy:x}}function ac(e,n,o,s=!1,l=!1){return{back:e,current:n,forward:o,replaced:s,position:window.history.length,scroll:l?Vs():null}}function lb(e){const{history:n,location:o}=window,s={value:af(e,o)},l={value:n.state};l.value||u(s.value,{back:null,current:s.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function u(m,_,y){const x=e.indexOf("#"),M=x>-1?(o.host&&document.querySelector("base")?e:e.slice(x))+m:sb()+e+m;try{n[y?"replaceState":"pushState"](_,"",M),l.value=_}catch(B){console.error(B),o[y?"replace":"assign"](M)}}function f(m,_){const y=me({},n.state,ac(l.value.back,m,l.value.forward,!0),_,{position:l.value.position});u(m,y,!0),s.value=m}function d(m,_){const y=me({},l.value,n.state,{forward:m,scroll:Vs()});u(y.current,y,!0);const x=me({},ac(s.value,m,null),{position:y.position+1},_);u(m,x,!1),s.value=m}return{location:s,state:l,push:d,replace:f}}function ub(e){e=Qv(e);const n=lb(e),o=ab(e,n.state,n.location,n.replace);function s(u,f=!0){f||o.pauseListeners(),history.go(u)}const l=me({location:"",base:e,go:s,createHref:eb.bind(null,e)},n,o);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function cb(e){return typeof e=="string"||e&&typeof e=="object"}function lf(e){return typeof e=="string"||typeof e=="symbol"}const fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uf=Symbol("");var lc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(lc||(lc={}));function wr(e,n){return me(new Error,{type:e,[uf]:!0},n)}function Wn(e,n){return e instanceof Error&&uf in e&&(n==null||!!(e.type&n))}const uc="[^/]+?",hb={sensitive:!1,strict:!1,start:!0,end:!0},fb=/[.+*?^${}()[\]/\\]/g;function db(e,n){const o=me({},hb,n),s=[];let l=o.start?"^":"";const u=[];for(const _ of e){const y=_.length?[]:[90];o.strict&&!_.length&&(l+="/");for(let x=0;x<_.length;x++){const M=_[x];let B=40+(o.sensitive?.25:0);if(M.type===0)x||(l+="/"),l+=M.value.replace(fb,"\\$&"),B+=40;else if(M.type===1){const{value:E,repeatable:C,optional:F,regexp:A}=M;u.push({name:E,repeatable:C,optional:F});const D=A||uc;if(D!==uc){B+=10;try{new RegExp(`(${D})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${E}" (${D}): `+S.message)}}let Z=C?`((?:${D})(?:/(?:${D}))*)`:`(${D})`;x||(Z=F&&_.length<2?`(?:/${Z})`:"/"+Z),F&&(Z+="?"),l+=Z,B+=20,F&&(B+=-8),C&&(B+=-20),D===".*"&&(B+=-50)}y.push(B)}s.push(y)}if(o.strict&&o.end){const _=s.length-1;s[_][s[_].length-1]+=.7000000000000001}o.strict||(l+="/?"),o.end?l+="$":o.strict&&(l+="(?:/|$)");const f=new RegExp(l,o.sensitive?"":"i");function d(_){const y=_.match(f),x={};if(!y)return null;for(let M=1;M<y.length;M++){const B=y[M]||"",E=u[M-1];x[E.name]=B&&E.repeatable?B.split("/"):B}return x}function m(_){let y="",x=!1;for(const M of e){(!x||!y.endsWith("/"))&&(y+="/"),x=!1;for(const B of M)if(B.type===0)y+=B.value;else if(B.type===1){const{value:E,repeatable:C,optional:F}=B,A=E in _?_[E]:"";if(Mn(A)&&!C)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const D=Mn(A)?A.join("/"):A;if(!D)if(F)M.length<2&&(y.endsWith("/")?y=y.slice(0,-1):x=!0);else throw new Error(`Missing required param "${E}"`);y+=D}}return y||"/"}return{re:f,score:s,keys:u,parse:d,stringify:m}}function pb(e,n){let o=0;for(;o<e.length&&o<n.length;){const s=n[o]-e[o];if(s)return s;o++}return e.length<n.length?e.length===1&&e[0]===40+40?-1:1:e.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function mb(e,n){let o=0;const s=e.score,l=n.score;for(;o<s.length&&o<l.length;){const u=pb(s[o],l[o]);if(u)return u;o++}if(Math.abs(l.length-s.length)===1){if(cc(s))return 1;if(cc(l))return-1}return l.length-s.length}function cc(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const _b={type:0,value:""},gb=/[a-zA-Z0-9_]/;function yb(e){if(!e)return[[]];if(e==="/")return[[_b]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(B){throw new Error(`ERR (${o})/"${_}": ${B}`)}let o=0,s=o;const l=[];let u;function f(){u&&l.push(u),u=[]}let d=0,m,_="",y="";function x(){_&&(o===0?u.push({type:0,value:_}):o===1||o===2||o===3?(u.length>1&&(m==="*"||m==="+")&&n(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:_,regexp:y,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):n("Invalid state to consume buffer"),_="")}function M(){_+=m}for(;d<e.length;){if(m=e[d++],m==="\\"&&o!==2){s=o,o=4;continue}switch(o){case 0:m==="/"?(_&&x(),f()):m===":"?(x(),o=1):M();break;case 4:M(),o=s;break;case 1:m==="("?o=2:gb.test(m)?M():(x(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+m:o=3:y+=m;break;case 3:x(),o=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,y="";break;default:n("Unknown state");break}}return o===2&&n(`Unfinished custom RegExp for param "${_}"`),x(),f(),l}function vb(e,n,o){const s=db(yb(e.path),o),l=me(s,{record:e,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function bb(e,n){const o=[],s=new Map;n=dc({strict:!1,end:!0,sensitive:!1},n);function l(y){return s.get(y)}function u(y,x,M){const B=!M,E=Lb(y);E.aliasOf=M&&M.record;const C=dc(n,y),F=[E];if("alias"in y){const Z=typeof y.alias=="string"?[y.alias]:y.alias;for(const S of Z)F.push(me({},E,{components:M?M.record.components:E.components,path:S,aliasOf:M?M.record:E}))}let A,D;for(const Z of F){const{path:S}=Z;if(x&&S[0]!=="/"){const N=x.record.path,q=N[N.length-1]==="/"?"":"/";Z.path=x.record.path+(S&&q+S)}if(A=vb(Z,x,C),M?M.alias.push(A):(D=D||A,D!==A&&D.alias.push(A),B&&y.name&&!fc(A)&&f(y.name)),E.children){const N=E.children;for(let q=0;q<N.length;q++)u(N[q],A,M&&M.children[q])}M=M||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&m(A)}return D?()=>{f(D)}:uo}function f(y){if(lf(y)){const x=s.get(y);x&&(s.delete(y),o.splice(o.indexOf(x),1),x.children.forEach(f),x.alias.forEach(f))}else{const x=o.indexOf(y);x>-1&&(o.splice(x,1),y.record.name&&s.delete(y.record.name),y.children.forEach(f),y.alias.forEach(f))}}function d(){return o}function m(y){let x=0;for(;x<o.length&&mb(y,o[x])>=0&&(y.record.path!==o[x].record.path||!cf(y,o[x]));)x++;o.splice(x,0,y),y.record.name&&!fc(y)&&s.set(y.record.name,y)}function _(y,x){let M,B={},E,C;if("name"in y&&y.name){if(M=s.get(y.name),!M)throw wr(1,{location:y});C=M.record.name,B=me(hc(x.params,M.keys.filter(D=>!D.optional).map(D=>D.name)),y.params&&hc(y.params,M.keys.map(D=>D.name))),E=M.stringify(B)}else if("path"in y)E=y.path,M=o.find(D=>D.re.test(E)),M&&(B=M.parse(E),C=M.record.name);else{if(M=x.name?s.get(x.name):o.find(D=>D.re.test(x.path)),!M)throw wr(1,{location:y,currentLocation:x});C=M.record.name,B=me({},x.params,y.params),E=M.stringify(B)}const F=[];let A=M;for(;A;)F.unshift(A.record),A=A.parent;return{name:C,path:E,params:B,matched:F,meta:wb(F)}}return e.forEach(y=>u(y)),{addRoute:u,resolve:_,removeRoute:f,getRoutes:d,getRecordMatcher:l}}function hc(e,n){const o={};for(const s of n)s in e&&(o[s]=e[s]);return o}function Lb(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:kb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function kb(e){const n={},o=e.props||!1;if("component"in e)n.default=o;else for(const s in e.components)n[s]=typeof o=="object"?o[s]:o;return n}function fc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wb(e){return e.reduce((n,o)=>me(n,o.meta),{})}function dc(e,n){const o={};for(const s in e)o[s]=s in n?n[s]:e[s];return o}function cf(e,n){return n.children.some(o=>o===e||cf(e,o))}const hf=/#/g,xb=/&/g,Mb=/\//g,Pb=/=/g,Cb=/\?/g,ff=/\+/g,Eb=/%5B/g,Sb=/%5D/g,df=/%5E/g,Tb=/%60/g,pf=/%7B/g,Ob=/%7C/g,mf=/%7D/g,Rb=/%20/g;function kl(e){return encodeURI(""+e).replace(Ob,"|").replace(Eb,"[").replace(Sb,"]")}function Ab(e){return kl(e).replace(pf,"{").replace(mf,"}").replace(df,"^")}function Ka(e){return kl(e).replace(ff,"%2B").replace(Rb,"+").replace(hf,"%23").replace(xb,"%26").replace(Tb,"`").replace(pf,"{").replace(mf,"}").replace(df,"^")}function Ib(e){return Ka(e).replace(Pb,"%3D")}function Bb(e){return kl(e).replace(hf,"%23").replace(Cb,"%3F")}function Db(e){return e==null?"":Bb(e).replace(Mb,"%2F")}function Ls(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Nb(e){const n={};if(e===""||e==="?")return n;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let l=0;l<s.length;++l){const u=s[l].replace(ff," "),f=u.indexOf("="),d=Ls(f<0?u:u.slice(0,f)),m=f<0?null:Ls(u.slice(f+1));if(d in n){let _=n[d];Mn(_)||(_=n[d]=[_]),_.push(m)}else n[d]=m}return n}function pc(e){let n="";for(let o in e){const s=e[o];if(o=Ib(o),s==null){s!==void 0&&(n+=(n.length?"&":"")+o);continue}(Mn(s)?s.map(u=>u&&Ka(u)):[s&&Ka(s)]).forEach(u=>{u!==void 0&&(n+=(n.length?"&":"")+o,u!=null&&(n+="="+u))})}return n}function zb(e){const n={};for(const o in e){const s=e[o];s!==void 0&&(n[o]=Mn(s)?s.map(l=>l==null?null:""+l):s==null?s:""+s)}return n}const jb=Symbol(""),mc=Symbol(""),wl=Symbol(""),_f=Symbol(""),qa=Symbol("");function Qr(){let e=[];function n(s){return e.push(s),()=>{const l=e.indexOf(s);l>-1&&e.splice(l,1)}}function o(){e=[]}return{add:n,list:()=>e.slice(),reset:o}}function mi(e,n,o,s,l){const u=s&&(s.enterCallbacks[l]=s.enterCallbacks[l]||[]);return()=>new Promise((f,d)=>{const m=x=>{x===!1?d(wr(4,{from:o,to:n})):x instanceof Error?d(x):cb(x)?d(wr(2,{from:n,to:x})):(u&&s.enterCallbacks[l]===u&&typeof x=="function"&&u.push(x),f())},_=e.call(s&&s.instances[l],n,o,m);let y=Promise.resolve(_);e.length<3&&(y=y.then(m)),y.catch(x=>d(x))})}function La(e,n,o,s){const l=[];for(const u of e)for(const f in u.components){let d=u.components[f];if(!(n!=="beforeRouteEnter"&&!u.instances[f]))if(Fb(d)){const _=(d.__vccOpts||d)[n];_&&l.push(mi(_,o,s,u,f))}else{let m=d();l.push(()=>m.then(_=>{if(!_)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${u.path}"`));const y=$v(_)?_.default:_;u.components[f]=y;const M=(y.__vccOpts||y)[n];return M&&mi(M,o,s,u,f)()}))}}return l}function Fb(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function _c(e){const n=Dn(wl),o=Dn(_f),s=$e(()=>n.resolve(Mt(e.to))),l=$e(()=>{const{matched:m}=s.value,{length:_}=m,y=m[_-1],x=o.matched;if(!y||!x.length)return-1;const M=x.findIndex(kr.bind(null,y));if(M>-1)return M;const B=gc(m[_-2]);return _>1&&gc(y)===B&&x[x.length-1].path!==B?x.findIndex(kr.bind(null,m[_-2])):M}),u=$e(()=>l.value>-1&&Zb(o.params,s.value.params)),f=$e(()=>l.value>-1&&l.value===o.matched.length-1&&sf(o.params,s.value.params));function d(m={}){return Gb(m)?n[Mt(e.replace)?"replace":"push"](Mt(e.to)).catch(uo):Promise.resolve()}return{route:s,href:$e(()=>s.value.href),isActive:u,isExactActive:f,navigate:d}}const Ub=Ne({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_c,setup(e,{slots:n}){const o=wo(_c(e)),{options:s}=Dn(wl),l=$e(()=>({[yc(e.activeClass,s.linkActiveClass,"router-link-active")]:o.isActive,[yc(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const u=n.default&&n.default(o);return e.custom?u:_l("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:l.value},u)}}}),Vb=Ub;function Gb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Zb(e,n){for(const o in n){const s=n[o],l=e[o];if(typeof s=="string"){if(s!==l)return!1}else if(!Mn(l)||l.length!==s.length||s.some((u,f)=>u!==l[f]))return!1}return!0}function gc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yc=(e,n,o)=>e??n??o,Hb=Ne({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:o}){const s=Dn(qa),l=$e(()=>e.route||s.value),u=Dn(mc,0),f=$e(()=>{let _=Mt(u);const{matched:y}=l.value;let x;for(;(x=y[_])&&!x.components;)_++;return _}),d=$e(()=>l.value.matched[f.value]);is(mc,$e(()=>f.value+1)),is(jb,d),is(qa,l);const m=Nt();return Bn(()=>[m.value,d.value,e.name],([_,y,x],[M,B,E])=>{y&&(y.instances[x]=_,B&&B!==y&&_&&_===M&&(y.leaveGuards.size||(y.leaveGuards=B.leaveGuards),y.updateGuards.size||(y.updateGuards=B.updateGuards))),_&&y&&(!B||!kr(y,B)||!M)&&(y.enterCallbacks[x]||[]).forEach(C=>C(_))},{flush:"post"}),()=>{const _=l.value,y=e.name,x=d.value,M=x&&x.components[y];if(!M)return vc(o.default,{Component:M,route:_});const B=x.props[y],E=B?B===!0?_.params:typeof B=="function"?B(_):B:null,F=_l(M,me({},E,n,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(x.instances[y]=null)},ref:m}));return vc(o.default,{Component:F,route:_})||F}}});function vc(e,n){if(!e)return null;const o=e(n);return o.length===1?o[0]:o}const $b=Hb;function Kb(e){const n=bb(e.routes,e),o=e.parseQuery||Nb,s=e.stringifyQuery||pc,l=e.history,u=Qr(),f=Qr(),d=Qr(),m=qd(fi);let _=fi;dr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=va.bind(null,at=>""+at),x=va.bind(null,Db),M=va.bind(null,Ls);function B(at,vt){let bt,Rt;return lf(at)?(bt=n.getRecordMatcher(at),Rt=vt):Rt=at,n.addRoute(Rt,bt)}function E(at){const vt=n.getRecordMatcher(at);vt&&n.removeRoute(vt)}function C(){return n.getRoutes().map(at=>at.record)}function F(at){return!!n.getRecordMatcher(at)}function A(at,vt){if(vt=me({},vt||m.value),typeof at=="string"){const W=ba(o,at,vt.path),st=n.resolve({path:W.path},vt),ct=l.createHref(W.fullPath);return me(W,st,{params:M(st.params),hash:Ls(W.hash),redirectedFrom:void 0,href:ct})}let bt;if("path"in at)bt=me({},at,{path:ba(o,at.path,vt.path).path});else{const W=me({},at.params);for(const st in W)W[st]==null&&delete W[st];bt=me({},at,{params:x(W)}),vt.params=x(vt.params)}const Rt=n.resolve(bt,vt),te=at.hash||"";Rt.params=y(M(Rt.params));const U=Wv(s,me({},at,{hash:Ab(te),path:Rt.path})),K=l.createHref(U);return me({fullPath:U,hash:te,query:s===pc?zb(at.query):at.query||{}},Rt,{redirectedFrom:void 0,href:K})}function D(at){return typeof at=="string"?ba(o,at,m.value.path):me({},at)}function Z(at,vt){if(_!==at)return wr(8,{from:vt,to:at})}function S(at){return Q(at)}function N(at){return S(me(D(at),{replace:!0}))}function q(at){const vt=at.matched[at.matched.length-1];if(vt&&vt.redirect){const{redirect:bt}=vt;let Rt=typeof bt=="function"?bt(at):bt;return typeof Rt=="string"&&(Rt=Rt.includes("?")||Rt.includes("#")?Rt=D(Rt):{path:Rt},Rt.params={}),me({query:at.query,hash:at.hash,params:"path"in Rt?{}:at.params},Rt)}}function Q(at,vt){const bt=_=A(at),Rt=m.value,te=at.state,U=at.force,K=at.replace===!0,W=q(bt);if(W)return Q(me(D(W),{state:typeof W=="object"?me({},te,W.state):te,force:U,replace:K}),vt||bt);const st=bt;st.redirectedFrom=vt;let ct;return!U&&Jv(s,Rt,bt)&&(ct=wr(16,{to:st,from:Rt}),Ct(Rt,Rt,!0,!1)),(ct?Promise.resolve(ct):ut(st,Rt)).catch(pt=>Wn(pt)?Wn(pt,2)?pt:Ot(pt):dt(pt,st,Rt)).then(pt=>{if(pt){if(Wn(pt,2))return Q(me({replace:K},D(pt.to),{state:typeof pt.to=="object"?me({},te,pt.to.state):te,force:U}),vt||st)}else pt=it(st,Rt,!0,K,te);return _t(st,Rt,pt),pt})}function et(at,vt){const bt=Z(at,vt);return bt?Promise.reject(bt):Promise.resolve()}function rt(at){const vt=oe.values().next().value;return vt&&typeof vt.runWithContext=="function"?vt.runWithContext(at):at()}function ut(at,vt){let bt;const[Rt,te,U]=qb(at,vt);bt=La(Rt.reverse(),"beforeRouteLeave",at,vt);for(const W of Rt)W.leaveGuards.forEach(st=>{bt.push(mi(st,at,vt))});const K=et.bind(null,at,vt);return bt.push(K),Bt(bt).then(()=>{bt=[];for(const W of u.list())bt.push(mi(W,at,vt));return bt.push(K),Bt(bt)}).then(()=>{bt=La(te,"beforeRouteUpdate",at,vt);for(const W of te)W.updateGuards.forEach(st=>{bt.push(mi(st,at,vt))});return bt.push(K),Bt(bt)}).then(()=>{bt=[];for(const W of U)if(W.beforeEnter)if(Mn(W.beforeEnter))for(const st of W.beforeEnter)bt.push(mi(st,at,vt));else bt.push(mi(W.beforeEnter,at,vt));return bt.push(K),Bt(bt)}).then(()=>(at.matched.forEach(W=>W.enterCallbacks={}),bt=La(U,"beforeRouteEnter",at,vt),bt.push(K),Bt(bt))).then(()=>{bt=[];for(const W of f.list())bt.push(mi(W,at,vt));return bt.push(K),Bt(bt)}).catch(W=>Wn(W,8)?W:Promise.reject(W))}function _t(at,vt,bt){d.list().forEach(Rt=>rt(()=>Rt(at,vt,bt)))}function it(at,vt,bt,Rt,te){const U=Z(at,vt);if(U)return U;const K=vt===fi,W=dr?history.state:{};bt&&(Rt||K?l.replace(at.fullPath,me({scroll:K&&W&&W.scroll},te)):l.push(at.fullPath,te)),m.value=at,Ct(at,vt,bt,K),Ot()}let gt;function Dt(){gt||(gt=l.listen((at,vt,bt)=>{if(!Qt.listening)return;const Rt=A(at),te=q(Rt);if(te){Q(me(te,{replace:!0}),Rt).catch(uo);return}_=Rt;const U=m.value;dr&&rb(sc(U.fullPath,bt.delta),Vs()),ut(Rt,U).catch(K=>Wn(K,12)?K:Wn(K,2)?(Q(K.to,Rt).then(W=>{Wn(W,20)&&!bt.delta&&bt.type===Lo.pop&&l.go(-1,!1)}).catch(uo),Promise.reject()):(bt.delta&&l.go(-bt.delta,!1),dt(K,Rt,U))).then(K=>{K=K||it(Rt,U,!1),K&&(bt.delta&&!Wn(K,8)?l.go(-bt.delta,!1):bt.type===Lo.pop&&Wn(K,20)&&l.go(-1,!1)),_t(Rt,U,K)}).catch(uo)}))}let Pt=Qr(),Lt=Qr(),jt;function dt(at,vt,bt){Ot(at);const Rt=Lt.list();return Rt.length?Rt.forEach(te=>te(at,vt,bt)):console.error(at),Promise.reject(at)}function re(){return jt&&m.value!==fi?Promise.resolve():new Promise((at,vt)=>{Pt.add([at,vt])})}function Ot(at){return jt||(jt=!at,Dt(),Pt.list().forEach(([vt,bt])=>at?bt(at):vt()),Pt.reset()),at}function Ct(at,vt,bt,Rt){const{scrollBehavior:te}=e;if(!dr||!te)return Promise.resolve();const U=!bt&&ob(sc(at.fullPath,0))||(Rt||!bt)&&history.state&&history.state.scroll||null;return ul().then(()=>te(at,vt,U)).then(K=>K&&ib(K)).catch(K=>dt(K,at,vt))}const Ut=at=>l.go(at);let ge;const oe=new Set,Qt={currentRoute:m,listening:!0,addRoute:B,removeRoute:E,hasRoute:F,getRoutes:C,resolve:A,options:e,push:S,replace:N,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:u.add,beforeResolve:f.add,afterEach:d.add,onError:Lt.add,isReady:re,install(at){const vt=this;at.component("RouterLink",Vb),at.component("RouterView",$b),at.config.globalProperties.$router=vt,Object.defineProperty(at.config.globalProperties,"$route",{enumerable:!0,get:()=>Mt(m)}),dr&&!ge&&m.value===fi&&(ge=!0,S(l.location).catch(te=>{}));const bt={};for(const te in fi)Object.defineProperty(bt,te,{get:()=>m.value[te],enumerable:!0});at.provide(wl,vt),at.provide(_f,zc(bt)),at.provide(qa,m);const Rt=at.unmount;oe.add(at),at.unmount=function(){oe.delete(at),oe.size<1&&(_=fi,gt&&gt(),gt=null,m.value=fi,ge=!1,jt=!1),Rt()}}};function Bt(at){return at.reduce((vt,bt)=>vt.then(()=>rt(bt)),Promise.resolve())}return Qt}function qb(e,n){const o=[],s=[],l=[],u=Math.max(n.matched.length,e.matched.length);for(let f=0;f<u;f++){const d=n.matched[f];d&&(e.matched.find(_=>kr(_,d))?s.push(d):o.push(d));const m=e.matched[f];m&&(n.matched.find(_=>kr(_,m))||l.push(m))}return[o,s,l]}const Wb={beforeMount(e,n){e.clickOutsideEvent=o=>{e==o.target||e.contains(o.target)||n.value(o)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},Jb=e=>(Er("data-v-c77f5211"),e=e(),Sr(),e),Yb={id:"avatar"},Xb=Jb(()=>At("img",{src:"https://picsum.photos/200",alt:"avatar"},null,-1)),Qb=[Xb],tL={key:0,class:"dropdown"},eL=Ne({__name:"AvatarComponent",setup(e){const n=xi(),o=Nt(!1);function s(){o.value=!o.value}function l(){o.value=!1}function u(){pe.authAPI.logout()}return(f,d)=>Tr((Et(),Zt("div",Yb,[At("div",{class:"avatar",onClick:s},Qb),Tt(Bs,null,{default:zn(()=>[o.value?(Et(),Zt("div",tL,[At("div",{class:"dropdown-item",onClick:d[0]||(d[0]=(...m)=>Mt(n).openSettingsDialog&&Mt(n).openSettingsDialog(...m))}," Settings "),At("div",{class:"dropdown-item",onClick:d[1]||(d[1]=(...m)=>Mt(n).openSubscriptionDialog&&Mt(n).openSubscriptionDialog(...m))}," Subscription and Passes "),At("div",{class:"dropdown-item",onClick:u}," Logout ")])):Le("",!0)]),_:1})])),[[Mt(Wb),l]])}});const nL=rn(eL,[["__scopeId","data-v-c77f5211"]]),iL=e=>(Er("data-v-e638c803"),e=e(),Sr(),e),rL={id:"layout"},oL=iL(()=>At("div",{class:"filler"},null,-1)),sL=["value"],aL=Ne({__name:"LayoutComponent",setup(e){const n=We();return(o,s)=>{var l;return Et(),Zt("div",rL,[At("nav",null,[At("div",null,Ee(Mt(n).user?Mt(n).user.email:"logged out"),1),oL,Tr(At("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>Mt(n).selectedVehicle=u)},[(Et(!0),Zt(_e,null,Li((l=Mt(n).user)==null?void 0:l.vehicles,u=>(Et(),Zt("option",{key:u.guid,value:u},Ee(u.registration),9,sL))),128))],512),[[wh,Mt(n).selectedVehicle]]),Tt(nL)]),hl(o.$slots,"default",{},void 0,!0)])}}});const lL=rn(aL,[["__scopeId","data-v-e638c803"]]),uL=e=>(Er("data-v-839248f5"),e=e(),Sr(),e),cL=uL(()=>At("div",{id:"map"},null,-1)),hL=Ne({__name:"HomeView",setup(e){const n=We(),o=xi();async function s(){var f;if(n.zones.length===0)return;const u=window.L;(f=n.map)==null||f.eachLayer(d=>{var m;d._url||(m=n.map)==null||m.removeLayer(d)}),n.zones.forEach(d=>{const m=u.geoJSON(d.geoJSON,{zoneInfo:d,style:{color:no.ZONE_COLOR}}).addTo(n.map);d.parkingAreas.forEach(_=>{const y=_.type===Za.GARAGE?no.GARAGE_AREA_COLOR:_.type===Za.LOT?no.LOT_AREA_COLOR:no.UNDERGROUND_AREA_COLOR;u.geoJSON(_.geoJSON,{areaInfo:_,style:{color:y}}).addTo(n.map).on("click",M=>{console.log(_.name,M),o.openZoneDialog(d,M,_)})}),m.on("click",_=>{console.log(d.name,_),o.openZoneDialog(d,_)})})}function l(){const u=window.L;n.map=u.map("map").setView([43.1421256,20.5084578],13),u.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(n.map)}return Bn(()=>n.zones,()=>{s()}),Wi(async()=>{l(),n.user&&(await n.requestZones(),s())}),(u,f)=>(Et(),Te(lL,{class:"home"},{default:zn(()=>[cL]),_:1}))}});const fL=rn(hL,[["__scopeId","data-v-839248f5"]]),gf=Kb({history:ub("/peter-parker-frontend/"),routes:[{path:"/",name:"home",component:fL,meta:{authRequired:!1}}]});gf.beforeEach((e,n,o)=>{e.matched.some(s=>s.meta.authRequired)?vs.get("refresh-token")?o():o({name:"login"}):o()});(()=>{var e={9705:(s,l,u)=>{var f=u(1540);function d(m){var _=[1/0,1/0,-1/0,-1/0];return f.coordEach(m,function(y){_[0]>y[0]&&(_[0]=y[0]),_[1]>y[1]&&(_[1]=y[1]),_[2]<y[0]&&(_[2]=y[0]),_[3]<y[1]&&(_[3]=y[1])}),_}d.default=d,l.Z=d},4102:(s,l)=>{function u(A,D,Z){Z===void 0&&(Z={});var S={type:"Feature"};return(Z.id===0||Z.id)&&(S.id=Z.id),Z.bbox&&(S.bbox=Z.bbox),S.properties=D||{},S.geometry=A,S}function f(A,D,Z){if(Z===void 0&&(Z={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!F(A[0])||!F(A[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:A},D,Z)}function d(A,D,Z){Z===void 0&&(Z={});for(var S=0,N=A;S<N.length;S++){var q=N[S];if(q.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Q=0;Q<q[q.length-1].length;Q++)if(q[q.length-1][Q]!==q[0][Q])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:A},D,Z)}function m(A,D,Z){if(Z===void 0&&(Z={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:A},D,Z)}function _(A,D){D===void 0&&(D={});var Z={type:"FeatureCollection"};return D.id&&(Z.id=D.id),D.bbox&&(Z.bbox=D.bbox),Z.features=A,Z}function y(A,D,Z){return Z===void 0&&(Z={}),u({type:"MultiLineString",coordinates:A},D,Z)}function x(A,D,Z){return Z===void 0&&(Z={}),u({type:"MultiPoint",coordinates:A},D,Z)}function M(A,D,Z){return Z===void 0&&(Z={}),u({type:"MultiPolygon",coordinates:A},D,Z)}function B(A,D){D===void 0&&(D="kilometers");var Z=l.factors[D];if(!Z)throw new Error(D+" units is invalid");return A*Z}function E(A,D){D===void 0&&(D="kilometers");var Z=l.factors[D];if(!Z)throw new Error(D+" units is invalid");return A/Z}function C(A){return 180*(A%(2*Math.PI))/Math.PI}function F(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=u,l.geometry=function(A,D,Z){switch(A){case"Point":return f(D).geometry;case"LineString":return m(D).geometry;case"Polygon":return d(D).geometry;case"MultiPoint":return x(D).geometry;case"MultiLineString":return y(D).geometry;case"MultiPolygon":return M(D).geometry;default:throw new Error(A+" is invalid")}},l.point=f,l.points=function(A,D,Z){return Z===void 0&&(Z={}),_(A.map(function(S){return f(S,D)}),Z)},l.polygon=d,l.polygons=function(A,D,Z){return Z===void 0&&(Z={}),_(A.map(function(S){return d(S,D)}),Z)},l.lineString=m,l.lineStrings=function(A,D,Z){return Z===void 0&&(Z={}),_(A.map(function(S){return m(S,D)}),Z)},l.featureCollection=_,l.multiLineString=y,l.multiPoint=x,l.multiPolygon=M,l.geometryCollection=function(A,D,Z){return Z===void 0&&(Z={}),u({type:"GeometryCollection",geometries:A},D,Z)},l.round=function(A,D){if(D===void 0&&(D=0),D&&!(D>=0))throw new Error("precision must be a positive number");var Z=Math.pow(10,D||0);return Math.round(A*Z)/Z},l.radiansToLength=B,l.lengthToRadians=E,l.lengthToDegrees=function(A,D){return C(E(A,D))},l.bearingToAzimuth=function(A){var D=A%360;return D<0&&(D+=360),D},l.radiansToDegrees=C,l.degreesToRadians=function(A){return A%360*Math.PI/180},l.convertLength=function(A,D,Z){if(D===void 0&&(D="kilometers"),Z===void 0&&(Z="kilometers"),!(A>=0))throw new Error("length must be a positive number");return B(E(A,D),Z)},l.convertArea=function(A,D,Z){if(D===void 0&&(D="meters"),Z===void 0&&(Z="kilometers"),!(A>=0))throw new Error("area must be a positive number");var S=l.areaFactors[D];if(!S)throw new Error("invalid original units");var N=l.areaFactors[Z];if(!N)throw new Error("invalid final units");return A/S*N},l.isNumber=F,l.isObject=function(A){return!!A&&A.constructor===Object},l.validateBBox=function(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(D){if(!F(D))throw new Error("bbox must only contain numbers")})},l.validateId=function(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}},1540:(s,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var f=u(4102);function d(E,C,F){if(E!==null)for(var A,D,Z,S,N,q,Q,et,rt=0,ut=0,_t=E.type,it=_t==="FeatureCollection",gt=_t==="Feature",Dt=it?E.features.length:1,Pt=0;Pt<Dt;Pt++){N=(et=!!(Q=it?E.features[Pt].geometry:gt?E.geometry:E)&&Q.type==="GeometryCollection")?Q.geometries.length:1;for(var Lt=0;Lt<N;Lt++){var jt=0,dt=0;if((S=et?Q.geometries[Lt]:Q)!==null){q=S.coordinates;var re=S.type;switch(rt=!F||re!=="Polygon"&&re!=="MultiPolygon"?0:1,re){case null:break;case"Point":if(C(q,ut,Pt,jt,dt)===!1)return!1;ut++,jt++;break;case"LineString":case"MultiPoint":for(A=0;A<q.length;A++){if(C(q[A],ut,Pt,jt,dt)===!1)return!1;ut++,re==="MultiPoint"&&jt++}re==="LineString"&&jt++;break;case"Polygon":case"MultiLineString":for(A=0;A<q.length;A++){for(D=0;D<q[A].length-rt;D++){if(C(q[A][D],ut,Pt,jt,dt)===!1)return!1;ut++}re==="MultiLineString"&&jt++,re==="Polygon"&&dt++}re==="Polygon"&&jt++;break;case"MultiPolygon":for(A=0;A<q.length;A++){for(dt=0,D=0;D<q[A].length;D++){for(Z=0;Z<q[A][D].length-rt;Z++){if(C(q[A][D][Z],ut,Pt,jt,dt)===!1)return!1;ut++}dt++}jt++}break;case"GeometryCollection":for(A=0;A<S.geometries.length;A++)if(d(S.geometries[A],C,F)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(E,C){var F;switch(E.type){case"FeatureCollection":for(F=0;F<E.features.length&&C(E.features[F].properties,F)!==!1;F++);break;case"Feature":C(E.properties,0)}}function _(E,C){if(E.type==="Feature")C(E,0);else if(E.type==="FeatureCollection")for(var F=0;F<E.features.length&&C(E.features[F],F)!==!1;F++);}function y(E,C){var F,A,D,Z,S,N,q,Q,et,rt,ut=0,_t=E.type==="FeatureCollection",it=E.type==="Feature",gt=_t?E.features.length:1;for(F=0;F<gt;F++){for(N=_t?E.features[F].geometry:it?E.geometry:E,Q=_t?E.features[F].properties:it?E.properties:{},et=_t?E.features[F].bbox:it?E.bbox:void 0,rt=_t?E.features[F].id:it?E.id:void 0,S=(q=!!N&&N.type==="GeometryCollection")?N.geometries.length:1,D=0;D<S;D++)if((Z=q?N.geometries[D]:N)!==null)switch(Z.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(C(Z,ut,Q,et,rt)===!1)return!1;break;case"GeometryCollection":for(A=0;A<Z.geometries.length;A++)if(C(Z.geometries[A],ut,Q,et,rt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(C(null,ut,Q,et,rt)===!1)return!1;ut++}}function x(E,C){y(E,function(F,A,D,Z,S){var N,q=F===null?null:F.type;switch(q){case null:case"Point":case"LineString":case"Polygon":return C(f.feature(F,D,{bbox:Z,id:S}),A,0)!==!1&&void 0}switch(q){case"MultiPoint":N="Point";break;case"MultiLineString":N="LineString";break;case"MultiPolygon":N="Polygon"}for(var Q=0;Q<F.coordinates.length;Q++){var et={type:N,coordinates:F.coordinates[Q]};if(C(f.feature(et,D),A,Q)===!1)return!1}})}function M(E,C){x(E,function(F,A,D){var Z=0;if(F.geometry){var S=F.geometry.type;if(S!=="Point"&&S!=="MultiPoint"){var N,q=0,Q=0,et=0;return d(F,function(rt,ut,_t,it,gt){if(N===void 0||A>q||it>Q||gt>et)return N=rt,q=A,Q=it,et=gt,void(Z=0);var Dt=f.lineString([N,rt],F.properties);if(C(Dt,A,D,gt,Z)===!1)return!1;Z++,N=rt})!==!1&&void 0}}})}function B(E,C){if(!E)throw new Error("geojson is required");x(E,function(F,A,D){if(F.geometry!==null){var Z=F.geometry.type,S=F.geometry.coordinates;switch(Z){case"LineString":if(C(F,A,D,0,0)===!1)return!1;break;case"Polygon":for(var N=0;N<S.length;N++)if(C(f.lineString(S[N],F.properties),A,D,N)===!1)return!1}}})}l.coordAll=function(E){var C=[];return d(E,function(F){C.push(F)}),C},l.coordEach=d,l.coordReduce=function(E,C,F,A){var D=F;return d(E,function(Z,S,N,q,Q){D=S===0&&F===void 0?Z:C(D,Z,S,N,q,Q)},A),D},l.featureEach=_,l.featureReduce=function(E,C,F){var A=F;return _(E,function(D,Z){A=Z===0&&F===void 0?D:C(A,D,Z)}),A},l.findPoint=function(E,C){if(C=C||{},!f.isObject(C))throw new Error("options is invalid");var F,A=C.featureIndex||0,D=C.multiFeatureIndex||0,Z=C.geometryIndex||0,S=C.coordIndex||0,N=C.properties;switch(E.type){case"FeatureCollection":A<0&&(A=E.features.length+A),N=N||E.features[A].properties,F=E.features[A].geometry;break;case"Feature":N=N||E.properties,F=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=E;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var q=F.coordinates;switch(F.type){case"Point":return f.point(q,N,C);case"MultiPoint":return D<0&&(D=q.length+D),f.point(q[D],N,C);case"LineString":return S<0&&(S=q.length+S),f.point(q[S],N,C);case"Polygon":return Z<0&&(Z=q.length+Z),S<0&&(S=q[Z].length+S),f.point(q[Z][S],N,C);case"MultiLineString":return D<0&&(D=q.length+D),S<0&&(S=q[D].length+S),f.point(q[D][S],N,C);case"MultiPolygon":return D<0&&(D=q.length+D),Z<0&&(Z=q[D].length+Z),S<0&&(S=q[D][Z].length-S),f.point(q[D][Z][S],N,C)}throw new Error("geojson is invalid")},l.findSegment=function(E,C){if(C=C||{},!f.isObject(C))throw new Error("options is invalid");var F,A=C.featureIndex||0,D=C.multiFeatureIndex||0,Z=C.geometryIndex||0,S=C.segmentIndex||0,N=C.properties;switch(E.type){case"FeatureCollection":A<0&&(A=E.features.length+A),N=N||E.features[A].properties,F=E.features[A].geometry;break;case"Feature":N=N||E.properties,F=E.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":F=E;break;default:throw new Error("geojson is invalid")}if(F===null)return null;var q=F.coordinates;switch(F.type){case"Point":case"MultiPoint":return null;case"LineString":return S<0&&(S=q.length+S-1),f.lineString([q[S],q[S+1]],N,C);case"Polygon":return Z<0&&(Z=q.length+Z),S<0&&(S=q[Z].length+S-1),f.lineString([q[Z][S],q[Z][S+1]],N,C);case"MultiLineString":return D<0&&(D=q.length+D),S<0&&(S=q[D].length+S-1),f.lineString([q[D][S],q[D][S+1]],N,C);case"MultiPolygon":return D<0&&(D=q.length+D),Z<0&&(Z=q[D].length+Z),S<0&&(S=q[D][Z].length-S-1),f.lineString([q[D][Z][S],q[D][Z][S+1]],N,C)}throw new Error("geojson is invalid")},l.flattenEach=x,l.flattenReduce=function(E,C,F){var A=F;return x(E,function(D,Z,S){A=Z===0&&S===0&&F===void 0?D:C(A,D,Z,S)}),A},l.geomEach=y,l.geomReduce=function(E,C,F){var A=F;return y(E,function(D,Z,S,N,q){A=Z===0&&F===void 0?D:C(A,D,Z,S,N,q)}),A},l.lineEach=B,l.lineReduce=function(E,C,F){var A=F;return B(E,function(D,Z,S,N){A=Z===0&&F===void 0?D:C(A,D,Z,S,N)}),A},l.propEach=m,l.propReduce=function(E,C,F){var A=F;return m(E,function(D,Z){A=Z===0&&F===void 0?D:C(A,D,Z)}),A},l.segmentEach=M,l.segmentReduce=function(E,C,F){var A=F,D=!1;return M(E,function(Z,S,N,q,Q){A=D===!1&&F===void 0?Z:C(A,Z,S,N,q,Q),D=!0}),A}},5975:(s,l,u)=>{u(7107);var f=u(2492),d=u.n(f);const m=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),_=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex löschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer löschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknüpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Länge","segmentLength":"Segment Länge","area":"Fläche","radius":"Radius","perimeter":"Umfang","height":"Höhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),y=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),x=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Adaugă un punct","firstVertex":"Apasă aici pentru a adăuga primul Vertex","continueLine":"Apasă aici pentru a continua desenul","finishLine":"Apasă pe orice obiect pentru a finisa desenul","finishPoly":"Apasă pe primul obiect pentru a finisa","finishRect":"Apasă pentru a finisa","startCircle":"Apasă pentru a desena un cerc","finishCircle":"Apasă pentru a finisa un cerc","placeCircleMarker":"Adaugă un punct"},"actions":{"finish":"Termină","cancel":"Anulează","removeLastVertex":"Șterge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaugă o bulină","drawPolyButton":"Desenează un poligon","drawLineButton":"Desenează o linie","drawCircleButton":"Desenează un cerc","drawRectButton":"Desenează un dreptunghi","editButton":"Editează straturile","dragButton":"Mută straturile","cutButton":"Taie straturile","deleteButton":"Șterge straturile","drawCircleMarkerButton":"Desenează marcatorul cercului","snappingButton":"Fixați marcatorul glisat pe alte straturi și vârfuri","pinningButton":"Fixați vârfurile partajate împreună"}}'),B=JSON.parse('{"tooltips":{"placeMarker":"Нажмите, чтобы нанести маркер","firstVertex":"Нажмите, чтобы нанести первый объект","continueLine":"Нажмите, чтобы продолжить рисование","finishLine":"Нажмите любой существующий маркер для завершения","finishPoly":"Выберите первую точку, чтобы закончить","finishRect":"Нажмите, чтобы закончить","startCircle":"Нажмите, чтобы добавить центр круга","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Нажмите, чтобы нанести круговой маркер"},"actions":{"finish":"Завершить","cancel":"Отменить","removeLastVertex":"Отменить последнее действие"},"buttonTitles":{"drawMarkerButton":"Добавить маркер","drawPolyButton":"Рисовать полигон","drawLineButton":"Рисовать кривую","drawCircleButton":"Рисовать круг","drawRectButton":"Рисовать прямоугольник","editButton":"Редактировать слой","dragButton":"Перенести слой","cutButton":"Вырезать слой","deleteButton":"Удалить слой","drawCircleMarkerButton":"Добавить круговой маркер","snappingButton":"Привязать перетаскиваемый маркер к другим слоям и вершинам","pinningButton":"Связать общие точки вместе"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vértice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del círculo","finishCircle":"Presiona para finalizar el círculo","placeCircleMarker":"Presiona para colocar un marcador de círculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar último vértice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polígono","drawLineButton":"Dibujar Línea","drawCircleButton":"Dibujar Círculo","drawRectButton":"Dibujar Rectángulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Círculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vértices","pinningButton":"Fijar juntos los vértices compartidos"}}'),C=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beëindigen","finishPoly":"Klik op het eerst punt om te beëindigen","finishRect":"Klik om te beëindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beëindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),F=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer à dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"Éditer des calques","dragButton":"Déplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"Épingler ensemble les sommets partagés","rotateButton":"Tourner des calques"}}`),A=JSON.parse('{"tooltips":{"placeMarker":"单击放置标记","firstVertex":"单击放置首个顶点","continueLine":"单击继续绘制","finishLine":"单击任何存在的标记以完成","finishPoly":"单击第一个标记以完成","finishRect":"单击完成","startCircle":"单击放置圆心","finishCircle":"单击完成圆形","placeCircleMarker":"点击放置圆形标记"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最后的顶点"},"buttonTitles":{"drawMarkerButton":"绘制标记","drawPolyButton":"绘制多边形","drawLineButton":"绘制线段","drawCircleButton":"绘制圆形","drawRectButton":"绘制长方形","editButton":"编辑图层","dragButton":"拖拽图层","cutButton":"剪切图层","deleteButton":"删除图层","drawCircleMarkerButton":"画圆圈标记","snappingButton":"将拖动的标记捕捉到其他图层和顶点","pinningButton":"将共享顶点固定在一起"}}'),D=JSON.parse('{"tooltips":{"placeMarker":"單擊放置標記","firstVertex":"單擊放置第一個頂點","continueLine":"單擊繼續繪製","finishLine":"單擊任何存在的標記以完成","finishPoly":"單擊第一個標記以完成","finishRect":"單擊完成","startCircle":"單擊放置圓心","finishCircle":"單擊完成圓形","placeCircleMarker":"點擊放置圓形標記"},"actions":{"finish":"完成","cancel":"取消","removeLastVertex":"移除最後一個頂點"},"buttonTitles":{"drawMarkerButton":"放置標記","drawPolyButton":"繪製多邊形","drawLineButton":"繪製線段","drawCircleButton":"繪製圓形","drawRectButton":"繪製方形","editButton":"編輯圖形","dragButton":"移動圖形","cutButton":"裁切圖形","deleteButton":"刪除圖形","drawCircleMarkerButton":"畫圓圈標記","snappingButton":"將拖動的標記對齊到其他圖層和頂點","pinningButton":"將共享頂點固定在一起"}}'),Z={en:m,de:_,it:y,id:x,ro:M,ru:B,es:E,nl:C,fr:F,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vértice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polígono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do círculo","finishCircle":"Clique para fechar o círculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover último vértice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polígono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um círculo","drawRectButton":"Desenhar um retângulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de círculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vértices","pinningButton":"Vértices compartilhados de pinos juntos"}}'),zh:A,zh_tw:D,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawić znacznik","firstVertex":"Kliknij, aby ustawić pierwszy punkt","continueLine":"Kliknij, aby kontynuować rysowanie","finishLine":"Kliknij dowolny punkt, aby zakończyć","finishPoly":"Kliknij pierwszy punkt, aby zakończyć","finishRect":"Kliknij, aby zakończyć","startCircle":"Kliknij, aby ustawić środek koła","finishCircle":"Kliknij, aby zakończyć rysowanie koła","placeCircleMarker":"Kliknij, aby ustawić okrągły znacznik"},"actions":{"finish":"Zakończ","cancel":"Anuluj","removeLastVertex":"Usuń ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokąt","drawLineButton":"Narysuj ścieżkę","drawCircleButton":"Narysuj koło","drawRectButton":"Narysuj prostokąt","editButton":"Edytuj","dragButton":"Przesuń","cutButton":"Wytnij","deleteButton":"Usuń","drawCircleMarkerButton":"Narysuj okrągły znacznik","snappingButton":"Snap przeciągnięty marker na inne warstwy i wierzchołki","pinningButton":"Sworzeń wspólne wierzchołki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka för att placera markör","firstVertex":"Klicka för att placera första hörnet","continueLine":"Klicka för att fortsätta rita","finishLine":"Klicka på en existerande punkt för att slutföra","finishPoly":"Klicka på den första punkten för att slutföra","finishRect":"Klicka för att slutföra","startCircle":"Klicka för att placera cirkelns centrum","finishCircle":"Klicka för att slutföra cirkeln","placeCircleMarker":"Klicka för att placera cirkelmarkör"},"actions":{"finish":"Slutför","cancel":"Avbryt","removeLastVertex":"Ta bort sista hörnet"},"buttonTitles":{"drawMarkerButton":"Rita Markör","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkör","snappingButton":"Snäpp dra markören till andra lager och hörn","pinningButton":"Fäst delade hörn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"Κάντε κλικ για να τοποθετήσετε Δείκτη","firstVertex":"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο","continueLine":"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε","finishLine":"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί","finishPoly":"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε","finishRect":"Κάντε κλικ για να τελειώσετε","startCircle":"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου","finishCircle":"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο","placeCircleMarker":"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},"actions":{"finish":"Τέλος","cancel":"Ακύρωση","removeLastVertex":"Κατάργηση τελευταίου σημείου"},"buttonTitles":{"drawMarkerButton":"Σχεδίαση Δείκτη","drawPolyButton":"Σχεδίαση Πολυγώνου","drawLineButton":"Σχεδίαση Γραμμής","drawCircleButton":"Σχεδίαση Κύκλου","drawRectButton":"Σχεδίαση Ορθογωνίου","editButton":"Επεξεργασία Επιπέδων","dragButton":"Μεταφορά Επιπέδων","cutButton":"Αποκοπή Επιπέδων","deleteButton":"Κατάργηση Επιπέδων","drawCircleMarkerButton":"Σχεδίαση Κυκλικού Δείκτη","snappingButton":"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές","pinningButton":"Περικοπή κοινών κορυφών μαζί"}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jelölő elhelyezéséhez","firstVertex":"Kattintson az első pont elhelyezéséhez","continueLine":"Kattintson a következő pont elhelyezéséhez","finishLine":"A befejezéshez kattintson egy meglévő pontra","finishPoly":"A befejezéshez kattintson az első pontra","finishRect":"Kattintson a befejezéshez","startCircle":"Kattintson a kör középpontjának elhelyezéséhez","finishCircle":"Kattintson a kör befejezéséhez","placeCircleMarker":"Kattintson a körjelölő elhelyezéséhez"},"actions":{"finish":"Befejezés","cancel":"Mégse","removeLastVertex":"Utolsó pont eltávolítása"},"buttonTitles":{"drawMarkerButton":"Jelölő rajzolása","drawPolyButton":"Poligon rajzolása","drawLineButton":"Vonal rajzolása","drawCircleButton":"Kör rajzolása","drawRectButton":"Négyzet rajzolása","editButton":"Elemek szerkesztése","dragButton":"Elemek mozgatása","cutButton":"Elemek vágása","deleteButton":"Elemek törlése","drawCircleMarkerButton":"Kör jelölő rajzolása","snappingButton":"Kapcsolja a jelöltőt másik elemhez vagy ponthoz","pinningButton":"Közös pontok összekötése"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markør","firstVertex":"Tryk for at placere det første punkt","continueLine":"Tryk for at fortsætte linjen","finishLine":"Tryk på et eksisterende punkt for at afslutte","finishPoly":"Tryk på det første punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkør"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markør","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Træk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkør","snappingButton":"Fastgør trukket markør til andre elementer","pinningButton":"Sammenlæg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for å plassere punkt","firstVertex":"Klikk for å plassere første punkt","continueLine":"Klikk for å tegne videre","finishLine":"Klikk på et eksisterende punkt for å fullføre","finishPoly":"Klikk første punkt for å fullføre","finishRect":"Klikk for å fullføre","startCircle":"Klikk for å sette sirkel midtpunkt","finishCircle":"Klikk for å fullføre sirkel","placeCircleMarker":"Klikk for å plassere sirkel"},"actions":{"finish":"Fullfør","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"کلیک برای جانمایی نشان","firstVertex":"کلیک برای رسم اولین رأس","continueLine":"کلیک برای ادامه رسم","finishLine":"کلیک روی هر نشان موجود برای پایان","finishPoly":"کلیک روی اولین نشان برای پایان","finishRect":"کلیک برای پایان","startCircle":"کلیک برای رسم مرکز دایره","finishCircle":"کلیک برای پایان رسم دایره","placeCircleMarker":"کلیک برای رسم نشان دایره","placeText":"کلیک برای نوشتن متن"},"actions":{"finish":"پایان","cancel":"لفو","removeLastVertex":"حذف آخرین رأس"},"buttonTitles":{"drawMarkerButton":"درج نشان","drawPolyButton":"رسم چندضلعی","drawLineButton":"رسم خط","drawCircleButton":"رسم دایره","drawRectButton":"رسم چهارضلعی","editButton":"ویرایش لایه‌ها","dragButton":"جابجایی لایه‌ها","cutButton":"برش لایه‌ها","deleteButton":"حذف لایه‌ها","drawCircleMarkerButton":"رسم نشان دایره","snappingButton":"نشانگر را به لایه‌ها و رئوس دیگر بکشید","pinningButton":"رئوس مشترک را با هم پین کنید","rotateButton":"چرخش لایه","drawTextButton":"رسم متن"}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":"Натисніть, щоб нанести маркер","firstVertex":"Натисніть, щоб нанести першу вершину","continueLine":"Натисніть, щоб продовжити малювати","finishLine":"Натисніть будь-який існуючий маркер для завершення","finishPoly":"Виберіть перший маркер, щоб завершити","finishRect":"Натисніть, щоб завершити","startCircle":"Натисніть, щоб додати центр кола","finishCircle":"Натисніть, щоб завершити коло","placeCircleMarker":"Натисніть, щоб нанести круговий маркер"},"actions":{"finish":"Завершити","cancel":"Відмінити","removeLastVertex":"Видалити попередню вершину"},"buttonTitles":{"drawMarkerButton":"Малювати маркер","drawPolyButton":"Малювати полігон","drawLineButton":"Малювати криву","drawCircleButton":"Малювати коло","drawRectButton":"Малювати прямокутник","editButton":"Редагувати шари","dragButton":"Перенести шари","cutButton":"Вирізати шари","deleteButton":"Видалити шари","drawCircleMarkerButton":"Малювати круговий маркер","snappingButton":"Прив’язати перетягнутий маркер до інших шарів та вершин","pinningButton":"Зв'язати спільні вершини разом"}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"İşaretçi yerleştirmek için tıklayın","firstVertex":"İlk tepe noktasını yerleştirmek için tıklayın","continueLine":"Çizime devam etmek için tıklayın","finishLine":"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın","finishPoly":"Bitirmek için ilk işaretçiyi tıklayın","finishRect":"Bitirmek için tıklayın","startCircle":"Daire merkezine yerleştirmek için tıklayın","finishCircle":"Daireyi bitirmek için tıklayın","placeCircleMarker":"Daire işaretçisi yerleştirmek için tıklayın"},"actions":{"finish":"Bitir","cancel":"İptal","removeLastVertex":"Son köşeyi kaldır"},"buttonTitles":{"drawMarkerButton":"Çizim İşaretçisi","drawPolyButton":"Çokgenler çiz","drawLineButton":"Çoklu çizgi çiz","drawCircleButton":"Çember çiz","drawRectButton":"Dikdörtgen çiz","editButton":"Katmanları düzenle","dragButton":"Katmanları sürükle","cutButton":"Katmanları kes","deleteButton":"Katmanları kaldır","drawCircleMarkerButton":"Daire işaretçisi çiz","snappingButton":"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır","pinningButton":"Paylaşılan köşeleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutím vytvoříte značku","firstVertex":"Kliknutím vytvoříte první objekt","continueLine":"Kliknutím pokračujte v kreslení","finishLine":"Kliknutí na libovolnou existující značku pro dokončení","finishPoly":"Vyberte první bod pro dokončení","finishRect":"Klikněte pro dokončení","startCircle":"Kliknutím přidejte střed kruhu","finishCircle":"Нажмите, чтобы задать радиус","placeCircleMarker":"Kliknutím nastavte poloměr"},"actions":{"finish":"Dokončit","cancel":"Zrušit","removeLastVertex":"Zrušit poslední akci"},"buttonTitles":{"drawMarkerButton":"Přidat značku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit křivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdélník","editButton":"Upravit vrstvu","dragButton":"Přeneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Přidat kruhovou značku","snappingButton":"Navázat tažnou značku k dalším vrstvám a vrcholům","pinningButton":"Spojit společné body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"クリックしてマーカーを配置","firstVertex":"クリックして最初の頂点を配置","continueLine":"クリックして描画を続ける","finishLine":"任意のマーカーをクリックして終了","finishPoly":"最初のマーカーをクリックして終了","finishRect":"クリックして終了","startCircle":"クリックして円の中心を配置","finishCircle":"クリックして円の描画を終了","placeCircleMarker":"クリックして円マーカーを配置","placeText":"クリックしてテキストを配置"},"actions":{"finish":"終了","cancel":"キャンセル","removeLastVertex":"最後の頂点を削除"},"buttonTitles":{"drawMarkerButton":"マーカーを描画","drawPolyButton":"ポリゴンを描画","drawLineButton":"折れ線を描画","drawCircleButton":"円を描画","drawRectButton":"矩形を描画","editButton":"レイヤーを編集","dragButton":"レイヤーをドラッグ","cutButton":"レイヤーを切り取り","deleteButton":"レイヤーを削除","drawCircleMarkerButton":"円マーカーを描画","snappingButton":"ドラッグしたマーカーを他のレイヤーや頂点にスナップする","pinningButton":"共有する頂点を同時に動かす","rotateButton":"レイヤーを回転","drawTextButton":"テキストを描画"}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmäisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtämistä","finishLine":"Klikkaa olemassa olevaa merkkiä lopettaaksesi","finishPoly":"Klikkaa ensimmäistä merkkiä lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrän keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrän","placeCircleMarker":"Klikkaa asettaaksesi ympyrämerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirrä merkkejä","drawPolyButton":"Piirrä monikulmioita","drawLineButton":"Piirrä viivoja","drawCircleButton":"Piirrä ympyrä","drawRectButton":"Piirrä neliskulmioita","editButton":"Muokkaa","dragButton":"Siirrä","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirrä ympyrämerkki","snappingButton":"Kiinnitä siirrettävä merkki toisiin muotoihin","pinningButton":"Kiinnitä jaetut muodot yhteen","rotateButton":"Käännä","drawTextButton":"Piirrä tekstiä"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"마커 위치를 클릭하세요","firstVertex":"첫번째 꼭지점 위치을 클릭하세요","continueLine":"계속 그리려면 클릭하세요","finishLine":"끝내려면 기존 마커를 클릭하세요","finishPoly":"끝내려면 처음 마커를 클릭하세요","finishRect":"끝내려면 클릭하세요","startCircle":"원의 중심이 될 위치를 클릭하세요","finishCircle":"원을 끝내려면 클릭하세요","placeCircleMarker":"원 마커 위치를 클릭하세요","placeText":"텍스트 위치를 클릭하세요"},"actions":{"finish":"끝내기","cancel":"취소","removeLastVertex":"마지막 꼭지점 제거"},"buttonTitles":{"drawMarkerButton":"마커 그리기","drawPolyButton":"다각형 그리기","drawLineButton":"다각선 그리기","drawCircleButton":"원 그리기","drawRectButton":"직사각형 그리기","editButton":"레이어 편집하기","dragButton":"레이어 끌기","cutButton":"레이어 자르기","deleteButton":"레이어 제거하기","drawCircleMarkerButton":"원 마커 그리기","snappingButton":"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기","pinningButton":"공유 꼭지점을 함께 찍기","rotateButton":"레이어 회전하기","drawTextButton":"텍스트 그리기"}}')};function S(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function N(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?S(Object(h),!0).forEach(function(g){q(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):S(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function q(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}const Q={_globalEditModeEnabled:!1,enableGlobalEditMode:function(i){var a=N({},i);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(h){h.pm.enable(a)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(i){i.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(i)},handleLayerAdditionInGlobalEditMode:function(){var i=this._addedLayers;for(var a in this._addedLayers={},i){var h=i[a];this._isRelevantForEdit(h)&&this.globalEditModeEnabled()&&h.pm.enable(N({},this.globalOptions))}},_layerAdded:function(i){var a=i.layer;this._addedLayers[L.stamp(a)]=a},_isRelevantForEdit:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowEditing}},et={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},i.forEach(function(a){a.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var i=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,i.forEach(function(a){a.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var i=this._addedLayersDrag;for(var a in this._addedLayersDrag={},i){var h=i[a];this._isRelevantForDrag(h)&&this.globalDragModeEnabled()&&h.pm.enableLayerDrag()}},_layerAddedDrag:function(i){var a=i.layer;this._addedLayersDrag[L.stamp(a)]=a},_isRelevantForDrag:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.draggable}},rt={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var i=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(a){i._isRelevantForRemoval(a)&&(a.pm.disable(),a.on("click",i.removeLayer,i))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var i=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(a){a.off("click",i.removeLayer,i)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(i){var a=i.layer;this._isRelevantForRemoval(a)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(i){var a=i.target;this._isRelevantForRemoval(a)&&!a.pm.dragging()&&(a.removeFrom(this.map.pm._getContainingLayer()),a.remove(),a instanceof L.LayerGroup?(this._fireRemoveLayerGroup(a),this._fireRemoveLayerGroup(this.map,a)):(a.pm._fireRemove(a),a.pm._fireRemove(this.map,a)))},_isRelevantForRemoval:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRemoval}},ut={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var i=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(a){return a instanceof L.Polyline}).forEach(function(a){i._isRelevantForRotate(a)&&a.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(i){return i instanceof L.Polyline}).forEach(function(i){i.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(i){var a=i.layer;this._isRelevantForRotate(a)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(i){return i.pm&&!(i instanceof L.LayerGroup)&&(!L.PM.optIn&&!i.options.pmIgnore||L.PM.optIn&&i.options.pmIgnore===!1)&&!i._pmTempLayer&&i.pm.options.allowRotation}};function _t(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function it(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?_t(Object(h),!0).forEach(function(g){gt(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):_t(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function gt(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}var Dt={_fireDrawStart:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},i,a)},_fireDrawEnd:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},i,a)},_fireCreate:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:i,layer:i},a,h)},_fireCenterPlaced:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=i==="Draw"?this._layer:void 0,g=i!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:h,layer:g,latlng:this._layer.getLatLng()},i,a)},_fireCut:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(i,"pm:cut",{shape:this._shape,layer:a,originalLayer:h},g,k)},_fireEdit:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(i,"pm:edit",{layer:this._layer,shape:this.getShape()},a,h)},_fireEnable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDisable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},i,a)},_fireUpdate:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},i,a)},_fireMarkerDragStart:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},h,g)},_fireMarkerDrag:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a},h,g)},_fireMarkerDragEnd:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:i,shape:this.getShape(),indexPath:a,intersectionReset:h},g,k)},_fireDragStart:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},i,a)},_fireDrag:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",it(it({},i),{},{shape:this.getShape()}),a,h)},_fireDragEnd:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragEnable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},i,a)},_fireDragDisable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},i,a)},_fireRemove:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:remove",{layer:a,shape:this.getShape()},h,g)},_fireVertexAdded:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:i,indexPath:a,latlng:h,shape:this.getShape()},g,k)},_fireVertexRemoved:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:i,indexPath:a,shape:this.getShape()},h,g)},_fireVertexClick:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},h,g)},_fireIntersect:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:i,shape:this.getShape()},a,h)},_fireLayerReset:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:i,indexPath:a,shape:this.getShape()},h,g)},_fireChange:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:i,shape:this.getShape()},a,h)},_fireTextChange:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:i,shape:this.getShape()},a,h)},_fireTextFocus:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},i,a)},_fireTextBlur:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},i,a)},_fireSnapDrag:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:snapdrag",a,h,g)},_fireSnap:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:snap",a,h,g)},_fireUnsnap:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:unsnap",a,h,g)},_fireRotationEnable:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},h,g)},_fireRotationDisable:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(i,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},a,h)},_fireRotationStart:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:a},h,g)},_fireRotation:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(i,"pm:rotate",{layer:g,helpLayer:this._layer,startAngle:this._startAngle,angle:g.pm.getAngle(),angleDiff:a,oldLatLngs:h,newLatLngs:g.getLatLngs()},k,O)},_fireRotationEnd:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(i,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:a,angle:this._rotationLayer.pm.getAngle(),originLatLngs:h,newLatLngs:this._rotationLayer.getLatLngs()},g,k)},_fireActionClick:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:i.text,action:i,btnName:a,button:h},g,k)},_fireButtonClick:function(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:i,button:a},h,g)},_fireLangChange:function(i,a,h,g){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",O=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:i,activeLang:a,fallback:h,translations:g},k,O)},_fireGlobalDragModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:i,map:this.map},a,h)},_fireGlobalEditModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:i,map:this.map},a,h)},_fireGlobalRemovalModeToggled:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:i,map:this.map},a,h)},_fireGlobalCutModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},i,a)},_fireGlobalDrawModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},i,a)},_fireGlobalRotateModeToggled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},i,a)},_fireRemoveLayerGroup:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(i,"pm:remove",{layer:a,shape:void 0},h,g)},_fireKeyeventEvent:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:i,eventType:a,focusOn:h},g,k)},__fire:function(i,a,h,g){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};h=d()(h,k,{source:g}),L.PM.Utils._fireEvent(i,a,h)}};const Pt=Dt,Lt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(i){this.map=i,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(i){var a="document";this.map.getContainer().contains(i.target)&&(a="map");var h={event:i,eventType:i.type,focusOn:a};this._lastEvents[i.type]=h,this._lastEvents.current=h,this.map.pm._fireKeyeventEvent(i,i.type,a)},_onBlur:function(i){i.altKey=!1;var a={event:i,eventType:i.type,focusOn:"document"};this._lastEvents[i.type]=a,this._lastEvents.current=a},getLastKeyEvent:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[i]},isShiftKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.shiftKey},isAltKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.altKey},isCtrlKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.ctrlKey},isMetaKeyPressed:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.metaKey},getPressedKey:function(){var i;return(i=this._lastEvents.current)===null||i===void 0?void 0:i.event.key}};var jt=u(7361),dt=u.n(jt),re=u(8721),Ot=u.n(re);function Ct(i){var a=L.PM.activeLang;return Ot()(Z,a)||(a="en"),dt()(Z[a],i)}function Ut(i){for(var a=0;a<i.length;a+=1){var h=i[a];if(Array.isArray(h)){if(Ut(h))return!0}else if(h!=null&&h!=="")return!0}return!1}function ge(i){return i.reduce(function(a,h){if(h.length!==0){var g=Array.isArray(h)?ge(h):h;Array.isArray(g)?g.length!==0&&a.push(g):a.push(g)}return a},[])}function oe(i,a,h){for(var g,k,O,z=6378137,G=63567523142e-4,V=.0033528106647474805,H=i.lng,J=i.lat,lt=h,ot=Math.PI,yt=a*ot/180,xt=Math.sin(yt),Gt=Math.cos(yt),Yt=(1-V)*Math.tan(J*ot/180),fe=1/Math.sqrt(1+Yt*Yt),Vt=Yt*fe,de=Math.atan2(Yt,Gt),ve=fe*xt,Fe=1-ve*ve,yn=Fe*(z*z-G*G)/(G*G),Ao=1+yn/16384*(4096+yn*(yn*(320-175*yn)-768)),Ai=yn/1024*(256+yn*(yn*(74-47*yn)-128)),Zn=lt/(G*Ao),Zr=2*Math.PI;Math.abs(Zn-Zr)>1e-12;)g=Math.cos(2*de+Zn),Zr=Zn,Zn=lt/(G*Ao)+Ai*(k=Math.sin(Zn))*(g+Ai/4*((O=Math.cos(Zn))*(2*g*g-1)-Ai/6*g*(4*k*k-3)*(4*g*g-3)));var Io=Vt*k-fe*O*Gt,qs=Math.atan2(Vt*O+fe*k*Gt,(1-V)*Math.sqrt(ve*ve+Io*Io)),Ii=V/16*Fe*(4+V*(4-3*Fe)),Ws=H+180*(Math.atan2(k*xt,fe*O-Vt*k*Gt)-(1-Ii)*V*ve*(Zn+Ii*k*(g+Ii*O*(2*g*g-1))))/ot,cn=180*qs/ot;return L.latLng(Ws,cn)}function Qt(i,a,h,g){for(var k,O,z=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],G=[],V=0;V<h;V+=1){if(z)k=oe(i,360*V/h+g,a),O=L.latLng(k.lng,k.lat);else{var H=i.lat+Math.cos(2*V*Math.PI/h)*a,J=i.lng+Math.sin(2*V*Math.PI/h)*a;O=L.latLng(H,J)}G.push(O)}return G}function Bt(i,a,h,g){var k=function(O,z,G){var V=O.latLngToContainerPoint(z),H=O.latLngToContainerPoint(G),J=180*Math.atan2(H.y-V.y,H.x-V.x)/Math.PI+90;return J+(J<0?360:0)}(i,a,h);return function(O,z,G){z=(z+360)%360;var V=Math.PI/180,H=180/Math.PI,J=6378137,lt=O.lng*V,ot=O.lat*V,yt=z*V,xt=Math.sin(ot),Gt=Math.cos(ot),Yt=Math.cos(G/J),fe=Math.sin(G/J),Vt=Math.asin(xt*Yt+Gt*fe*Math.cos(yt)),de=lt+Math.atan2(Math.sin(yt)*fe*Gt,Yt-xt*Math.sin(Vt));return de=(de*=H)>180?de-360:de<-180?de+360:de,L.latLng([Vt*H,de])}(a,k,g)}function at(i,a){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!a||Object.keys(a).length===0)return function(V,H){return V-H};for(var g,k=Object.keys(a),O=k.length-1,z={};O>=0;)g=k[O],z[g.toLowerCase()]=a[g],O-=1;function G(V){return V instanceof L.Marker?"Marker":V instanceof L.Circle?"Circle":V instanceof L.CircleMarker?"CircleMarker":V instanceof L.Rectangle?"Rectangle":V instanceof L.Polygon?"Polygon":V instanceof L.Polyline?"Line":void 0}return function(V,H){var J,lt;if(i==="instanceofShape"){if(J=G(V.layer).toLowerCase(),lt=G(H.layer).toLowerCase(),!J||!lt)return 0}else{if(!V.hasOwnProperty(i)||!H.hasOwnProperty(i))return 0;J=V[i].toLowerCase(),lt=H[i].toLowerCase()}var ot=J in z?z[J]:Number.MAX_SAFE_INTEGER,yt=lt in z?z[lt]:Number.MAX_SAFE_INTEGER,xt=0;return ot<yt?xt=-1:ot>yt&&(xt=1),h==="desc"?-1*xt:xt}}function vt(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i.getLatLngs();return i instanceof L.Polygon?L.polygon(a).getLatLngs():L.polyline(a).getLatLngs()}function bt(i,a){var h,g;if((h=a.options.crs)!==null&&h!==void 0&&(g=h.projection)!==null&&g!==void 0&&g.MAX_LATITUDE){var k,O,z=(k=a.options.crs)===null||k===void 0||(O=k.projection)===null||O===void 0?void 0:O.MAX_LATITUDE;i.lat=Math.max(Math.min(z,i.lat),-z)}return i}function Rt(i){return i.options.renderer||i._map&&(i._map._getPaneRenderer(i.options.pane)||i._map.options.renderer||i._map._renderer)||i._renderer}const te=L.Class.extend({includes:[Q,et,rt,ut,Pt],initialize:function(i){this.map=i,this.Draw=new L.PM.Draw(i),this.Toolbar=new L.PM.Toolbar(i),this.Keyboard=Lt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(i)},setLang:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",a=arguments.length>1?arguments[1]:void 0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",g=L.PM.activeLang;a&&(Z[i]=d()(Z[h],a)),L.PM.activeLang=i,this.map.pm.Toolbar.reinit(),this._fireLangChange(g,i,h,Z[i])},addControls:function(i){this.Toolbar.addControls(i)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",a=arguments.length>1?arguments[1]:void 0;i==="Poly"&&(i="Polygon"),this.Draw.enable(i,a)},disableDraw:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";i==="Poly"&&(i="Polygon"),this.Draw.disable(i)},setPathOptions:function(i){var a=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=h.ignoreShapes||[],k=h.merge||!1;this.map.pm.Draw.shapes.forEach(function(O){g.indexOf(O)===-1&&a.map.pm.Draw[O].setPathOptions(i,k)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(i){var a=this,h=d()(this.globalOptions,i),g=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!h.editable&&(this.map.pm.Draw.CircleMarker.disable(),g=!0),this.map.pm.Draw.shapes.forEach(function(k){a.map.pm.Draw[k].setOptions(h)}),g&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(k){k.pm.setOptions(h)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=h,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(i){i.pm.enabled()&&i.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(i){return this.Draw.Cut.enable(i)},toggleGlobalCutMode:function(i){return this.Draw.Cut.toggle(i)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map);if(!i)return a;var h=L.featureGroup();return h._pmTempLayer=!0,a.forEach(function(g){h.addLayer(g)}),h},getGeomanDrawLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=L.PM.Utils.findLayers(this.map).filter(function(g){return g._drawnByGeoman===!0});if(!i)return a;var h=L.featureGroup();return h._pmTempLayer=!0,a.forEach(function(g){h.addLayer(g)}),h},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(i){this._touchEventCounter===0&&(L.DomEvent.on(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(i){this._touchEventCounter===1&&(L.DomEvent.off(i,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(i,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(i){Rt(this.map)._onMouseMove(this._createMouseEvent("mousemove",i))},_canvasTouchClick:function(i){var a="";i.type==="touchstart"||i.type==="pointerdown"?a="mousedown":i.type==="touchend"||i.type==="pointerup"?a="mouseup":i.type!=="touchcancel"&&i.type!=="pointercancel"||(a="mouseup"),a&&Rt(this.map)._onClick(this._createMouseEvent(a,i))},_createMouseEvent:function(i,a){var h,g=a.touches[0]||a.changedTouches[0];try{h=new MouseEvent(i,{bubbles:a.bubbles,cancelable:a.cancelable,view:a.view,detail:g.detail,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey,button:a.button,relatedTarget:a.relatedTarget})}catch{(h=document.createEvent("MouseEvents")).initMouseEvent(i,a.bubbles,a.cancelable,a.view,g.detail,g.screenX,g.screenY,g.clientX,g.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}return h}}),U=L.Control.extend({includes:[Pt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(i){this._button=L.Util.extend({},this.options,i)},onAdd:function(i){return this._map=i,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(i){return this._button.toggleStatus=typeof i=="boolean"?i:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(i){i&&i.preventDefault(),this._button.disabled||(this._button.onClick(i,{button:this,event:i}),this._clicked(i),this._button.afterClick(i,{button:this,event:i}))},_makeButton:function(i){var a=this,h=this.options.position.indexOf("right")>-1?"pos-right":"",g=L.DomUtil.create("div","button-container  ".concat(h),this._container);i.title&&g.setAttribute("title",i.title);var k=L.DomUtil.create("a","leaflet-buttons-control-button",g);k.setAttribute("role","button"),k.setAttribute("tabindex","0"),k.href="#";var O=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(h),g),z=i.actions,G={cancel:{text:Ct("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Ct("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Ct("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[i.jsClass]._removeLastVertex()}},finish:{text:Ct("actions.finish"),onClick:function(H){this._map.pm.Draw[i.jsClass]._finishShape(H)}}};z.forEach(function(H){var J,lt=typeof H=="string"?H:H.name;if(G[lt])J=G[lt];else{if(!H.text)return;J=H}var ot=L.DomUtil.create("a","leaflet-pm-action ".concat(h," action-").concat(lt),O);ot.setAttribute("role","button"),ot.setAttribute("tabindex","0"),ot.href="#",ot.innerHTML=J.text,L.DomEvent.disableClickPropagation(ot),L.DomEvent.on(ot,"click",L.DomEvent.stop),!i.disabled&&J.onClick&&(L.DomEvent.addListener(ot,"click",function(yt){yt.preventDefault();var xt="",Gt=a._map.pm.Toolbar.buttons;for(var Yt in Gt)if(Gt[Yt]._button===i){xt=Yt;break}a._fireActionClick(J,xt,i)},a),L.DomEvent.addListener(ot,"click",J.onClick,a))}),i.toggleStatus&&L.DomUtil.addClass(g,"active");var V=L.DomUtil.create("div","control-icon",k);return i.iconUrl&&V.setAttribute("src",i.iconUrl),i.className&&L.DomUtil.addClass(V,i.className),L.DomEvent.disableClickPropagation(k),L.DomEvent.on(k,"click",L.DomEvent.stop),i.disabled||(L.DomEvent.addListener(k,"click",this._onBtnClick,this),L.DomEvent.addListener(k,"click",this._triggerClick,this)),i.disabled&&(L.DomUtil.addClass(k,"pm-disabled"),k.setAttribute("aria-disabled","true")),g},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var i="",a=this._map.pm.Toolbar.buttons;for(var h in a)if(a[h]._button===this._button){i=h;break}this._fireButtonClick(i,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var i="pm-disabled",a=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(a,i),a.setAttribute("aria-disabled","true"),L.DomEvent.off(a,"click",this._triggerClick,this),L.DomEvent.off(a,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(a,i),a.setAttribute("aria-disabled","false"),L.DomEvent.on(a,"click",this._triggerClick,this),L.DomEvent.on(a,"click",this._onBtnClick,this))}}});function K(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function W(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?K(Object(h),!0).forEach(function(g){st(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):K(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function st(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}function ct(i){return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ct(i)}L.Control.PMButton=U;const pt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(i){this.init(i)},reinit:function(){var i=this.isVisible;this.removeControls(),this._defineButtons(),i&&this.addControls()},init:function(i){this.map=i,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(i){var a="".concat(i,"Container");return this[a]||(this[a]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(i," leaflet-bar leaflet-control"))),this[a]},getButtons:function(){return this.buttons},addControls:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof i.editPolygon<"u"&&(i.editMode=i.editPolygon),typeof i.deleteLayer<"u"&&(i.removalMode=i.deleteLayer),L.Util.setOptions(this,i),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var i=this.getButtons(),a={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var h in i){var g=i[h];L.Util.setOptions(g,{className:a.geomanIcons[h]})}},removeControls:function(){var i=this.getButtons();for(var a in i)i[a].remove();this.isVisible=!1},toggleControls:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(i)},_addButton:function(i,a){return this.buttons[i]=a,this.options[i]=this.options[i]||!1,this.buttons[i]},triggerClickOnToggledButtons:function(i){for(var a in this.buttons){var h=this.buttons[a];h._button.disableByOtherButtons&&h!==i&&h.toggled()&&h._triggerClick()}},toggleButton:function(i,a){var h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return i==="editPolygon"&&(i="editMode"),i==="deleteLayer"&&(i="removalMode"),h&&this.triggerClickOnToggledButtons(this.buttons[i]),!!this.buttons[i]&&this.buttons[i].toggle(a)},_defineButtons:function(){var i=this,a={className:"control-icon leaflet-pm-icon-marker",title:Ct("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},h={title:Ct("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},g={className:"control-icon leaflet-pm-icon-polyline",title:Ct("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},k={title:Ct("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},O={title:Ct("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},z={title:Ct("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},G={title:Ct("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},V={title:Ct("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},H={title:Ct("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},J={title:Ct("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},lt={title:Ct("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){i.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},ot={className:"control-icon leaflet-pm-icon-text",title:Ct("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(yt,xt){i.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(a)),this._addButton("drawPolyline",new L.Control.PMButton(g)),this._addButton("drawRectangle",new L.Control.PMButton(z)),this._addButton("drawPolygon",new L.Control.PMButton(h)),this._addButton("drawCircle",new L.Control.PMButton(k)),this._addButton("drawCircleMarker",new L.Control.PMButton(O)),this._addButton("drawText",new L.Control.PMButton(ot)),this._addButton("editMode",new L.Control.PMButton(G)),this._addButton("dragMode",new L.Control.PMButton(V)),this._addButton("cutPolygon",new L.Control.PMButton(H)),this._addButton("removalMode",new L.Control.PMButton(J)),this._addButton("rotateMode",new L.Control.PMButton(lt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var i=this.getButtons(),a=[];for(var h in this.options.drawControls===!1&&(a=a.concat(Object.keys(i).filter(function(k){return!i[k]._button.tool}))),this.options.editControls===!1&&(a=a.concat(Object.keys(i).filter(function(k){return i[k]._button.tool==="edit"}))),this.options.optionsControls===!1&&(a=a.concat(Object.keys(i).filter(function(k){return i[k]._button.tool==="options"}))),this.options.customControls===!1&&(a=a.concat(Object.keys(i).filter(function(k){return i[k]._button.tool==="custom"}))),i)if(this.options[h]&&a.indexOf(h)===-1){var g=i[h]._button.tool;g||(g="draw"),i[h].setPosition(this._getBtnPosition(g)),i[h].addTo(this.map)}}},_getBtnPosition:function(i){return this.options.positions&&this.options.positions[i]?this.options.positions[i]:this.options.position},setBlockPosition:function(i,a){this.options.positions[i]=a,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(i,a){if(!a)throw new TypeError("Button has no name");ct(a)!=="object"&&(a={name:a});var h=this._btnNameMapping(i);if(!a.name)throw new TypeError("Button has no name");if(this.buttons[a.name])throw new TypeError("Button with this name already exists");var g=this.map.pm.Draw.createNewDrawInstance(a.name,h);return a=W(W({},this.buttons[h]._button),a),{drawInstance:g,control:this.createCustomControl(a)}},createCustomControl:function(i){var a,h;if(!i.name)throw new TypeError("Button has no name");if(this.buttons[i.name])throw new TypeError("Button with this name already exists");i.onClick||(i.onClick=function(){}),i.afterClick||(i.afterClick=function(){}),i.toggle!==!1&&(i.toggle=!0),i.block&&(i.block=i.block.toLowerCase()),i.block&&i.block!=="draw"||(i.block=""),i.className?i.className.indexOf("control-icon")===-1&&(i.className="control-icon ".concat(i.className)):i.className="control-icon";var g={tool:i.block,className:i.className,title:i.title||"",jsClass:i.name,onClick:i.onClick,afterClick:i.afterClick,doToggle:i.toggle,toggleStatus:!1,disableOtherButtons:(a=i.disableOtherButtons)===null||a===void 0||a,disableByOtherButtons:(h=i.disableByOtherButtons)===null||h===void 0||h,cssToggle:i.toggle,position:this.options.position,actions:i.actions||[],disabled:!!i.disabled};this.options[i.name]!==!1&&(this.options[i.name]=!0);var k=this._addButton(i.name,new L.Control.PMButton(g));return this.changeControlOrder(),k},changeControlOrder:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=this._shapeMapping(),h=[];i.forEach(function(H){a[H]?h.push(a[H]):h.push(H)});var g=this.getButtons(),k={};h.forEach(function(H){g[H]&&(k[H]=g[H])});var O=Object.keys(g).filter(function(H){return!g[H]._button.tool});O.forEach(function(H){h.indexOf(H)===-1&&(k[H]=g[H])});var z=Object.keys(g).filter(function(H){return g[H]._button.tool==="edit"});z.forEach(function(H){h.indexOf(H)===-1&&(k[H]=g[H])});var G=Object.keys(g).filter(function(H){return g[H]._button.tool==="options"});G.forEach(function(H){h.indexOf(H)===-1&&(k[H]=g[H])});var V=Object.keys(g).filter(function(H){return g[H]._button.tool==="custom"});V.forEach(function(H){h.indexOf(H)===-1&&(k[H]=g[H])}),Object.keys(g).forEach(function(H){h.indexOf(H)===-1&&(k[H]=g[H])}),this.map.pm.Toolbar.buttons=k,this._showHideButtons()},getControlOrder:function(){var i=this.getButtons(),a=[];for(var h in i)a.push(h);return a},changeActionsOfControl:function(i,a){var h=this._btnNameMapping(i);if(!h)throw new TypeError("No name passed");if(!a)throw new TypeError("No actions passed");if(!this.buttons[h])throw new TypeError("Button with this name not exists");this.buttons[h]._button.actions=a,this.changeControlOrder()},setButtonDisabled:function(i,a){var h=this._btnNameMapping(i);a?this.buttons[h].disable():this.buttons[h].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(i){var a=this._shapeMapping();return a[i]?a[i]:i}});function wt(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function R(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?wt(Object(h),!0).forEach(function(g){b(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):wt(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function b(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}var w={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(i){var a=this;i.forEach(function(h){Array.isArray(h)?a._assignEvents(h):(h.off("drag",a._handleSnapping,a),h.on("drag",a._handleSnapping,a),h.off("dragend",a._cleanupSnapping,a),h.on("dragend",a._cleanupSnapping,a))})},_cleanupSnapping:function(i){i&&(i.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(a){a.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(i){var a=this,h=i.target;if(h._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var g=this._calcClosestLayer(h.getLatLng(),this._snapList);if(Object.keys(g).length===0)return!1;var k,O=g.layer instanceof L.Marker||g.layer instanceof L.CircleMarker||!this.options.snapSegment;k=O?g.latlng:this._checkPrioritiySnapping(g);var z=this.options.snapDistance,G={marker:h,shape:this._shape,snapLatLng:k,segment:g.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:g.layer,distance:g.distance};if(this._fireSnapDrag(G.marker,G),this._fireSnapDrag(this._layer,G),g.distance<z){h._orgLatLng=h.getLatLng(),h.setLatLng(k),h._snapped=!0,h._snapInfo=G;var V=this._snapLatLng||{},H=k||{};V.lat===H.lat&&V.lng===H.lng||(a._snapLatLng=k,a._fireSnap(h,G),a._fireSnap(a._layer,G))}else this._snapLatLng&&(this._unsnap(G),h._snapped=!1,h._snapInfo=void 0,this._fireUnsnap(G.marker,G),this._fireUnsnap(this._layer,G));return!0},_createSnapList:function(){var i=this,a=[],h=[],g=this._map;g.off("pm:remove",this._handleSnapLayerRemoval,this),g.on("pm:remove",this._handleSnapLayerRemoval,this),g.eachLayer(function(k){if((k instanceof L.Polyline||k instanceof L.Marker||k instanceof L.CircleMarker||k instanceof L.ImageOverlay)&&k.options.snapIgnore!==!0){if(k.options.snapIgnore===void 0&&(!L.PM.optIn&&k.options.pmIgnore===!0||L.PM.optIn&&k.options.pmIgnore!==!1))return;(k instanceof L.Circle||k instanceof L.CircleMarker)&&k.pm&&k.pm._hiddenPolyCircle?a.push(k.pm._hiddenPolyCircle):k instanceof L.ImageOverlay&&(k=L.rectangle(k.getBounds())),a.push(k);var O=L.polyline([],{color:"red",pmIgnore:!0});O._pmTempLayer=!0,h.push(O),(k instanceof L.Circle||k instanceof L.CircleMarker)&&h.push(O)}}),a=(a=(a=a.filter(function(k){return i._layer!==k})).filter(function(k){return k._latlng||k._latlngs&&Ut(k._latlngs)})).filter(function(k){return!k._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,h.push(k)}),this._snapList=a.concat(this._otherSnapLayers)):this._snapList=a,this.debugIndicatorLines=h},_handleSnapLayerRemoval:function(i){var a=i.layer,h=this._snapList.findIndex(function(g){return g._leaflet_id===a._leaflet_id});this._snapList.splice(h,1)},_calcClosestLayer:function(i,a){return this._calcClosestLayers(i,a,1)[0]},_calcClosestLayers:function(i,a){var h=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=[],O={};a.forEach(function(G,V){if(!G._parentCopy||G._parentCopy!==h._layer){var H=h._calcLayerDistances(i,G);if(H.distance=Math.floor(H.distance),h.debugIndicatorLines){if(!h.debugIndicatorLines[V]){var J=L.polyline([],{color:"red",pmIgnore:!0});J._pmTempLayer=!0,h.debugIndicatorLines[V]=J}h.debugIndicatorLines[V].setLatLngs([i,H.latlng])}g===1&&(O.distance===void 0||H.distance<=O.distance)?(H.distance<O.distance&&(k=[]),(O=H).layer=G,k.push(O)):g!==1&&(O={},(O=H).layer=G,k.push(O))}}),g!==1&&(k=k.sort(function(G,V){return G.distance-V.distance})),g===-1&&(g=k.length);var z=this._getClosestLayerByPriority(k,g);return L.Util.isArray(z)?z:[z]},_calcLayerDistances:function(i,a){var h=this._map,g=a instanceof L.Marker||a instanceof L.CircleMarker,k=a instanceof L.Polygon,O=i;if(g){var z=a.getLatLng();return{latlng:R({},z),distance:this._getDistance(h,z,O)}}return this._calcLatLngDistances(O,a.getLatLngs(),h,k)},_calcLatLngDistances:function(i,a,h){var g,k,O,z=this,G=arguments.length>3&&arguments[3]!==void 0&&arguments[3],V=function J(lt){lt.forEach(function(ot,yt){if(Array.isArray(ot))J(ot);else if(z.options.snapSegment){var xt,Gt=ot;xt=G?yt+1===lt.length?0:yt+1:yt+1===lt.length?void 0:yt+1;var Yt=lt[xt];if(Yt){var fe=z._getDistanceToSegment(h,i,Gt,Yt);(k===void 0||fe<k)&&(k=fe,O=[Gt,Yt])}}else{var Vt=z._getDistance(h,i,ot);(k===void 0||Vt<k)&&(k=Vt,g=ot)}})};if(V(a),this.options.snapSegment){var H=this._getClosestPointOnSegment(h,i,O[0],O[1]);return{latlng:R({},H),segment:O,distance:k}}return{latlng:g,distance:k}},_getClosestLayerByPriority:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;i=i.sort(function(z,G){return z._leaflet_id-G._leaflet_id});var h=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],g=this._map.pm.globalOptions.snappingOrder||[],k=0,O={};return g.concat(h).forEach(function(z){O[z]||(k+=1,O[z]=k)}),i.sort(at("instanceofShape",O)),a===1?i[0]||{}:i.slice(0,a)},_checkPrioritiySnapping:function(i){var a=this._map,h=i.segment[0],g=i.segment[1],k=i.latlng,O=this._getDistance(a,h,k),z=this._getDistance(a,g,k),G=O<z?h:g,V=O<z?O:z;if(this.options.snapMiddle){var H=L.PM.Utils.calcMiddleLatLng(a,h,g),J=this._getDistance(a,H,k);J<O&&J<z&&(G=H,V=J)}return R({},V<this.options.snapDistance?G:k)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(i,a,h,g){var k=i.getMaxZoom();k===1/0&&(k=i.getZoom());var O=i.project(a,k),z=i.project(h,k),G=i.project(g,k),V=L.LineUtil.closestPointOnSegment(O,z,G);return i.unproject(V,k)},_getDistanceToSegment:function(i,a,h,g){var k=i.latLngToLayerPoint(a),O=i.latLngToLayerPoint(h),z=i.latLngToLayerPoint(g);return L.LineUtil.pointToSegmentDistance(k,O,z)},_getDistance:function(i,a,h){return i.latLngToLayerPoint(a).distanceTo(i.latLngToLayerPoint(h))}};const T=w,I=L.Class.extend({includes:[T,Pt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(i){L.Util.setOptions(this,i),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(i){var a=this,h=new L.Icon.Default;h.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=h,this._map=i,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(g){a[g]=new L.PM.Draw[g](a._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(i){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=a?d()(this.options.pathOptions,i):i},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(i,a){if(!i)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[i].enable(a)},disable:function(){var i=this;this.shapes.forEach(function(a){i[a].disable()})},addControls:function(){var i=this;this.shapes.forEach(function(a){i[a].addButton()})},getActiveShape:function(){var i,a=this;return this.shapes.forEach(function(h){a[h]._enabled&&(i=h)}),i},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var i=L.PM.Utils.findLayers(this._map);this._enabled?i.forEach(function(a){L.PM.Utils.disablePopup(a)}):i.forEach(function(a){L.PM.Utils.enablePopup(a)})},createNewDrawInstance:function(i,a){var h=this._getShapeFromBtnName(a);if(this[i])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[h])throw new TypeError("There is no class L.PM.Draw.".concat(h));return this[i]=new L.PM.Draw[h](this._map),this[i].toolbarButtonName=i,this[i]._shape=i,this.shapes.push(i),this[a]&&this[i].setOptions(this[a].options),this[i].setOptions(this[i].options),this[i]},_getShapeFromBtnName:function(i){var a={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return a[i]?a[i]:this[i]?this[i]._shape:i},_finishLayer:function(i){i.pm&&(i.pm.setOptions(this.options),i.pm._shape=this._shape,i.pm._map=this._map),this._addDrawnLayerProp(i)},_addDrawnLayerProp:function(i){i._drawnByGeoman=!0},_setPane:function(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});I.Marker=I.extend({initialize:function(i){this._map=i,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(i){var a=this;L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(h){a.isRelevantMarker(h)&&h.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},isRelevantMarker:function(i){return i instanceof L.Marker&&i.pm&&!i._pmTempLayer&&!i.pm._initTextMarker},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(i){if(i.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),h=new L.Marker(a,this.options.markerStyle);this._setPane(h,"markerPane"),this._finishLayer(h),h.pm||(h.options.draggable=!1),h.addTo(this._map.pm._getContainingLayer()),h.pm&&this.options.markerEditable?h.pm.enable():h.dragging&&h.dragging.disable(),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var i,a;(i=this.options.markerStyle)!==null&&i!==void 0&&i.icon&&((a=this._hintMarker)===null||a===void 0||a.setIcon(this.options.markerStyle.icon))}});var j=63710088e-1,Y={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*j,kilometers:6371.0088,kilometres:6371.0088,meters:j,metres:j,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:j/1852,radians:1,yards:6967335223679999e-9};function tt(i,a,h){h===void 0&&(h={});var g={type:"Feature"};return(h.id===0||h.id)&&(g.id=h.id),h.bbox&&(g.bbox=h.bbox),g.properties=a||{},g.geometry=i,g}function ft(i,a,h){if(h===void 0&&(h={}),!i)throw new Error("coordinates is required");if(!Array.isArray(i))throw new Error("coordinates must be an Array");if(i.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ue(i[0])||!ue(i[1]))throw new Error("coordinates must contain numbers");return tt({type:"Point",coordinates:i},a,h)}function kt(i,a,h){if(h===void 0&&(h={}),i.length<2)throw new Error("coordinates must be an array of two or more positions");return tt({type:"LineString",coordinates:i},a,h)}function It(i,a){a===void 0&&(a={});var h={type:"FeatureCollection"};return a.id&&(h.id=a.id),a.bbox&&(h.bbox=a.bbox),h.features=i,h}function Ht(i,a){a===void 0&&(a="kilometers");var h=Y[a];if(!h)throw new Error(a+" units is invalid");return i*h}function qt(i,a){a===void 0&&(a="kilometers");var h=Y[a];if(!h)throw new Error(a+" units is invalid");return i/h}function ce(i){return 180*(i%(2*Math.PI))/Math.PI}function Kt(i){return i%360*Math.PI/180}function ue(i){return!isNaN(i)&&i!==null&&!Array.isArray(i)}function ne(i){var a,h,g={type:"FeatureCollection",features:[]};if((h=i.type==="Feature"?i.geometry:i).type==="LineString")a=[h.coordinates];else if(h.type==="MultiLineString")a=h.coordinates;else if(h.type==="MultiPolygon")a=[].concat.apply([],h.coordinates);else{if(h.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");a=h.coordinates}return a.forEach(function(k){a.forEach(function(O){for(var z=0;z<k.length-1;z++)for(var G=z;G<O.length-1;G++)if(!(k===O&&(Math.abs(z-G)===1||z===0&&G===k.length-2&&k[z][0]===k[k.length-1][0]&&k[z][1]===k[k.length-1][1]))){var V=he(k[z][0],k[z][1],k[z+1][0],k[z+1][1],O[G][0],O[G][1],O[G+1][0],O[G+1][1]);V&&g.features.push(ft([V[0],V[1]]))}})}),g}function he(i,a,h,g,k,O,z,G){var V,H,J,lt,ot={x:null,y:null,onLine1:!1,onLine2:!1};return(V=(G-O)*(h-i)-(z-k)*(g-a))===0?ot.x!==null&&ot.y!==null&&ot:(lt=(h-i)*(H=a-O)-(g-a)*(J=i-k),H=((z-k)*H-(G-O)*J)/V,J=lt/V,ot.x=i+H*(h-i),ot.y=a+H*(g-a),H>=0&&H<=1&&(ot.onLine1=!0),J>=0&&J<=1&&(ot.onLine2=!0),!(!ot.onLine1||!ot.onLine2)&&[ot.x,ot.y])}function Pe(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function Ge(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?Pe(Object(h),!0).forEach(function(g){Ze(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):Pe(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function Ze(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}function ln(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function on(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?ln(Object(h),!0).forEach(function(g){Ke(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):ln(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function Ke(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}function sn(i,a){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(i);a&&(g=g.filter(function(k){return Object.getOwnPropertyDescriptor(i,k).enumerable})),h.push.apply(h,g)}return h}function gn(i){for(var a=1;a<arguments.length;a++){var h=arguments[a]!=null?arguments[a]:{};a%2?sn(Object(h),!0).forEach(function(g){Fn(i,g,h[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):sn(Object(h)).forEach(function(g){Object.defineProperty(i,g,Object.getOwnPropertyDescriptor(h,g))})}return i}function Fn(i,a,h){return a in i?Object.defineProperty(i,a,{value:h,enumerable:!0,configurable:!0,writable:!0}):i[a]=h,i}function He(i){if(!i)throw new Error("coord is required");if(!Array.isArray(i)){if(i.type==="Feature"&&i.geometry!==null&&i.geometry.type==="Point")return i.geometry.coordinates;if(i.type==="Point")return i.coordinates}if(Array.isArray(i)&&i.length>=2&&!Array.isArray(i[0])&&!Array.isArray(i[1]))return i;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ze(i){if(Array.isArray(i))return i;if(i.type==="Feature"){if(i.geometry!==null)return i.geometry.coordinates}else if(i.coordinates)return i.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Pn(i){return i.type==="Feature"?i.geometry:i}function Ji(i,a){return i.type==="FeatureCollection"?"FeatureCollection":i.type==="GeometryCollection"?"GeometryCollection":i.type==="Feature"&&i.geometry!==null?i.geometry.type:i.type}function Rr(i,a,h){if(i!==null)for(var g,k,O,z,G,V,H,J,lt=0,ot=0,yt=i.type,xt=yt==="FeatureCollection",Gt=yt==="Feature",Yt=xt?i.features.length:1,fe=0;fe<Yt;fe++){G=(J=!!(H=xt?i.features[fe].geometry:Gt?i.geometry:i)&&H.type==="GeometryCollection")?H.geometries.length:1;for(var Vt=0;Vt<G;Vt++){var de=0,ve=0;if((z=J?H.geometries[Vt]:H)!==null){V=z.coordinates;var Fe=z.type;switch(lt=!h||Fe!=="Polygon"&&Fe!=="MultiPolygon"?0:1,Fe){case null:break;case"Point":if(a(V,ot,fe,de,ve)===!1)return!1;ot++,de++;break;case"LineString":case"MultiPoint":for(g=0;g<V.length;g++){if(a(V[g],ot,fe,de,ve)===!1)return!1;ot++,Fe==="MultiPoint"&&de++}Fe==="LineString"&&de++;break;case"Polygon":case"MultiLineString":for(g=0;g<V.length;g++){for(k=0;k<V[g].length-lt;k++){if(a(V[g][k],ot,fe,de,ve)===!1)return!1;ot++}Fe==="MultiLineString"&&de++,Fe==="Polygon"&&ve++}Fe==="Polygon"&&de++;break;case"MultiPolygon":for(g=0;g<V.length;g++){for(ve=0,k=0;k<V[g].length;k++){for(O=0;O<V[g][k].length-lt;O++){if(a(V[g][k][O],ot,fe,de,ve)===!1)return!1;ot++}ve++}de++}break;case"GeometryCollection":for(g=0;g<z.geometries.length;g++)if(Rr(z.geometries[g],a,h)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mi(i,a){if(i.type==="Feature")a(i,0);else if(i.type==="FeatureCollection")for(var h=0;h<i.features.length&&a(i.features[h],h)!==!1;h++);}function Gs(i,a){var h,g,k,O,z,G,V,H,J,lt,ot=0,yt=i.type==="FeatureCollection",xt=i.type==="Feature",Gt=yt?i.features.length:1;for(h=0;h<Gt;h++){for(G=yt?i.features[h].geometry:xt?i.geometry:i,H=yt?i.features[h].properties:xt?i.properties:{},J=yt?i.features[h].bbox:xt?i.bbox:void 0,lt=yt?i.features[h].id:xt?i.id:void 0,z=(V=!!G&&G.type==="GeometryCollection")?G.geometries.length:1,k=0;k<z;k++)if((O=V?G.geometries[k]:G)!==null)switch(O.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(a(O,ot,H,J,lt)===!1)return!1;break;case"GeometryCollection":for(g=0;g<O.geometries.length;g++)if(a(O.geometries[g],ot,H,J,lt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(a(null,ot,H,J,lt)===!1)return!1;ot++}}function Ar(i,a){Gs(i,function(h,g,k,O,z){var G,V=h===null?null:h.type;switch(V){case null:case"Point":case"LineString":case"Polygon":return a(tt(h,k,{bbox:O,id:z}),g,0)!==!1&&void 0}switch(V){case"MultiPoint":G="Point";break;case"MultiLineString":G="LineString";break;case"MultiPolygon":G="Polygon"}for(var H=0;H<h.coordinates.length;H++){var J=h.coordinates[H];if(a(tt({type:G,coordinates:J},k),g,H)===!1)return!1}})}I.Line=I.extend({initialize:function(i){this._map=i,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ge(Ge({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._layer.getLatLngs();if(i.length>0){var a=i[i.length-1];this._hintline.setLatLngs([a,this._hintMarker.getLatLng()])}},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var h=this._layer._defaultShape().slice();h.push(this._hintMarker.getLatLng()),this._change(h)},hasSelfIntersection:function(){return ne(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(i,a){var h=L.polyline(this._layer.getLatLngs());i&&(a||(a=this._hintMarker.getLatLng()),h.addLatLng(a));var g=ne(h.toGeoJSON(15));this._doesSelfIntersect=g.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(i){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,i.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),h=this._layer.getLatLngs(),g=h[h.length-1];if(a.equals(h[0])||h.length>0&&a.equals(g))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:a,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(a);var k=this._createMarker(a);this._setTooltipText(),this._setHintLineAfterNewVertex(a),this._fireVertexAdded(k,void 0,a,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(i)}}},_setHintLineAfterNewVertex:function(i){this._hintline.setLatLngs([i,i])},_removeLastVertex:function(){var i=this._markers;if(i.length<=1)this.disable();else{var a=this._layer.getLatLngs(),h=i[i.length-1],g=L.PM.Utils.findDeepMarkerIndex(i,h).indexPath;i.pop(),this._layerGroup.removeLayer(h);var k=i[i.length-1],O=a.indexOf(k.getLatLng());a=a.slice(0,O+1),this._layer.setLatLngs(a),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(h,g,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=1)){var a=L.polyline(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(i){var a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),a.on("click",this._finishShape,this),a},_setTooltipText:function(){var i="";i=Ct(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(i)},_change:function(i){this._fireChange(i,"Draw")},setStyle:function(){var i,a;(i=this._layer)===null||i===void 0||i.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),I.Polygon=I.Line.extend({initialize:function(i){this._map=i,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(i){L.PM.Draw.Line.prototype.enable.call(this,i),this._layer.pm._shape="Polygon"},_createMarker:function(i){var a=new L.Marker(i,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._markers.push(a),this._layer.getLatLngs().flat().length===1?(a.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(a)-1,this.options.snappable&&this._cleanupSnapping()):a.on("click",function(){return 1}),a},_setTooltipText:function(){var i="";i=Ct(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(i)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var i=this._layer.getLatLngs();if(!(i.length<=2)){var a=L.polygon(i,this.options.pathOptions);this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._fireCreate(a),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),I.Rectangle=I.extend({initialize:function(i){this._map=i,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(i){if(L.Util.setOptions(this,i),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var a=0;a<2;a+=1){var h=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(h,"vertexPane"),h._pmTempLayer=!0,this._layerGroup.addLayer(h),this._styleMarkers.push(h)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_placeStartingMarkers:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(a),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(h){L.DomUtil.addClass(h._icon,"visible"),h.setLatLng(a)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Ct("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var i=this._startMarker.getLatLng();i&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([i,i]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}var h=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(h,"Draw")},_syncRectangleSize:function(){var i=this,a=bt(this._startMarker.getLatLng(),this._map),h=bt(this._hintMarker.getLatLng(),this._map),g=L.PM.Utils._getRotatedRectangle(a,h,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(g),this.options.cursorMarker&&this._styleMarkers){var k=[];g.forEach(function(O){O.equals(a,1e-8)||O.equals(h,1e-8)||k.push(O)}),k.forEach(function(O,z){try{i._styleMarkers[z].setLatLng(O)}catch{}})}},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_finishShape:function(i){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),h=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var g=L.rectangle([h,a],this.options.pathOptions);if(this.options.rectangleAngle){var k=L.PM.Utils._getRotatedRectangle(h,a,this.options.rectangleAngle||0,this._map);g.setLatLngs(k),g.pm&&g.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(g,"layerPane"),this._finishLayer(g),g.addTo(this._map.pm._getContainingLayer()),this._fireCreate(g),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var i;(i=this._layer)===null||i===void 0||i.setStyle(this.options.pathOptions)}}),I.Circle=I.extend({initialize:function(i){this._map=i,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(i){L.Util.setOptions(this,i),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),on(on({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,a])},_syncCircleRadius:function(){var i,a=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng();i=this._map.options.crs===L.CRS.Simple?this._map.distance(a,h):a.distanceTo(h),this.options.minRadiusCircle&&i<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&i>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var h=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(h,"Draw")},_placeCenterMarker:function(i){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ct("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(i){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a,h=this._centerMarker.getLatLng(),g=this._hintMarker.getLatLng();a=this._map.options.crs===L.CRS.Simple?this._map.distance(h,g):h.distanceTo(g),this.options.minRadiusCircle&&a<this.options.minRadiusCircle?a=this.options.minRadiusCircle:this.options.maxRadiusCircle&&a>this.options.maxRadiusCircle&&(a=this.options.maxRadiusCircle);var k=on(on({},this.options.pathOptions),{},{radius:a}),O=L.circle(h,k);this._setPane(O,"layerPane"),this._finishLayer(O),O.addTo(this._map.pm._getContainingLayer()),O.pm&&O.pm._updateHiddenPolyCircle(),this._fireCreate(O),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return i;var a=this._centerMarker.getLatLng(),h=a.distanceTo(i);return this.options.minRadiusCircle&&h<this.options.minRadiusCircle?i=Bt(this._map,a,i,this.options.minRadiusCircle):this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle&&(i=Bt(this._map,a,i,this.options.maxRadiusCircle)),i},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),h=i.distanceTo(a);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&h<this.options.minRadiusCircle||this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var i,a;(i=this._layer)===null||i===void 0||i.setStyle(this.options.templineStyle),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}}),I.CircleMarker=I.Marker.extend({initialize:function(i){this._map=i,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(i){var a=this;if(L.Util.setOptions(this,i),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var h={};L.extend(h,this.options.templineStyle),h.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),h),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(g){a.isRelevantMarker(g)&&g.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var i=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(a){i.isRelevantMarker(a)&&a.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(i){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(a),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var i=this._centerMarker.getLatLng();i&&(this._layer.setLatLng(i),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Ct("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([i,a])},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),h=this._map.project(i).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(h)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();var h=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(h,"Draw")},isRelevantMarker:function(i){return i instanceof L.CircleMarker&&!(i instanceof L.Circle)&&i.pm&&!i._pmTempLayer},_createMarker:function(i){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&i.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._hintMarker.getLatLng(),h=L.circleMarker(a,this.options.pathOptions);this._setPane(h,"layerPane"),this._finishLayer(h),h.addTo(this._map.pm._getContainingLayer()),h.pm&&this.options.markerEditable&&h.pm.enable(),this._fireCreate(h),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(i){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var a=this._centerMarker.getLatLng(),h=this._hintMarker.getLatLng(),g=this._map.project(a).distanceTo(this._map.project(h));this.options.editable&&(this.options.minRadiusCircleMarker&&g<this.options.minRadiusCircleMarker?g=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&g>this.options.maxRadiusCircleMarker&&(g=this.options.maxRadiusCircleMarker));var k=gn(gn({},this.options.pathOptions),{},{radius:g}),O=L.circleMarker(a,k);this._setPane(O,"layerPane"),this._finishLayer(O),O.addTo(this._map.pm._getContainingLayer()),O.pm&&O.pm._updateHiddenPolyCircle(),this._fireCreate(O),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var i=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return i;var a=this._centerMarker.getLatLng(),h=this._map.project(a).distanceTo(this._map.project(i));this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker?i=Bt(this._map,a,i,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker&&(i=Bt(this._map,a,i,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return i},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._hintMarker.getLatLng(),h=this._map.project(i).distanceTo(this._map.project(a));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(i){var a=this._centerMarker.getLatLng(),h=this._map.project(a),g=L.point(h.x+i,h.y);return this._map.unproject(g).distanceTo(a)},setStyle:function(){var i,a,h={};L.extend(h,this.options.templineStyle),this.options.editable&&(h.radius=0),(i=this._layer)===null||i===void 0||i.setStyle(h),(a=this._hintline)===null||a===void 0||a.setStyle(this.options.hintlineStyle)}});const Xe=function(i){if(!i)throw new Error("geojson is required");var a=[];return Ar(i,function(h){(function(g,k){var O=[],z=g.geometry;if(z!==null){switch(z.type){case"Polygon":O=ze(z);break;case"LineString":O=[ze(z)]}O.forEach(function(G){var V=function(H,J){var lt=[];return H.reduce(function(ot,yt){var xt,Gt,Yt,fe,Vt,de,ve=kt([ot,yt],J);return ve.bbox=(Gt=yt,Yt=(xt=ot)[0],fe=xt[1],Vt=Gt[0],de=Gt[1],[Yt<Vt?Yt:Vt,fe<de?fe:de,Yt>Vt?Yt:Vt,fe>de?fe:de]),lt.push(ve),yt}),lt}(G,g.properties);V.forEach(function(H){H.id=k.length,k.push(H)})})}})(h,a)}),It(a)};var zt=u(1787);function Ir(i,a){var h=ze(i),g=ze(a);if(h.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(g.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var k=h[0][0],O=h[0][1],z=h[1][0],G=h[1][1],V=g[0][0],H=g[0][1],J=g[1][0],lt=g[1][1],ot=(lt-H)*(z-k)-(J-V)*(G-O),yt=(J-V)*(O-H)-(lt-H)*(k-V),xt=(z-k)*(O-H)-(G-O)*(k-V);if(ot===0)return null;var Gt=yt/ot,Yt=xt/ot;return Gt>=0&&Gt<=1&&Yt>=0&&Yt<=1?ft([k+Gt*(z-k),O+Gt*(G-O)]):null}const Cn=function(i,a){var h={},g=[];if(i.type==="LineString"&&(i=tt(i)),a.type==="LineString"&&(a=tt(a)),i.type==="Feature"&&a.type==="Feature"&&i.geometry!==null&&a.geometry!==null&&i.geometry.type==="LineString"&&a.geometry.type==="LineString"&&i.geometry.coordinates.length===2&&a.geometry.coordinates.length===2){var k=Ir(i,a);return k&&g.push(k),It(g)}var O=zt();return O.load(Xe(a)),Mi(Xe(i),function(z){Mi(O.search(z),function(G){var V=Ir(z,G);if(V){var H=ze(V).join(",");h[H]||(h[H]=!0,g.push(V))}})}),It(g)},En=function(i,a,h){h===void 0&&(h={});var g=He(i),k=He(a),O=Kt(k[1]-g[1]),z=Kt(k[0]-g[0]),G=Kt(g[1]),V=Kt(k[1]),H=Math.pow(Math.sin(O/2),2)+Math.pow(Math.sin(z/2),2)*Math.cos(G)*Math.cos(V);return Ht(2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H)),h.units)},Co=function(i){var a=i[0],h=i[1],g=i[2],k=i[3];if(En(i.slice(0,2),[g,h])>=En(i.slice(0,2),[a,k])){var O=(h+k)/2;return[a,O-(g-a)/2,g,O+(g-a)/2]}var z=(a+g)/2;return[z-(k-h)/2,h,z+(k-h)/2,k]};function Pi(i){var a=[1/0,1/0,-1/0,-1/0];return Rr(i,function(h){a[0]>h[0]&&(a[0]=h[0]),a[1]>h[1]&&(a[1]=h[1]),a[2]<h[0]&&(a[2]=h[0]),a[3]<h[1]&&(a[3]=h[1])}),a}Pi.default=Pi;const ni=Pi,ii=function(i,a){a===void 0&&(a={});var h=a.precision,g=a.coordinates,k=a.mutate;if(h=h==null||isNaN(h)?6:h,g=g==null||isNaN(g)?3:g,!i)throw new Error("<geojson> is required");if(typeof h!="number")throw new Error("<precision> must be a number");if(typeof g!="number")throw new Error("<coordinates> must be a number");k!==!1&&k!==void 0||(i=JSON.parse(JSON.stringify(i)));var O=Math.pow(10,h);return Rr(i,function(z){(function(G,V,H){G.length>H&&G.splice(H,G.length);for(var J=0;J<G.length;J++)G[J]=Math.round(G[J]*V)/V})(z,O,g)}),i};function Br(i,a,h){if(h===void 0&&(h={}),h.final===!0)return function(lt,ot){var yt=Br(ot,lt);return yt=(yt+180)%360}(i,a);var g=He(i),k=He(a),O=Kt(g[0]),z=Kt(k[0]),G=Kt(g[1]),V=Kt(k[1]),H=Math.sin(z-O)*Math.cos(V),J=Math.cos(G)*Math.sin(V)-Math.sin(G)*Math.cos(V)*Math.cos(z-O);return ce(Math.atan2(H,J))}function Eo(i,a,h,g){g===void 0&&(g={});var k=He(i),O=Kt(k[0]),z=Kt(k[1]),G=Kt(h),V=qt(a,g.units),H=Math.asin(Math.sin(z)*Math.cos(V)+Math.cos(z)*Math.sin(V)*Math.cos(G));return ft([ce(O+Math.atan2(Math.sin(G)*Math.sin(V)*Math.cos(z),Math.cos(V)-Math.sin(z)*Math.sin(H))),ce(H)],g.properties)}const Zs=function(i,a,h){h===void 0&&(h={});var g=ft([1/0,1/0],{dist:1/0}),k=0;return Ar(i,function(O){for(var z=ze(O),G=0;G<z.length-1;G++){var V=ft(z[G]);V.properties.dist=En(a,V,h);var H=ft(z[G+1]);H.properties.dist=En(a,H,h);var J=En(V,H,h),lt=Math.max(V.properties.dist,H.properties.dist),ot=Br(V,H),yt=Eo(a,lt,ot+90,h),xt=Eo(a,lt,ot-90,h),Gt=Cn(kt([yt.geometry.coordinates,xt.geometry.coordinates]),kt([V.geometry.coordinates,H.geometry.coordinates])),Yt=null;Gt.features.length>0&&((Yt=Gt.features[0]).properties.dist=En(a,Yt,h),Yt.properties.location=k+En(V,Yt,h)),V.properties.dist<g.properties.dist&&((g=V).properties.index=G,g.properties.location=k),H.properties.dist<g.properties.dist&&((g=H).properties.index=G+1,g.properties.location=k+J),Yt&&Yt.properties.dist<g.properties.dist&&((g=Yt).properties.index=G),k+=J}}),g};function So(i,a){var h=[],g=zt();return Ar(a,function(k){if(h.forEach(function(G,V){G.id=V}),h.length){var O=g.search(k);if(O.features.length){var z=Nr(k,O);h=h.filter(function(G){return G.id!==z.id}),g.remove(z),Mi(Dr(z,k),function(G){h.push(G),g.insert(G)})}}else(h=Dr(i,k).features).forEach(function(G){G.bbox||(G.bbox=Co(ni(G)))}),g.load(It(h))}),It(h)}function Dr(i,a){var h=[],g=ze(i)[0],k=ze(i)[i.geometry.coordinates.length-1];if(zr(g,He(a))||zr(k,He(a)))return It([i]);var O=zt(),z=Xe(i);O.load(z);var G=O.search(a);if(!G.features.length)return It([i]);var V=Nr(a,G),H=function(J,lt,ot){var yt=ot;return Mi(J,function(xt,Gt){yt=Gt===0&&ot===void 0?xt:lt(yt,xt,Gt)}),yt}(z,function(J,lt,ot){var yt=ze(lt)[1],xt=He(a);return ot===V.id?(J.push(xt),h.push(kt(J)),zr(xt,yt)?[xt]:[xt,yt]):(J.push(yt),J)},[g]);return H.length>1&&h.push(kt(H)),It(h)}function Nr(i,a){if(!a.features.length)throw new Error("lines must contain features");if(a.features.length===1)return a.features[0];var h,g=1/0;return Mi(a,function(k){var O=Zs(k,i).properties.dist;O<g&&(h=k,g=O)}),h}function zr(i,a){return i[0]===a[0]&&i[1]===a[1]}const Yi=function(i,a){if(!i)throw new Error("line is required");if(!a)throw new Error("splitter is required");var h=Ji(i),g=Ji(a);if(h!=="LineString")throw new Error("line must be LineString");if(g==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(g==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var k=ii(a,{precision:7});switch(g){case"Point":return Dr(i,k);case"MultiPoint":return So(i,k);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return So(i,Cn(i,k))}};function Xi(i,a,h){if(h===void 0&&(h={}),!i)throw new Error("point is required");if(!a)throw new Error("polygon is required");var g=He(i),k=Pn(a),O=k.type,z=a.bbox,G=k.coordinates;if(z&&function(ot,yt){return yt[0]<=ot[0]&&yt[1]<=ot[1]&&yt[2]>=ot[0]&&yt[3]>=ot[1]}(g,z)===!1)return!1;O==="Polygon"&&(G=[G]);for(var V=!1,H=0;H<G.length&&!V;H++)if(To(g,G[H][0],h.ignoreBoundary)){for(var J=!1,lt=1;lt<G[H].length&&!J;)To(g,G[H][lt],!h.ignoreBoundary)&&(J=!0),lt++;J||(V=!0)}return V}function To(i,a,h){var g=!1;a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]&&(a=a.slice(0,a.length-1));for(var k=0,O=a.length-1;k<a.length;O=k++){var z=a[k][0],G=a[k][1],V=a[O][0],H=a[O][1];if(i[1]*(z-V)+G*(V-i[0])+H*(i[0]-z)==0&&(z-i[0])*(V-i[0])<=0&&(G-i[1])*(H-i[1])<=0)return!h;G>i[1]!=H>i[1]&&i[0]<(V-z)*(i[1]-G)/(H-G)+z&&(g=!g)}return g}function Hs(i,a,h,g,k){var O=h[0],z=h[1],G=i[0],V=i[1],H=a[0],J=a[1],lt=H-G,ot=J-V,yt=(h[0]-G)*ot-(h[1]-V)*lt;if(k!==null){if(Math.abs(yt)>k)return!1}else if(yt!==0)return!1;return g?g==="start"?Math.abs(lt)>=Math.abs(ot)?lt>0?G<O&&O<=H:H<=O&&O<G:ot>0?V<z&&z<=J:J<=z&&z<V:g==="end"?Math.abs(lt)>=Math.abs(ot)?lt>0?G<=O&&O<H:H<O&&O<=G:ot>0?V<=z&&z<J:J<z&&z<=V:g==="both"&&(Math.abs(lt)>=Math.abs(ot)?lt>0?G<O&&O<H:H<O&&O<G:ot>0?V<z&&z<J:J<z&&z<V):Math.abs(lt)>=Math.abs(ot)?lt>0?G<=O&&O<=H:H<=O&&O<=G:ot>0?V<=z&&z<=J:J<=z&&z<=V}const Ci=function(i,a,h){h===void 0&&(h={});for(var g=He(i),k=ze(a),O=0;O<k.length-1;O++){var z=!1;if(h.ignoreEndVertices&&(O===0&&(z="start"),O===k.length-2&&(z="end"),O===0&&O+1===k.length-1&&(z="both")),Hs(k[O],k[O+1],g,z,typeof h.epsilon>"u"?null:h.epsilon))return!0}return!1};function $s(i,a){var h=Pn(i),g=Pn(a),k=h.type,O=g.type,z=h.coordinates,G=g.coordinates;switch(k){case"Point":if(O==="Point")return Un(z,G);throw new Error("feature2 "+O+" geometry not supported");case"MultiPoint":switch(O){case"Point":return function(V,H){var J,lt=!1;for(J=0;J<V.coordinates.length;J++)if(Un(V.coordinates[J],H.coordinates)){lt=!0;break}return lt}(h,g);case"MultiPoint":return function(V,H){for(var J=0,lt=H.coordinates;J<lt.length;J++){for(var ot=lt[J],yt=!1,xt=0,Gt=V.coordinates;xt<Gt.length;xt++)if(Un(ot,Gt[xt])){yt=!0;break}if(!yt)return!1}return!0}(h,g);default:throw new Error("feature2 "+O+" geometry not supported")}case"LineString":switch(O){case"Point":return Ci(g,h,{ignoreEndVertices:!0});case"LineString":return function(V,H){for(var J=!1,lt=0,ot=H.coordinates;lt<ot.length;lt++){var yt=ot[lt];if(Ci({type:"Point",coordinates:yt},V,{ignoreEndVertices:!0})&&(J=!0),!Ci({type:"Point",coordinates:yt},V,{ignoreEndVertices:!1}))return!1}return J}(h,g);case"MultiPoint":return function(V,H){for(var J=!1,lt=0,ot=H.coordinates;lt<ot.length;lt++){var yt=ot[lt];if(Ci(yt,V,{ignoreEndVertices:!0})&&(J=!0),!Ci(yt,V))return!1}return!!J}(h,g);default:throw new Error("feature2 "+O+" geometry not supported")}case"Polygon":switch(O){case"Point":return Xi(g,h,{ignoreBoundary:!0});case"LineString":return function(V,H){var J=!1,lt=0,ot=ni(V),yt=ni(H);if(!Qi(ot,yt))return!1;for(;lt<H.coordinates.length-1;lt++)if(Xi({type:"Point",coordinates:Oo(H.coordinates[lt],H.coordinates[lt+1])},V,{ignoreBoundary:!0})){J=!0;break}return J}(h,g);case"Polygon":return function(V,H){if(V.type==="Feature"&&V.geometry===null||H.type==="Feature"&&H.geometry===null)return!1;var J=ni(V),lt=ni(H);if(!Qi(J,lt))return!1;for(var ot=Pn(H).coordinates,yt=0,xt=ot;yt<xt.length;yt++)for(var Gt=0,Yt=xt[yt];Gt<Yt.length;Gt++)if(!Xi(Yt[Gt],V))return!1;return!0}(h,g);case"MultiPoint":return function(V,H){for(var J=0,lt=H.coordinates;J<lt.length;J++)if(!Xi(lt[J],V,{ignoreBoundary:!0}))return!1;return!0}(h,g);default:throw new Error("feature2 "+O+" geometry not supported")}default:throw new Error("feature1 "+k+" geometry not supported")}}function Qi(i,a){return!(i[0]>a[0])&&!(i[2]<a[2])&&!(i[1]>a[1])&&!(i[3]<a[3])}function Un(i,a){return i[0]===a[0]&&i[1]===a[1]}function Oo(i,a){return[(i[0]+a[0])/2,(i[1]+a[1])/2]}var Ro=u(2676),ri=u.n(Ro);function ie(i){var a={type:"Feature"};return a.geometry=i,a}function ye(i){return i.type==="Feature"?i.geometry:i}function Ei(i){return i&&i.geometry&&i.geometry.coordinates?i.geometry.coordinates:i}function Vn(i){return ie({type:"Polygon",coordinates:i})}function Gn(i){return ie({type:"MultiPolygon",coordinates:i})}function tr(i){return Array.isArray(i)?1+tr(i[0]):-1}function Jt(i){i instanceof L.Polyline&&(i=i.toGeoJSON(15));var a=Ei(i),h=tr(a),g=[];return h>1?a.forEach(function(k){g.push(function(O){return ie({type:"LineString",coordinates:O})}(k))}):g.push(i),g}function Ce(i){var a=[];return i.eachLayer(function(h){a.push(Ei(h.toGeoJSON(15)))}),function(h){return ie({type:"MultiLineString",coordinates:h})}(a)}function jr(i,a){return function(h){if(Array.isArray(h))return h}(i)||function(h,g){var k=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(k!=null){var O,z,G=[],V=!0,H=!1;try{for(k=k.call(h);!(V=(O=k.next()).done)&&(G.push(O.value),!g||G.length!==g);V=!0);}catch(J){H=!0,z=J}finally{try{V||k.return==null||k.return()}finally{if(H)throw z}}return G}}(i,a)||function(h,g){if(h){if(typeof h=="string")return Si(h,g);var k=Object.prototype.toString.call(h).slice(8,-1);if(k==="Object"&&h.constructor&&(k=h.constructor.name),k==="Map"||k==="Set")return Array.from(h);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Si(h,g)}}(i,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Si(i,a){(a==null||a>i.length)&&(a=i.length);for(var h=0,g=new Array(a);h<a;h++)g[h]=i[h];return g}function Qe(i){return function(a){if(Array.isArray(a))return Fr(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,h){if(a){if(typeof a=="string")return Fr(a,h);var g=Object.prototype.toString.call(a).slice(8,-1);if(g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set")return Array.from(a);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Fr(a,h)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fr(i,a){(a==null||a>i.length)&&(a=i.length);for(var h=0,g=new Array(a);h<a;h++)g[h]=i[h];return g}I.Cut=I.Polygon.extend({initialize:function(i){this._map=i,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var i=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var a=this._layer.getLatLngs();if(!(a.length<=2)){var h=L.polygon(a,this.options.pathOptions);h._latlngInfos=this._layer._latlngInfo,this.cut(h),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(g){var k=g.layer,O=g.originalLayer;i._fireCut(O,k,O),i._fireCut(i._map,k,O),O.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(i){var a=this,h=this._map._layers,g=i._latlngInfos||[];Object.keys(h).map(function(k){return h[k]}).filter(function(k){return k.pm}).filter(function(k){return!k._pmTempLayer}).filter(function(k){return!L.PM.optIn&&!k.options.pmIgnore||L.PM.optIn&&k.options.pmIgnore===!1}).filter(function(k){return k instanceof L.Polyline}).filter(function(k){return k!==i}).filter(function(k){return k.pm.options.allowCutting}).filter(function(k){return!(a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0)||a.options.layersToCut.indexOf(k)>-1}).filter(function(k){return!a._layerGroup.hasLayer(k)}).filter(function(k){try{var O=!!Cn(i.toGeoJSON(15),k.toGeoJSON(15)).features.length>0;return O||k instanceof L.Polyline&&!(k instanceof L.Polygon)?O:(z=i.toGeoJSON(15),G=k.toGeoJSON(15),V=ye(z),H=ye(G),!((J=ri().intersection(V.coordinates,H.coordinates)).length===0||!(J.length===1?Vn(J[0]):Gn(J))))}catch{return k instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var z,G,V,H,J}).forEach(function(k){var O;if(k instanceof L.Polygon){var z=(O=L.polygon(k.getLatLngs())).getLatLngs();g.forEach(function(ot){if(ot&&ot.snapInfo){var yt=ot.latlng,xt=a._calcClosestLayer(yt,[O]);if(xt&&xt.segment&&xt.distance<a.options.snapDistance){var Gt=xt.segment;if(Gt&&Gt.length===2){var Yt=L.PM.Utils._getIndexFromSegment(z,Gt),fe=Yt.indexPath,Vt=Yt.parentPath,de=Yt.newIndex;(fe.length>1?dt()(z,Vt):z).splice(de,0,yt)}}}})}else O=k;var G=a._cutLayer(i,O),V=L.geoJSON(G,k.options);if(V.getLayers().length===1){var H=V.getLayers();V=jr(H,1)[0]}a._setPane(V,"layerPane");var J=V.addTo(a._map.pm._getContainingLayer());if(J.pm.enable(k.pm.options),J.pm.disable(),k._pmTempLayer=!0,i._pmTempLayer=!0,k.remove(),k.removeFrom(a._map.pm._getContainingLayer()),i.remove(),i.removeFrom(a._map.pm._getContainingLayer()),J.getLayers&&J.getLayers().length===0&&a._map.pm.removeLayer({target:J}),J instanceof L.LayerGroup&&J.eachLayer(function(ot){a._addDrawnLayerProp(ot)}),a._addDrawnLayerProp(J),a.options.layersToCut&&L.Util.isArray(a.options.layersToCut)&&a.options.layersToCut.length>0){var lt=a.options.layersToCut.indexOf(k);lt>-1&&a.options.layersToCut.splice(lt,1)}a._editedLayers.push({layer:J,originalLayer:k})})},_cutLayer:function(i,a){var h,g,k,O,z,G,V=L.geoJSON();if(a instanceof L.Polygon)g=a.toGeoJSON(15),k=i.toGeoJSON(15),O=ye(g),z=ye(k),h=(G=ri().difference(O.coordinates,z.coordinates)).length===0?null:G.length===1?Vn(G[0]):Gn(G);else{var H=Jt(a);H.forEach(function(J){var lt=Yi(J,i.toGeoJSON(15));(lt&&lt.features.length>0?L.geoJSON(lt):L.geoJSON(J)).getLayers().forEach(function(ot){$s(i.toGeoJSON(15),ot.toGeoJSON(15))||ot.addTo(V)})}),h=H.length>1?Ce(V):V.toGeoJSON(15)}return h},_change:L.Util.falseFn}),I.Text=I.extend({initialize:function(i){this._map=i,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(i){L.Util.setOptions(this,i),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Ct("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(i){this.enabled()?this.disable():this.enable(i)},_syncHintMarker:function(i){if(this._hintMarker.setLatLng(i.latlng),this.options.snappable){var a=i;a.target=this._hintMarker,this._handleSnapping(a)}},_createMarker:function(i){var a;if(i.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(i.latlng);var h=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(a=this.options.textOptions)!==null&&a!==void 0&&a.className){var g,k=this.options.textOptions.className.split(" ");(g=this.textArea.classList).add.apply(g,Qe(k))}var O=this._createTextIcon(this.textArea),z=new L.Marker(h,{textMarker:!0,_textMarkerOverPM:!0,icon:O});if(this._setPane(z,"markerPane"),this._finishLayer(z),z.pm||(z.options.draggable=!1),z.addTo(this._map.pm._getContainingLayer()),z.pm){var G,V,H,J,lt;z.pm.textArea=this.textArea,L.setOptions(z.pm,{removeIfEmpty:(G=(V=this.options.textOptions)===null||V===void 0?void 0:V.removeIfEmpty)===null||G===void 0||G});var ot=(H=(J=this.options.textOptions)===null||J===void 0?void 0:J.focusAfterDraw)===null||H===void 0||H;z.pm._createTextMarker(ot),(lt=this.options.textOptions)!==null&&lt!==void 0&&lt.text&&z.pm.setText(this.options.textOptions.text)}this._fireCreate(z),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var i=document.createElement("textarea");return i.autofocus=!0,i.readOnly=!0,i.classList.add("pm-textarea","pm-disabled"),i},_createTextIcon:function(i){return L.divIcon({className:"pm-text-marker",html:i})}});const er={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Rt(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var i=this._getDOMElem();i&&(Rt(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(i)):L.DomEvent.on(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,Rt(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var i=this._getDOMElem();i&&(Rt(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(i)):L.DomEvent.off(i,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(i){var a=i.touches?i.touches[0]:i,h={originalEvent:a,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(a),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseDown(h),!1},_simulateMouseMoveEvent:function(i){var a=i.touches?i.touches[0]:i,h={originalEvent:a,target:this._layer};return h.containerPoint=this._map.mouseEventToContainerPoint(a),h.latlng=this._map.containerPointToLatLng(h.containerPoint),this._dragMixinOnMouseMove(h),!1},_simulateMouseUpEvent:function(i){var a={originalEvent:i.touches?i.touches[0]:i,target:this._layer};return i.type.indexOf("touch")===-1&&(a.containerPoint=this._map.mouseEventToContainerPoint(i),a.latlng=this._map.containerPointToLatLng(a.containerPoint)),this._dragMixinOnMouseUp(a),!1},_dragMixinOnMouseDown:function(i){if(!(i.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(i);var a=i._fromLayerSync,h=this._syncLayers("_dragMixinOnMouseDown",i);this._layer instanceof L.Marker&&(!this.options.snappable||a||h?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||a||h?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=i.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(i){this._overwriteEventIfItComesFromMarker(i);var a=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",i),this._dragging||(this._dragging=!0,L.DomUtil.addClass(a,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=i.latlng),this._onLayerDrag(i),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(i){var a=this,h=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",i),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){a._dragging=!1,h&&L.DomUtil.removeClass(h,"leaflet-pm-dragging"),a._fireDragEnd(),a._fireEdit(),a._layerEdited=!0},10),!0)},_onLayerDrag:function(i){var a=i.latlng,h=a.lat-this._tempDragCoord.lat,g=a.lng-this._tempDragCoord.lng,k=function J(lt){return lt.map(function(ot){if(Array.isArray(ot))return J(ot);var yt={lat:ot.lat+h,lng:ot.lng+g};return(ot.alt||ot.alt===0)&&(yt.alt=ot.alt),yt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var O=k([this._layer.getLatLng()]);this._layer.setLatLng(O[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var z=this._layer.getLatLng();this._layer._snapped&&(z=this._layer._orgLatLng);var G=k([z]);this._layer.setLatLng(G[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var V=k([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(V),this._fireChange(this._layer.getBounds(),"Edit")}else{var H=k(this._layer.getLatLngs());this._layer.setLatLngs(H),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=a,i.layer=this._layer,this._fireDrag(i)},addDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.addClass(i,"leaflet-pm-draggable")},removeDraggingClass:function(){var i=this._getDOMElem();i&&L.DomUtil.removeClass(i,"leaflet-pm-draggable")},_getDOMElem:function(){var i=null;return this._layer._path?i=this._layer._path:this._layer._renderer&&this._layer._renderer._container?i=this._layer._renderer._container:this._layer._image?i=this._layer._image:this._layer._icon&&(i=this._layer._icon),i},_overwriteEventIfItComesFromMarker:function(i){i.target.getLatLng&&(!i.target._radius||i.target._radius<=10)&&(i.containerPoint=this._map.mouseEventToContainerPoint(i.originalEvent),i.latlng=this._map.containerPointToLatLng(i.containerPoint))},_syncLayers:function(i,a){var h=this;if(this.enabled())return!1;if(!a._fromLayerSync&&this._layer===a.target&&this.options.syncLayersOnDrag){a._fromLayerSync=!0;var g=[];if(L.Util.isArray(this.options.syncLayersOnDrag))g=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(z){z instanceof L.LayerGroup&&(g=g.concat(z.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var k in this._parentLayerGroup){var O=this._parentLayerGroup[k];O.pm&&(g=O.pm.getLayers(!0))}return L.Util.isArray(g)&&g.length>0&&(g=g.filter(function(z){return!!z.pm}).filter(function(z){return!!z.pm.options.draggable})).forEach(function(z){z!==h._layer&&z.pm[i]&&(z._snapped=!1,z.pm[i](a))}),g.length>0}return!1},_stopDOMImageDrag:function(i){return i.preventDefault(),!1}};function Sn(i,a,h){var g=h.getMaxZoom();if(g===1/0&&(g=h.getZoom()),L.Util.isArray(i)){var k=[];return i.forEach(function(O){k.push(Sn(O,a,h))}),k}return i instanceof L.LatLng?function(O,z,G,V){return G.unproject(z.transform(G.project(O,V)),V)}(i,a,h,g):null}function be(i,a){a instanceof L.Layer&&(a=a.getLatLng());var h=i.getMaxZoom();return h===1/0&&(h=i.getZoom()),i.project(a,h)}function un(i,a){var h=i.getMaxZoom();return h===1/0&&(h=i.getZoom()),i.unproject(a,h)}var Ti={_onRotateStart:function(i){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=be(this._map,this._rotationOriginLatLng),this._rotationStartPoint=be(this._map,i.target.getLatLng()),this._initialRotateLatLng=vt(this._layer),this._startAngle=this.getAngle();var a=vt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,a),this._fireRotationStart(this._map,a)},_onRotate:function(i){var a=be(this._map,i.target.getLatLng()),h=this._rotationStartPoint,g=this._rotationOriginPoint,k=Math.atan2(a.y-g.y,a.x-g.x)-Math.atan2(h.y-g.y,h.x-g.x);this._layer.setLatLngs(this._rotateLayer(k,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var O=this;(function H(J){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(ot>-1&&lt.push(ot),L.Util.isArray(J[0]))J.forEach(function(xt,Gt){return H(xt,lt.slice(),Gt)});else{var yt=dt()(O._markers,lt);J.forEach(function(xt,Gt){yt[Gt].setLatLng(xt)})}})(this._layer.getLatLngs());var z=vt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(k,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var G=180*k/Math.PI,V=(G=G<0?G+360:G)+this._startAngle;this._setAngle(V),this._rotationLayer.pm._setAngle(V),this._fireRotation(this._rotationLayer,G,z),this._fireRotation(this._map,G,z),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var i=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var a=vt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=vt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,i,a),this._fireRotationEnd(this._map,i,a),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(i,a,h,g,k){var O=be(k,h);return this._matrix=g.clone().rotate(i,O).flip(),Sn(a,this._matrix,k)},_setAngle:function(i){i=i<0?i+360:i,this._angle=i%360},_getRotationCenter:function(){var i=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),a=i.getCenter();return i.removeFrom(this._layer._map),a},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=vt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(i){var a=this.getAngle(),h=this._layer.getLatLngs(),g=i*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(g,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+i),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(g,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var k=this.getAngle()-a;k=k<0?k+360:k,this._startAngle=a,this._fireRotation(this._layer,k,h,this._layer),this._fireRotation(this._map||this._layer._map,k,h,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(i){var a=i-this.getAngle();this.rotateLayer(a)},getAngle:function(){return this._angle||0},setInitAngle:function(i){this._setAngle(i)}};const Oi=Ti,Se=L.Class.extend({includes:[er,T,Oi,Pt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(i){L.Util.setOptions(this,i)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(i,a){a==="layerPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":a==="vertexPane"?i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":a==="markerPane"&&(i.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(i,a){var h=a.target,g={layer:this._layer,marker:h,event:a},k="";return i==="move"?k="moveVertexValidation":i==="add"?k="addVertexValidation":i==="remove"&&(k="removeVertexValidation"),this.options[k]&&typeof this.options[k]=="function"&&!this.options[k](g)?(i==="move"&&(h._cancelDragEventChain=h.getLatLng()),!1):(h._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(i){return!i._cancelDragEventChain||(i._latlng=i._cancelDragEventChain,i.update(),!1)},_vertexValidationDragEnd:function(i){return!i._cancelDragEventChain||(i._cancelDragEventChain=null,!1)}});function Tn(i){return function(a){if(Array.isArray(a))return Ri(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,h){if(a){if(typeof a=="string")return Ri(a,h);var g=Object.prototype.toString.call(a).slice(8,-1);if(g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set")return Array.from(a);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return Ri(a,h)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ri(i,a){(a==null||a>i.length)&&(a=i.length);for(var h=0,g=new Array(a);h<a;h++)g[h]=i[h];return g}Se.LayerGroup=L.Class.extend({initialize:function(i){var a=this;this._layerGroup=i,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(h){return a._initLayer(h)}),this._layerGroup.on("layeradd",L.Util.throttle(function(h){if(!h.layer._pmTempLayer){a._layers=a.getLayers();var g=a._layers.filter(function(k){return!k.pm._parentLayerGroup||!(a._layerGroup._leaflet_id in k.pm._parentLayerGroup)});g.forEach(function(k){a._initLayer(k)}),g.length>0&&a._getMap()&&a._getMap().pm.globalEditModeEnabled()&&a.enabled()&&a.enable(a.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(h){a._removeLayerFromGroup(h.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(h){h.target._pmTempLayer||(a._layers=a.getLayers())},100,this),this)},enable:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(function(h){h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.enable(i,a)):h.pm.enable(i)})},disable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(a){a instanceof L.LayerGroup?i.indexOf(a._leaflet_id)===-1&&(i.push(a._leaflet_id),a.pm.disable(i)):a.pm.disable()})},enabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.length===0&&(this._layers=this.getLayers());var a=this._layers.find(function(h){return h instanceof L.LayerGroup?i.indexOf(h._leaflet_id)===-1&&(i.push(h._leaflet_id),h.pm.enabled(i)):h.pm.enabled()});return!!a},toggleEdit:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this._options=i,this._layers.forEach(function(h){h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.toggleEdit(i,a)):h.pm.toggleEdit(i)})},_initLayer:function(i){var a=L.Util.stamp(this._layerGroup);i.pm._parentLayerGroup||(i.pm._parentLayerGroup={}),i.pm._parentLayerGroup[a]=this._layerGroup},_removeLayerFromGroup:function(i){if(i.pm&&i.pm._layerGroup){var a=L.Util.stamp(this._layerGroup);delete i.pm._layerGroup[a]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var i=this._layers.find(function(a){return a.pm.dragging()});return!!i}return!1},getOptions:function(){return this.options},_getMap:function(){var i;return this._map||((i=this._layers.find(function(a){return!!a._map}))===null||i===void 0?void 0:i._map)||null},getLayers:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],a=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],k=[];return i?this._layerGroup.getLayers().forEach(function(O){k.push(O),O instanceof L.LayerGroup&&g.indexOf(O._leaflet_id)===-1&&(g.push(O._leaflet_id),k=k.concat(O.pm.getLayers(!0,!0,!0,g)))}):k=this._layerGroup.getLayers(),h&&(k=k.filter(function(O){return!(O instanceof L.LayerGroup)})),a&&(k=(k=(k=k.filter(function(O){return!!O.pm})).filter(function(O){return!O._pmTempLayer})).filter(function(O){return!L.PM.optIn&&!O.options.pmIgnore||L.PM.optIn&&O.options.pmIgnore===!1})),k},setOptions:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];a.length===0&&(this._layers=this.getLayers()),this.options=i,this._layers.forEach(function(h){h.pm&&(h instanceof L.LayerGroup?a.indexOf(h._leaflet_id)===-1&&(a.push(h._leaflet_id),h.pm.setOptions(i,a)):h.pm.setOptions(i))})}}),Se.Marker=Se.extend({_shape:"Marker",initialize:function(i){this._layer=i,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,i),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(i){var a=i.target;a.remove(),this._fireRemove(a),this._fireRemove(this._map,a)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)}});const Ur={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var i=[].concat(Tn(this._markerGroup.getLayers()),Tn(this.markerCache));this.markerCache=i.filter(function(a,h,g){return g.indexOf(a)===h})},renderLimits:function(i){var a=this;this.markerCache.forEach(function(h){i.includes(h)?a._markerGroup.addLayer(h):a._markerGroup.removeLayer(h)})},applyLimitFilters:function(i){var a=i.latlng,h=a===void 0?{lat:0,lng:0}:a;if(!this._preventRenderMarkers){var g=Tn(this._filterClosestMarkers(h));this.renderLimits(g)}},_filterClosestMarkers:function(i){var a=Tn(this.markerCache),h=this.options.limitMarkersToCount;return h===-1?a:(a.sort(function(g,k){return g._latlng.distanceTo(i)-k._latlng.distanceTo(i)}),a.filter(function(g,k){return!(h>-1)||k<h}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(i){this._preventRenderMarkers=!!i}};function nr(i,a){return function(h){if(Array.isArray(h))return h}(i)||function(h,g){var k=h==null?null:typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(k!=null){var O,z,G=[],V=!0,H=!1;try{for(k=k.call(h);!(V=(O=k.next()).done)&&(G.push(O.value),!g||G.length!==g);V=!0);}catch(J){H=!0,z=J}finally{try{V||k.return==null||k.return()}finally{if(H)throw z}}return G}}(i,a)||function(h,g){if(h){if(typeof h=="string")return ir(h,g);var k=Object.prototype.toString.call(h).slice(8,-1);if(k==="Object"&&h.constructor&&(k=h.constructor.name),k==="Map"||k==="Set")return Array.from(h);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return ir(h,g)}}(i,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ir(i,a){(a==null||a>i.length)&&(a=i.length);for(var h=0,g=new Array(a);h<a;h++)g[h]=i[h];return g}function Vr(i){return function(a){if(Array.isArray(a))return oi(a)}(i)||function(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}(i)||function(a,h){if(a){if(typeof a=="string")return oi(a,h);var g=Object.prototype.toString.call(a).slice(8,-1);if(g==="Object"&&a.constructor&&(g=a.constructor.name),g==="Map"||g==="Set")return Array.from(a);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return oi(a,h)}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oi(i,a){(a==null||a>i.length)&&(a=i.length);for(var h=0,g=new Array(a);h<a;h++)g[h]=i[h];return g}Se.Line=Se.extend({includes:[Ur],_shape:"Line",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(i,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(i){return this.enabled()?this.disable():this.enable(i),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var i=this,a=this._map,h=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function g(k){if(Array.isArray(k[0]))return k.map(g,i);var O=k.map(i._createMarker,i);return i.options.hideMiddleMarkers!==!0&&k.map(function(z,G){var V=i.isPolygon()?(G+1)%k.length:G+1;return i._createMiddleMarker(O[G],O[V])}),O}(h),this.filterMarkerGroup(),a.addLayer(this._markerGroup)},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this.options.rotate?(a.on("dragstart",this._onRotateStart,this),a.on("drag",this._onRotate,this),a.on("dragend",this._onRotateEnd,this)):(a.on("click",this._onVertexClick,this),a.on("dragstart",this._onMarkerDragStart,this),a.on("move",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||a.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(a),a},_createMiddleMarker:function(i,a){if(!i||!a)return!1;var h=L.PM.Utils.calcMiddleLatLng(this._map,i.getLatLng(),a.getLatLng()),g=this._createMarker(h),k=L.divIcon({className:"marker-icon marker-icon-middle"});return g.setIcon(k),g.leftM=i,g.rightM=a,i._middleMarkerNext=g,a._middleMarkerPrev=g,g.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),g.on("movestart",this._onMiddleMarkerMoveStart,this),g},_onMiddleMarkerClick:function(i){var a=i.target;if(this._vertexValidation("add",i)){var h=L.divIcon({className:"marker-icon"});a.setIcon(h),this._addMarker(a,a.leftM,a.rightM)}},_onMiddleMarkerMoveStart:function(i){var a=i.target;a.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",i)?(a._dragging=!0,this._addMarker(a,a.leftM,a.rightM)):a.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(i){var a=i.target;this._vertexValidationDrag(a)},_onMiddleMarkerMoveEnd:function(i){var a=i.target;if(a.off("move",this._onMiddleMarkerMovePrevent,this),a.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(a)){var h=L.divIcon({className:"marker-icon"});a.setIcon(h),setTimeout(function(){delete a._dragging},100)}},_addMarker:function(i,a,h){i.off("movestart",this._onMiddleMarkerMoveStart,this),i.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var g=i.getLatLng(),k=this._layer._latlngs;delete i.leftM,delete i.rightM;var O=L.PM.Utils.findDeepMarkerIndex(this._markers,a),z=O.indexPath,G=O.index,V=O.parentPath,H=z.length>1?dt()(k,V):k,J=z.length>1?dt()(this._markers,V):this._markers;H.splice(G+1,0,g),J.splice(G+1,0,i),this._layer.setLatLngs(k),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(a,i),this._createMiddleMarker(i,h)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(i,L.PM.Utils.findDeepMarkerIndex(this._markers,i).indexPath,g),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return ne(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(i){var a=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;i?this._flashLayer():(a.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(ne(this._layer.toGeoJSON(15)))}else a.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var i=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){i._layer.setStyle({color:i.cachedColor}),i.isRed=!1},200)},_updateDisabledMarkerStyle:function(i,a){var h=this;i.forEach(function(g){Array.isArray(g)?h._updateDisabledMarkerStyle(g,a):g._icon&&(a&&!h._checkMarkerAllowedToDrag(g)?L.DomUtil.addClass(g._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(g._icon,"vertexmarker-disabled"))})},_removeMarker:function(i){var a=i.target;if(this._vertexValidation("remove",i)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=vt(this._layer,this._layer.getLatLngs()));var h=this._layer.getLatLngs(),g=L.PM.Utils.findDeepMarkerIndex(this._markers,a),k=g.indexPath,O=g.index,z=g.parentPath;if(k){var G=k.length>1?dt()(h,z):h,V=k.length>1?dt()(this._markers,z):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(G.length<=2||this.isPolygon()&&G.length<=3)){G.splice(O,1),this._layer.setLatLngs(h),this.isPolygon()&&G.length<=2&&G.splice(0,G.length);var H=!1;if(G.length<=1&&(G.splice(0,G.length),z.length>1&&k.length>1&&(h=ge(h)),this._layer.setLatLngs(h),this._initMarkers(),H=!0),Ut(h)||this._layer.remove(),h=ge(h),this._layer.setLatLngs(h),this._markers=ge(this._markers),!H&&(V=k.length>1?dt()(this._markers,z):this._markers,a._middleMarkerPrev&&this._markerGroup.removeLayer(a._middleMarkerPrev),a._middleMarkerNext&&this._markerGroup.removeLayer(a._middleMarkerNext),this._markerGroup.removeLayer(a),V)){var J,lt;if(this.isPolygon()?(J=(O+1)%V.length,lt=(O+(V.length-1))%V.length):(lt=O-1<0?void 0:O-1,J=O+1>=V.length?void 0:O+1),J!==lt){var ot=V[lt],yt=V[J];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(ot,yt)}V.splice(O,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(a,k),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(i){var a=this._layer.getLatLngs(),h=i.getLatLng(),g=L.PM.Utils.findDeepMarkerIndex(this._markers,i),k=g.indexPath,O=g.index,z=g.parentPath;(k.length>1?dt()(a,z):a).splice(O,1,h),this._layer.setLatLngs(a)},_getNeighborMarkers:function(i){var a=L.PM.Utils.findDeepMarkerIndex(this._markers,i),h=a.indexPath,g=a.index,k=a.parentPath,O=h.length>1?dt()(this._markers,k):this._markers,z=(g+1)%O.length;return{prevMarker:O[(g+(O.length-1))%O.length],nextMarker:O[z]}},_checkMarkerAllowedToDrag:function(i){var a=this._getNeighborMarkers(i),h=a.prevMarker,g=a.nextMarker,k=L.polyline([h.getLatLng(),i.getLatLng()]),O=L.polyline([i.getLatLng(),g.getLatLng()]),z=Cn(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length,G=Cn(this._layer.toGeoJSON(15),O.toGeoJSON(15)).features.length;return i.getLatLng()===this._markers[0][0].getLatLng()?G+=1:i.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(z+=1),!(z<=2&&G<=2)},_onMarkerDragStart:function(i){var a=i.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",i)){var h=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireMarkerDragStart(i,h),this.options.allowSelfIntersection||(this._coordsBeforeEdit=vt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(a):this._markerAllowedToDrag=null}},_onMarkerDrag:function(i){var a=i.target;if(this._vertexValidationDrag(a)){var h=L.PM.Utils.findDeepMarkerIndex(this._markers,a),g=h.indexPath,k=h.index,O=h.parentPath;if(g){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(a);var z=g.length>1?dt()(this._markers,O):this._markers,G=(k+1)%z.length,V=(k+(z.length-1))%z.length,H=a.getLatLng(),J=z[V].getLatLng(),lt=z[G].getLatLng();if(a._middleMarkerNext){var ot=L.PM.Utils.calcMiddleLatLng(this._map,H,lt);a._middleMarkerNext.setLatLng(ot)}if(a._middleMarkerPrev){var yt=L.PM.Utils.calcMiddleLatLng(this._map,H,J);a._middleMarkerPrev.setLatLng(yt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(i,g),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(i){var a=i.target;if(this._vertexValidationDragEnd(a)){var h=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath,g=this.hasSelfIntersection();g&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(g=!1);var k=!this.options.allowSelfIntersection&&g;if(this._fireMarkerDragEnd(i,h,k),k)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(i,h);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(i){var a=i.target;if(!a._dragging){var h=L.PM.Utils.findDeepMarkerIndex(this._markers,a).indexPath;this._fireVertexClick(i,h)}}}),Se.Polygon=Se.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(i){var a=this._getNeighborMarkers(i),h=a.prevMarker,g=a.nextMarker,k=L.polyline([h.getLatLng(),i.getLatLng()]),O=L.polyline([i.getLatLng(),g.getLatLng()]),z=Cn(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length,G=Cn(this._layer.toGeoJSON(15),O.toGeoJSON(15)).features.length;return!(z<=2&&G<=2)}}),Se.Rectangle=Se.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var i=this,a=this._map,h=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,a.addLayer(this._markerGroup),this._markers=[],this._markers[0]=h.map(this._createMarker,this);var g=nr(this._markers,1);this._cornerMarkers=g[0],this._layer.getLatLngs()[0].forEach(function(k,O){var z=i._cornerMarkers.find(function(G){return G._index===O});z&&z.setLatLng(k)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(i,a){var h=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(h,"vertexPane"),h._origLatLng=i,h._index=a,h._pmTempLayer=!0,this._markerGroup.addLayer(h),h},_addMarkerEvents:function(){var i=this;this._markers[0].forEach(function(a){a.on("dragstart",i._onMarkerDragStart,i),a.on("drag",i._onMarkerDrag,i),a.on("dragend",i._onMarkerDragEnd,i),i.options.preventMarkerRemoval||a.on("contextmenu",i._removeMarker,i)})},_removeMarker:function(){return null},_onMarkerDragStart:function(i){if(this._vertexValidation("move",i)){var a=i.target,h=this._cornerMarkers;a._oppositeCornerLatLng=h.find(function(g){return g._index===(a._index+2)%4}).getLatLng(),a._snapped=!1,this._fireMarkerDragStart(i)}},_onMarkerDrag:function(i){var a=i.target;this._vertexValidationDrag(a)&&a._index!==void 0&&(this._adjustRectangleForMarkerMove(a),this._fireMarkerDrag(i),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(i){var a=i.target;this._vertexValidationDragEnd(a)&&(this._cornerMarkers.forEach(function(h){delete h._oppositeCornerLatLng}),this._fireMarkerDragEnd(i),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(i){L.extend(i._origLatLng,i._latlng);var a=L.PM.Utils._getRotatedRectangle(i.getLatLng(),i._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(a),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var i=this,a=this._layer.getLatLngs()[0];a&&a.length!==4&&a.length>0?(a.forEach(function(h,g){i._cornerMarkers[g].setLatLng(h)}),this._cornerMarkers.slice(a.length).forEach(function(h){h.setLatLng(a[0])})):a&&a.length?this._cornerMarkers.forEach(function(h){h.setLatLng(a[h._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var i=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(i[0],i[2],this._angle||0,this._map)}}),Se.Circle=Se.extend({_shape:"Circle",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(i){L.Util.setOptions(this,i),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var i=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(i,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var a=this._layer.getLatLng(),h=this._layer._radius,g=this._getLatLngOnCircle(a,h);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(g),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(i,a){var h=i.getLatLng(),g=a.getLatLng();this._hintline=L.polyline([h,g],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var a=this._createMarker(i);return L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"),a.on("drag",this._moveCircle,this),a.on("dragstart",this._onCircleDragStart,this),a.on("drag",this._onCircleDrag,this),a.on("dragend",this._onCircleDragEnd,this),a},_createOuterMarker:function(i){var a=this._createMarker(i);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(i){if(!i.target._cancelDragEventChain){var a=i.latlng;this._layer.setLatLng(a);var h=this._layer._radius,g=this._getLatLngOnCircle(a,h);this._outerMarker._latlng=g,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.distance(i,a);this.options.minRadiusCircle&&h<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(h),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,a])},_disableSnapping:function(){var i=this;this._markers.forEach(function(a){a.off("move",i._syncHintLine,i),a.off("move",i._syncCircleRadius,i),a.off("drag",i._handleSnapping,i),a.off("dragend",i._cleanupSnapping,i)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag:function(i){var a=i.target;this._vertexValidationDrag(a)&&this._fireMarkerDrag(i)},_onMarkerDragEnd:function(i){var a=i.target;this._vertexValidationDragEnd(a)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(i))},_onCircleDragStart:function(i){this._vertexValidationDrag(i.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(i){this._vertexValidationReset||this._fireDrag(i)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var i=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!i).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!i),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(i,a){var h=this._map.project(i),g=L.point(h.x+a,h.y);return this._map.unproject(g)},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.distance(i,a);return this.options.minRadiusCircle&&h<this.options.minRadiusCircle?a=Bt(this._map,i,a,this.options.minRadiusCircle):this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle&&(a=Bt(this._map,i,a,this.options.maxRadiusCircle)),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.distance(i,a);(this.options.minRadiusCircle&&h<this.options.minRadiusCircle||this.options.maxRadiusCircle&&h>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Se.CircleMarker=Se.extend({_shape:"CircleMarker",initialize:function(i){this._layer=i,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var i=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(i);var a=this._layer.getLatLng(),h=this._layer._radius,g=this._getLatLngOnCircle(a,h);this._centerMarker=this._createCenterMarker(a),this._outerMarker=this._createOuterMarker(g),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(i,a){var h=this._map.project(i),g=L.point(h.x+a,h.y);return this._map.unproject(g)},_createHintLine:function(i,a){var h=i.getLatLng(),g=a.getLatLng();this._hintline=L.polyline([h,g],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(i){var a=this._createMarker(i);return this.options.draggable?L.DomUtil.addClass(a._icon,"leaflet-pm-draggable"):a.dragging.disable(),a},_createOuterMarker:function(i){var a=this._createMarker(i);return a.on("drag",this._resizeCircle,this),a},_createMarker:function(i){var a=new L.Marker(i,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=i,a._pmTempLayer=!0,a.on("dragstart",this._onMarkerDragStart,this),a.on("drag",this._onMarkerDrag,this),a.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(a),a},_moveCircle:function(){var i=this._centerMarker.getLatLng();this._layer.setLatLng(i);var a=this._layer._radius,h=this._getLatLngOnCircle(i,a);this._outerMarker._latlng=h,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var i=this._layer.getLatLng(),a=this._layer._radius,h=this._getLatLngOnCircle(i,a);this._outerMarker.setLatLng(h),this._centerMarker.setLatLng(i),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.project(i).distanceTo(this._map.project(a));this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(h),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng();this._hintline.setLatLngs([i,a])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(i){this._vertexValidation("move",i)&&this._fireMarkerDragStart(i)},_onMarkerDrag:function(i){var a=i.target;a instanceof L.Marker&&!this._vertexValidationDrag(a)||this._fireMarkerDrag(i)},_onMarkerDragEnd:function(i){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var a=i.target;this._vertexValidationDragEnd(a)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(i))},_initSnappableMarkersDrag:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var i=this._layer._map||this._map;if(i){var a=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),i,this._layer.getLatLng()),h=L.circle(this._layer.getLatLng(),this._layer.options);h.setRadius(a);var g=i&&i.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(h,200,!g).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(h,200,!g),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.project(i).distanceTo(this._map.project(a));return this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker?a=Bt(this._map,i,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,i)):this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker&&(a=Bt(this._map,i,a,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,i))),a},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var i=this._centerMarker.getLatLng(),a=this._outerMarker.getLatLng(),h=this._map.project(i).distanceTo(this._map.project(a));(this.options.minRadiusCircleMarker&&h<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&h>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),Se.ImageOverlay=Se.extend({_shape:"ImageOverlay",initialize:function(i){this._layer=i,this._enabled=!1},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},enabled:function(){return this._enabled},enable:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,i),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var i=this._layer.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]}}),Se.Text=Se.extend({_shape:"Text",initialize:function(i){this._layer=i,this._enabled=!1},enable:function(i){L.Util.setOptions(this,i),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var i=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),i.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(i){this.enabled()?this.disable():this.enable(i)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var i=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,i.off("pm:drag",this._handleSnapping,this),i.on("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.on("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this),i.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var i=this._layer;i.off("pm:drag",this._handleSnapping,this),i.off("pm:dragend",this._cleanupSnapping,this),i.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var i=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,a=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(i,"px"),this.textArea.style.width="".concat(a,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var i=this;this._disableOnBlurActive=!0,setTimeout(function(){i.enabled()&&L.DomEvent.on(document,"click",i._documentClick,i)},100)},_documentClick:function(i){i.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=this._hasFocus;this._hasFocus=i.type==="focus",!a!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(i){this.textArea.value=i,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var i,a=this.options.className.split(" ");(i=this.textArea.classList).add.apply(i,Vr(a))}var h=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(h),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),i===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(i){i.preventDefault()}});var rr=function(i,a,h,g,k,O){this._matrix=[i,a,h,g,k,O]};rr.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},rr.prototype={transform:function(i){return this._transform(i.clone())},_transform:function(i){var a=this._matrix,h=i.x,g=i.y;return i.x=a[0]*h+a[1]*g+a[4],i.y=a[2]*h+a[3]*g+a[5],i},untransform:function(i){var a=this._matrix;return new L.Point((i.x/a[0]-a[4])/a[0],(i.y/a[2]-a[5])/a[2])},clone:function(){var i=this._matrix;return new L.PM.Matrix(i[0],i[1],i[2],i[3],i[4],i[5])},translate:function(i){return i===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof i=="number"?(a=i,h=i):(a=i.x,h=i.y),this._add(1,0,0,1,a,h));var a,h},scale:function(i,a){return i===void 0?new L.Point(this._matrix[0],this._matrix[3]):(a=a||L.point(0,0),typeof i=="number"?(h=i,g=i):(h=i.x,g=i.y),this._add(h,0,0,g,a.x,a.y)._add(1,0,0,1,-a.x,-a.y));var h,g},rotate:function(i,a){var h=Math.cos(i),g=Math.sin(i);return a=a||new L.Point(0,0),this._add(h,g,-g,h,a.x,a.y)._add(1,0,0,1,-a.x,-a.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(i,a,h,g,k,O){var z,G=[[],[],[]],V=this._matrix,H=[[V[0],V[2],V[4]],[V[1],V[3],V[5]],[0,0,1]],J=[[i,h,k],[a,g,O],[0,0,1]];i&&i instanceof L.PM.Matrix&&(J=[[(V=i._matrix)[0],V[2],V[4]],[V[1],V[3],V[5]],[0,0,1]]);for(var lt=0;lt<3;lt+=1)for(var ot=0;ot<3;ot+=1){z=0;for(var yt=0;yt<3;yt+=1)z+=H[lt][yt]*J[yt][ot];G[lt][ot]=z}return this._matrix=[G[0][0],G[1][0],G[0][1],G[1][1],G[0][2],G[1][2]],this}};const Gr=rr;var Ks={calcMiddleLatLng:function(i,a,h){var g=i.project(a),k=i.project(h);return i.unproject(g._add(k)._divideBy(2))},findLayers:function(i){var a=[];return i.eachLayer(function(h){(h instanceof L.Polyline||h instanceof L.Marker||h instanceof L.Circle||h instanceof L.CircleMarker||h instanceof L.ImageOverlay)&&a.push(h)}),a=(a=(a=a.filter(function(h){return!!h.pm})).filter(function(h){return!h._pmTempLayer})).filter(function(h){return!L.PM.optIn&&!h.options.pmIgnore||L.PM.optIn&&h.options.pmIgnore===!1})},circleToPolygon:function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],g=i.getLatLng(),k=i.getRadius(),O=Qt(g,k,a,0,h),z=[],G=0;G<O.length;G+=1){var V=[O[G].lat,O[G].lng];z.push(V)}return L.polygon(z,i.options)},disablePopup:function(i){i.getPopup()&&(i._tempPopupCopy=i.getPopup(),i.unbindPopup())},enablePopup:function(i){i._tempPopupCopy&&(i.bindPopup(i._tempPopupCopy),delete i._tempPopupCopy)},_fireEvent:function(i,a,h){var g=arguments.length>3&&arguments[3]!==void 0&&arguments[3];i.fire(a,h,g);var k=this.getAllParentGroups(i),O=k.groups;O.forEach(function(z){z.fire(a,h,g)})},getAllParentGroups:function(i){var a=[],h=[];return!i._pmLastGroupFetch||!i._pmLastGroupFetch.time||new Date().getTime()-i._pmLastGroupFetch.time>1e3?(function g(k){for(var O in k._eventParents)if(a.indexOf(O)===-1){a.push(O);var z=k._eventParents[O];h.push(z),g(z)}}(i),i._pmLastGroupFetch={time:new Date().getTime(),groups:h,groupIds:a},{groupIds:a,groups:h}):{groups:i._pmLastGroupFetch.groups,groupIds:i._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Qt,getTranslation:Ct,findDeepCoordIndex:function(i,a){var h,g=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],k=function z(G){return function(V,H){var J=G.concat(H);if(g){if(V.lat&&V.lat===a.lat&&V.lng===a.lng)return h=J,!0}else if(V.lat&&L.latLng(V).equals(a))return h=J,!0;return Array.isArray(V)&&V.some(z(J))}};i.some(k([]));var O={};return h&&(O={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),O},findDeepMarkerIndex:function(i,a){var h;i.some(function k(O){return function(z,G){var V=O.concat(G);return z._leaflet_id===a._leaflet_id?(h=V,!0):Array.isArray(z)&&z.some(k(V))}}([]));var g={};return h&&(g={indexPath:h,index:h[h.length-1],parentPath:h.slice(0,h.length-1)}),g},_getIndexFromSegment:function(i,a){if(a&&a.length===2){var h=this.findDeepCoordIndex(i,a[0]),g=this.findDeepCoordIndex(i,a[1]),k=Math.max(h.index,g.index);return h.index!==0&&g.index!==0||k===1||(k+=1),{indexA:h,indexB:g,newIndex:k,indexPath:h.indexPath,parentPath:h.parentPath}}return null},_getRotatedRectangle:function(i,a,h,g){var k=be(g,i),O=be(g,a),z=h*Math.PI/180,G=Math.cos(z),V=Math.sin(z),H=(O.x-k.x)*G+(O.y-k.y)*V,J=(O.y-k.y)*G-(O.x-k.x)*V,lt=H*G+k.x,ot=H*V+k.y,yt=-J*V+k.x,xt=J*G+k.y;return[un(g,k),un(g,{x:lt,y:ot}),un(g,O),un(g,{x:yt,y:xt})]},pxRadiusToMeterRadius:function(i,a,h){var g=a.project(h),k=L.point(g.x+i,g.y);return a.distance(a.unproject(k),h)}};const Wt=Ks;L.PM=L.PM||{version:"2.14.2",Map:te,Toolbar:pt,Draw:I,Edit:Se,Utils:Wt,Matrix:Gr,activeLang:"en",optIn:!1,initialize:function(i){this.addInitHooks(i)},setOptIn:function(i){this.optIn=!!i},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(i){var a=this;i instanceof L.LayerGroup&&i.eachLayer(function(h){a.reInitLayer(h)}),i.pm||L.PM.optIn&&i.options.pmIgnore!==!1||i.options.pmIgnore||(i instanceof L.Map?i.pm=new L.PM.Map(i):i instanceof L.Marker?i.options.textMarker?(i.pm=new L.PM.Edit.Text(i),i.pm._initTextMarker(),i.pm._createTextMarker(!1)):i.pm=new L.PM.Edit.Marker(i):i instanceof L.Circle?i.pm=new L.PM.Edit.Circle(i):i instanceof L.CircleMarker?i.pm=new L.PM.Edit.CircleMarker(i):i instanceof L.Rectangle?i.pm=new L.PM.Edit.Rectangle(i):i instanceof L.Polygon?i.pm=new L.PM.Edit.Polygon(i):i instanceof L.Polyline?i.pm=new L.PM.Edit.Line(i):i instanceof L.LayerGroup?i.pm=new L.PM.Edit.LayerGroup(i):i instanceof L.ImageOverlay&&(i.pm=new L.PM.Edit.ImageOverlay(i)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(i){for(var a,h,g=this._map.mouseEventToLayerPoint(i),k=this._drawFirst;k;k=k.next)(a=k.layer).options.interactive&&a._containsPoint(g)&&(i.type!=="click"&&i.type!=="preclick"||!this._map._draggableMoved(a))&&(h=a);h&&(L.DomEvent.fakeStop(i),this._fireEvent([h],i))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(s){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),u=l.length>>>0,f=arguments[1],d=0;d<u;d++)if(s.call(f,l[d],d,l))return d;return-1},Array.prototype.find=Array.prototype.find||function(s){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof s!="function")throw new TypeError("callback must be a function");for(var l=Object(this),u=l.length>>>0,f=arguments[1],d=0;d<u;d++){var m=l[d];if(s.call(f,m,d,l))return m}},typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(s[f]=u[f])}return s}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(s){s.hasOwnProperty("remove")||Object.defineProperty(s,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(s,l){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),f=u.length>>>0;if(f===0)return!1;for(var d,m,_=0|l,y=Math.max(_>=0?_:f-Math.abs(_),0);y<f;){if((d=u[y])===(m=s)||typeof d=="number"&&typeof m=="number"&&isNaN(d)&&isNaN(m))return!0;y++}return!1}})},1787:(s,l,u)=>{var f=u(2582),d=u(4102),m=u(1540),_=u(9705).Z,y=m.featureEach,x=(m.coordEach,d.polygon,d.featureCollection);function M(B){var E=new f(B);return E.insert=function(C){if(C.type!=="Feature")throw new Error("invalid feature");return C.bbox=C.bbox?C.bbox:_(C),f.prototype.insert.call(this,C)},E.load=function(C){var F=[];return Array.isArray(C)?C.forEach(function(A){if(A.type!=="Feature")throw new Error("invalid features");A.bbox=A.bbox?A.bbox:_(A),F.push(A)}):y(C,function(A){if(A.type!=="Feature")throw new Error("invalid features");A.bbox=A.bbox?A.bbox:_(A),F.push(A)}),f.prototype.load.call(this,F)},E.remove=function(C,F){if(C.type!=="Feature")throw new Error("invalid feature");return C.bbox=C.bbox?C.bbox:_(C),f.prototype.remove.call(this,C,F)},E.clear=function(){return f.prototype.clear.call(this)},E.search=function(C){var F=f.prototype.search.call(this,this.toBBox(C));return x(F)},E.collides=function(C){return f.prototype.collides.call(this,this.toBBox(C))},E.all=function(){var C=f.prototype.all.call(this);return x(C)},E.toJSON=function(){return f.prototype.toJSON.call(this)},E.fromJSON=function(C){return f.prototype.fromJSON.call(this,C)},E.toBBox=function(C){var F;if(C.bbox)F=C.bbox;else if(Array.isArray(C)&&C.length===4)F=C;else if(Array.isArray(C)&&C.length===6)F=[C[0],C[1],C[3],C[4]];else if(C.type==="Feature")F=_(C);else{if(C.type!=="FeatureCollection")throw new Error("invalid geojson");F=_(C)}return{minX:F[0],minY:F[1],maxX:F[2],maxY:F[3]}},E}s.exports=M,s.exports.default=M},1989:(s,l,u)=>{var f=u(1789),d=u(401),m=u(7667),_=u(1327),y=u(1866);function x(M){var B=-1,E=M==null?0:M.length;for(this.clear();++B<E;){var C=M[B];this.set(C[0],C[1])}}x.prototype.clear=f,x.prototype.delete=d,x.prototype.get=m,x.prototype.has=_,x.prototype.set=y,s.exports=x},8407:(s,l,u)=>{var f=u(7040),d=u(4125),m=u(2117),_=u(7518),y=u(4705);function x(M){var B=-1,E=M==null?0:M.length;for(this.clear();++B<E;){var C=M[B];this.set(C[0],C[1])}}x.prototype.clear=f,x.prototype.delete=d,x.prototype.get=m,x.prototype.has=_,x.prototype.set=y,s.exports=x},7071:(s,l,u)=>{var f=u(852)(u(5639),"Map");s.exports=f},3369:(s,l,u)=>{var f=u(4785),d=u(1285),m=u(6e3),_=u(9916),y=u(5265);function x(M){var B=-1,E=M==null?0:M.length;for(this.clear();++B<E;){var C=M[B];this.set(C[0],C[1])}}x.prototype.clear=f,x.prototype.delete=d,x.prototype.get=m,x.prototype.has=_,x.prototype.set=y,s.exports=x},6384:(s,l,u)=>{var f=u(8407),d=u(7465),m=u(3779),_=u(7599),y=u(4758),x=u(4309);function M(B){var E=this.__data__=new f(B);this.size=E.size}M.prototype.clear=d,M.prototype.delete=m,M.prototype.get=_,M.prototype.has=y,M.prototype.set=x,s.exports=M},2705:(s,l,u)=>{var f=u(5639).Symbol;s.exports=f},1149:(s,l,u)=>{var f=u(5639).Uint8Array;s.exports=f},6874:s=>{s.exports=function(l,u,f){switch(f.length){case 0:return l.call(u);case 1:return l.call(u,f[0]);case 2:return l.call(u,f[0],f[1]);case 3:return l.call(u,f[0],f[1],f[2])}return l.apply(u,f)}},4636:(s,l,u)=>{var f=u(2545),d=u(5694),m=u(1469),_=u(4144),y=u(5776),x=u(6719),M=Object.prototype.hasOwnProperty;s.exports=function(B,E){var C=m(B),F=!C&&d(B),A=!C&&!F&&_(B),D=!C&&!F&&!A&&x(B),Z=C||F||A||D,S=Z?f(B.length,String):[],N=S.length;for(var q in B)!E&&!M.call(B,q)||Z&&(q=="length"||A&&(q=="offset"||q=="parent")||D&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||y(q,N))||S.push(q);return S}},9932:s=>{s.exports=function(l,u){for(var f=-1,d=l==null?0:l.length,m=Array(d);++f<d;)m[f]=u(l[f],f,l);return m}},6556:(s,l,u)=>{var f=u(9465),d=u(7813);s.exports=function(m,_,y){(y!==void 0&&!d(m[_],y)||y===void 0&&!(_ in m))&&f(m,_,y)}},4865:(s,l,u)=>{var f=u(9465),d=u(7813),m=Object.prototype.hasOwnProperty;s.exports=function(_,y,x){var M=_[y];m.call(_,y)&&d(M,x)&&(x!==void 0||y in _)||f(_,y,x)}},8470:(s,l,u)=>{var f=u(7813);s.exports=function(d,m){for(var _=d.length;_--;)if(f(d[_][0],m))return _;return-1}},9465:(s,l,u)=>{var f=u(8777);s.exports=function(d,m,_){m=="__proto__"&&f?f(d,m,{configurable:!0,enumerable:!0,value:_,writable:!0}):d[m]=_}},3118:(s,l,u)=>{var f=u(3218),d=Object.create,m=function(){function _(){}return function(y){if(!f(y))return{};if(d)return d(y);_.prototype=y;var x=new _;return _.prototype=void 0,x}}();s.exports=m},8483:(s,l,u)=>{var f=u(5063)();s.exports=f},7786:(s,l,u)=>{var f=u(1811),d=u(327);s.exports=function(m,_){for(var y=0,x=(_=f(_,m)).length;m!=null&&y<x;)m=m[d(_[y++])];return y&&y==x?m:void 0}},4239:(s,l,u)=>{var f=u(2705),d=u(9607),m=u(2333),_=f?f.toStringTag:void 0;s.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":_&&_ in Object(y)?d(y):m(y)}},8565:s=>{var l=Object.prototype.hasOwnProperty;s.exports=function(u,f){return u!=null&&l.call(u,f)}},9454:(s,l,u)=>{var f=u(4239),d=u(7005);s.exports=function(m){return d(m)&&f(m)=="[object Arguments]"}},8458:(s,l,u)=>{var f=u(3560),d=u(5346),m=u(3218),_=u(346),y=/^\[object .+?Constructor\]$/,x=Function.prototype,M=Object.prototype,B=x.toString,E=M.hasOwnProperty,C=RegExp("^"+B.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");s.exports=function(F){return!(!m(F)||d(F))&&(f(F)?C:y).test(_(F))}},8749:(s,l,u)=>{var f=u(4239),d=u(1780),m=u(7005),_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Arguments]"]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object Boolean]"]=_["[object DataView]"]=_["[object Date]"]=_["[object Error]"]=_["[object Function]"]=_["[object Map]"]=_["[object Number]"]=_["[object Object]"]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object WeakMap]"]=!1,s.exports=function(y){return m(y)&&d(y.length)&&!!_[f(y)]}},313:(s,l,u)=>{var f=u(3218),d=u(5726),m=u(3498),_=Object.prototype.hasOwnProperty;s.exports=function(y){if(!f(y))return m(y);var x=d(y),M=[];for(var B in y)(B!="constructor"||!x&&_.call(y,B))&&M.push(B);return M}},2980:(s,l,u)=>{var f=u(6384),d=u(6556),m=u(8483),_=u(9783),y=u(3218),x=u(1704),M=u(6390);s.exports=function B(E,C,F,A,D){E!==C&&m(C,function(Z,S){if(D||(D=new f),y(Z))_(E,C,S,F,B,A,D);else{var N=A?A(M(E,S),Z,S+"",E,C,D):void 0;N===void 0&&(N=Z),d(E,S,N)}},x)}},9783:(s,l,u)=>{var f=u(6556),d=u(4626),m=u(7133),_=u(278),y=u(8517),x=u(5694),M=u(1469),B=u(9246),E=u(4144),C=u(3560),F=u(3218),A=u(8630),D=u(6719),Z=u(6390),S=u(9881);s.exports=function(N,q,Q,et,rt,ut,_t){var it=Z(N,Q),gt=Z(q,Q),Dt=_t.get(gt);if(Dt)f(N,Q,Dt);else{var Pt=ut?ut(it,gt,Q+"",N,q,_t):void 0,Lt=Pt===void 0;if(Lt){var jt=M(gt),dt=!jt&&E(gt),re=!jt&&!dt&&D(gt);Pt=gt,jt||dt||re?M(it)?Pt=it:B(it)?Pt=_(it):dt?(Lt=!1,Pt=d(gt,!0)):re?(Lt=!1,Pt=m(gt,!0)):Pt=[]:A(gt)||x(gt)?(Pt=it,x(it)?Pt=S(it):F(it)&&!C(it)||(Pt=y(gt))):Lt=!1}Lt&&(_t.set(gt,Pt),rt(Pt,gt,et,ut,_t),_t.delete(gt)),f(N,Q,Pt)}}},5976:(s,l,u)=>{var f=u(6557),d=u(5357),m=u(61);s.exports=function(_,y){return m(d(_,y,f),_+"")}},6560:(s,l,u)=>{var f=u(5703),d=u(8777),m=u(6557),_=d?function(y,x){return d(y,"toString",{configurable:!0,enumerable:!1,value:f(x),writable:!0})}:m;s.exports=_},2545:s=>{s.exports=function(l,u){for(var f=-1,d=Array(l);++f<l;)d[f]=u(f);return d}},531:(s,l,u)=>{var f=u(2705),d=u(9932),m=u(1469),_=u(3448),y=f?f.prototype:void 0,x=y?y.toString:void 0;s.exports=function M(B){if(typeof B=="string")return B;if(m(B))return d(B,M)+"";if(_(B))return x?x.call(B):"";var E=B+"";return E=="0"&&1/B==-1/0?"-0":E}},1717:s=>{s.exports=function(l){return function(u){return l(u)}}},1811:(s,l,u)=>{var f=u(1469),d=u(5403),m=u(5514),_=u(9833);s.exports=function(y,x){return f(y)?y:d(y,x)?[y]:m(_(y))}},4318:(s,l,u)=>{var f=u(1149);s.exports=function(d){var m=new d.constructor(d.byteLength);return new f(m).set(new f(d)),m}},4626:(s,l,u)=>{s=u.nmd(s);var f=u(5639),d=l&&!l.nodeType&&l,m=d&&s&&!s.nodeType&&s,_=m&&m.exports===d?f.Buffer:void 0,y=_?_.allocUnsafe:void 0;s.exports=function(x,M){if(M)return x.slice();var B=x.length,E=y?y(B):new x.constructor(B);return x.copy(E),E}},7133:(s,l,u)=>{var f=u(4318);s.exports=function(d,m){var _=m?f(d.buffer):d.buffer;return new d.constructor(_,d.byteOffset,d.length)}},278:s=>{s.exports=function(l,u){var f=-1,d=l.length;for(u||(u=Array(d));++f<d;)u[f]=l[f];return u}},8363:(s,l,u)=>{var f=u(4865),d=u(9465);s.exports=function(m,_,y,x){var M=!y;y||(y={});for(var B=-1,E=_.length;++B<E;){var C=_[B],F=x?x(y[C],m[C],C,y,m):void 0;F===void 0&&(F=m[C]),M?d(y,C,F):f(y,C,F)}return y}},4429:(s,l,u)=>{var f=u(5639)["__core-js_shared__"];s.exports=f},1463:(s,l,u)=>{var f=u(5976),d=u(6612);s.exports=function(m){return f(function(_,y){var x=-1,M=y.length,B=M>1?y[M-1]:void 0,E=M>2?y[2]:void 0;for(B=m.length>3&&typeof B=="function"?(M--,B):void 0,E&&d(y[0],y[1],E)&&(B=M<3?void 0:B,M=1),_=Object(_);++x<M;){var C=y[x];C&&m(_,C,x,B)}return _})}},5063:s=>{s.exports=function(l){return function(u,f,d){for(var m=-1,_=Object(u),y=d(u),x=y.length;x--;){var M=y[l?x:++m];if(f(_[M],M,_)===!1)break}return u}}},8777:(s,l,u)=>{var f=u(852),d=function(){try{var m=f(Object,"defineProperty");return m({},"",{}),m}catch{}}();s.exports=d},1957:(s,l,u)=>{var f=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;s.exports=f},5050:(s,l,u)=>{var f=u(7019);s.exports=function(d,m){var _=d.__data__;return f(m)?_[typeof m=="string"?"string":"hash"]:_.map}},852:(s,l,u)=>{var f=u(8458),d=u(7801);s.exports=function(m,_){var y=d(m,_);return f(y)?y:void 0}},5924:(s,l,u)=>{var f=u(5569)(Object.getPrototypeOf,Object);s.exports=f},9607:(s,l,u)=>{var f=u(2705),d=Object.prototype,m=d.hasOwnProperty,_=d.toString,y=f?f.toStringTag:void 0;s.exports=function(x){var M=m.call(x,y),B=x[y];try{x[y]=void 0;var E=!0}catch{}var C=_.call(x);return E&&(M?x[y]=B:delete x[y]),C}},7801:s=>{s.exports=function(l,u){return l==null?void 0:l[u]}},222:(s,l,u)=>{var f=u(1811),d=u(5694),m=u(1469),_=u(5776),y=u(1780),x=u(327);s.exports=function(M,B,E){for(var C=-1,F=(B=f(B,M)).length,A=!1;++C<F;){var D=x(B[C]);if(!(A=M!=null&&E(M,D)))break;M=M[D]}return A||++C!=F?A:!!(F=M==null?0:M.length)&&y(F)&&_(D,F)&&(m(M)||d(M))}},1789:(s,l,u)=>{var f=u(4536);s.exports=function(){this.__data__=f?f(null):{},this.size=0}},401:s=>{s.exports=function(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}},7667:(s,l,u)=>{var f=u(4536),d=Object.prototype.hasOwnProperty;s.exports=function(m){var _=this.__data__;if(f){var y=_[m];return y==="__lodash_hash_undefined__"?void 0:y}return d.call(_,m)?_[m]:void 0}},1327:(s,l,u)=>{var f=u(4536),d=Object.prototype.hasOwnProperty;s.exports=function(m){var _=this.__data__;return f?_[m]!==void 0:d.call(_,m)}},1866:(s,l,u)=>{var f=u(4536);s.exports=function(d,m){var _=this.__data__;return this.size+=this.has(d)?0:1,_[d]=f&&m===void 0?"__lodash_hash_undefined__":m,this}},8517:(s,l,u)=>{var f=u(3118),d=u(5924),m=u(5726);s.exports=function(_){return typeof _.constructor!="function"||m(_)?{}:f(d(_))}},5776:s=>{var l=/^(?:0|[1-9]\d*)$/;s.exports=function(u,f){var d=typeof u;return!!(f=f??9007199254740991)&&(d=="number"||d!="symbol"&&l.test(u))&&u>-1&&u%1==0&&u<f}},6612:(s,l,u)=>{var f=u(7813),d=u(8612),m=u(5776),_=u(3218);s.exports=function(y,x,M){if(!_(M))return!1;var B=typeof x;return!!(B=="number"?d(M)&&m(x,M.length):B=="string"&&x in M)&&f(M[x],y)}},5403:(s,l,u)=>{var f=u(1469),d=u(3448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/;s.exports=function(y,x){if(f(y))return!1;var M=typeof y;return!(M!="number"&&M!="symbol"&&M!="boolean"&&y!=null&&!d(y))||_.test(y)||!m.test(y)||x!=null&&y in Object(x)}},7019:s=>{s.exports=function(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}},5346:(s,l,u)=>{var f,d=u(4429),m=(f=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";s.exports=function(_){return!!m&&m in _}},5726:s=>{var l=Object.prototype;s.exports=function(u){var f=u&&u.constructor;return u===(typeof f=="function"&&f.prototype||l)}},7040:s=>{s.exports=function(){this.__data__=[],this.size=0}},4125:(s,l,u)=>{var f=u(8470),d=Array.prototype.splice;s.exports=function(m){var _=this.__data__,y=f(_,m);return!(y<0)&&(y==_.length-1?_.pop():d.call(_,y,1),--this.size,!0)}},2117:(s,l,u)=>{var f=u(8470);s.exports=function(d){var m=this.__data__,_=f(m,d);return _<0?void 0:m[_][1]}},7518:(s,l,u)=>{var f=u(8470);s.exports=function(d){return f(this.__data__,d)>-1}},4705:(s,l,u)=>{var f=u(8470);s.exports=function(d,m){var _=this.__data__,y=f(_,d);return y<0?(++this.size,_.push([d,m])):_[y][1]=m,this}},4785:(s,l,u)=>{var f=u(1989),d=u(8407),m=u(7071);s.exports=function(){this.size=0,this.__data__={hash:new f,map:new(m||d),string:new f}}},1285:(s,l,u)=>{var f=u(5050);s.exports=function(d){var m=f(this,d).delete(d);return this.size-=m?1:0,m}},6e3:(s,l,u)=>{var f=u(5050);s.exports=function(d){return f(this,d).get(d)}},9916:(s,l,u)=>{var f=u(5050);s.exports=function(d){return f(this,d).has(d)}},5265:(s,l,u)=>{var f=u(5050);s.exports=function(d,m){var _=f(this,d),y=_.size;return _.set(d,m),this.size+=_.size==y?0:1,this}},4523:(s,l,u)=>{var f=u(8306);s.exports=function(d){var m=f(d,function(y){return _.size===500&&_.clear(),y}),_=m.cache;return m}},4536:(s,l,u)=>{var f=u(852)(Object,"create");s.exports=f},3498:s=>{s.exports=function(l){var u=[];if(l!=null)for(var f in Object(l))u.push(f);return u}},1167:(s,l,u)=>{s=u.nmd(s);var f=u(1957),d=l&&!l.nodeType&&l,m=d&&s&&!s.nodeType&&s,_=m&&m.exports===d&&f.process,y=function(){try{var x=m&&m.require&&m.require("util").types;return x||_&&_.binding&&_.binding("util")}catch{}}();s.exports=y},2333:s=>{var l=Object.prototype.toString;s.exports=function(u){return l.call(u)}},5569:s=>{s.exports=function(l,u){return function(f){return l(u(f))}}},5357:(s,l,u)=>{var f=u(6874),d=Math.max;s.exports=function(m,_,y){return _=d(_===void 0?m.length-1:_,0),function(){for(var x=arguments,M=-1,B=d(x.length-_,0),E=Array(B);++M<B;)E[M]=x[_+M];M=-1;for(var C=Array(_+1);++M<_;)C[M]=x[M];return C[_]=y(E),f(m,this,C)}}},5639:(s,l,u)=>{var f=u(1957),d=typeof self=="object"&&self&&self.Object===Object&&self,m=f||d||Function("return this")();s.exports=m},6390:s=>{s.exports=function(l,u){if((u!=="constructor"||typeof l[u]!="function")&&u!="__proto__")return l[u]}},61:(s,l,u)=>{var f=u(6560),d=u(1275)(f);s.exports=d},1275:s=>{var l=Date.now;s.exports=function(u){var f=0,d=0;return function(){var m=l(),_=16-(m-d);if(d=m,_>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(void 0,arguments)}}},7465:(s,l,u)=>{var f=u(8407);s.exports=function(){this.__data__=new f,this.size=0}},3779:s=>{s.exports=function(l){var u=this.__data__,f=u.delete(l);return this.size=u.size,f}},7599:s=>{s.exports=function(l){return this.__data__.get(l)}},4758:s=>{s.exports=function(l){return this.__data__.has(l)}},4309:(s,l,u)=>{var f=u(8407),d=u(7071),m=u(3369);s.exports=function(_,y){var x=this.__data__;if(x instanceof f){var M=x.__data__;if(!d||M.length<199)return M.push([_,y]),this.size=++x.size,this;x=this.__data__=new m(M)}return x.set(_,y),this.size=x.size,this}},5514:(s,l,u)=>{var f=u(4523),d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,_=f(function(y){var x=[];return y.charCodeAt(0)===46&&x.push(""),y.replace(d,function(M,B,E,C){x.push(E?C.replace(m,"$1"):B||M)}),x});s.exports=_},327:(s,l,u)=>{var f=u(3448);s.exports=function(d){if(typeof d=="string"||f(d))return d;var m=d+"";return m=="0"&&1/d==-1/0?"-0":m}},346:s=>{var l=Function.prototype.toString;s.exports=function(u){if(u!=null){try{return l.call(u)}catch{}try{return u+""}catch{}}return""}},5703:s=>{s.exports=function(l){return function(){return l}}},7813:s=>{s.exports=function(l,u){return l===u||l!=l&&u!=u}},7361:(s,l,u)=>{var f=u(7786);s.exports=function(d,m,_){var y=d==null?void 0:f(d,m);return y===void 0?_:y}},8721:(s,l,u)=>{var f=u(8565),d=u(222);s.exports=function(m,_){return m!=null&&d(m,_,f)}},6557:s=>{s.exports=function(l){return l}},5694:(s,l,u)=>{var f=u(9454),d=u(7005),m=Object.prototype,_=m.hasOwnProperty,y=m.propertyIsEnumerable,x=f(function(){return arguments}())?f:function(M){return d(M)&&_.call(M,"callee")&&!y.call(M,"callee")};s.exports=x},1469:s=>{var l=Array.isArray;s.exports=l},8612:(s,l,u)=>{var f=u(3560),d=u(1780);s.exports=function(m){return m!=null&&d(m.length)&&!f(m)}},9246:(s,l,u)=>{var f=u(8612),d=u(7005);s.exports=function(m){return d(m)&&f(m)}},4144:(s,l,u)=>{s=u.nmd(s);var f=u(5639),d=u(5062),m=l&&!l.nodeType&&l,_=m&&s&&!s.nodeType&&s,y=_&&_.exports===m?f.Buffer:void 0,x=(y?y.isBuffer:void 0)||d;s.exports=x},3560:(s,l,u)=>{var f=u(4239),d=u(3218);s.exports=function(m){if(!d(m))return!1;var _=f(m);return _=="[object Function]"||_=="[object GeneratorFunction]"||_=="[object AsyncFunction]"||_=="[object Proxy]"}},1780:s=>{s.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:s=>{s.exports=function(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}},7005:s=>{s.exports=function(l){return l!=null&&typeof l=="object"}},8630:(s,l,u)=>{var f=u(4239),d=u(5924),m=u(7005),_=Function.prototype,y=Object.prototype,x=_.toString,M=y.hasOwnProperty,B=x.call(Object);s.exports=function(E){if(!m(E)||f(E)!="[object Object]")return!1;var C=d(E);if(C===null)return!0;var F=M.call(C,"constructor")&&C.constructor;return typeof F=="function"&&F instanceof F&&x.call(F)==B}},3448:(s,l,u)=>{var f=u(4239),d=u(7005);s.exports=function(m){return typeof m=="symbol"||d(m)&&f(m)=="[object Symbol]"}},6719:(s,l,u)=>{var f=u(8749),d=u(1717),m=u(1167),_=m&&m.isTypedArray,y=_?d(_):f;s.exports=y},1704:(s,l,u)=>{var f=u(4636),d=u(313),m=u(8612);s.exports=function(_){return m(_)?f(_,!0):d(_)}},8306:(s,l,u)=>{var f=u(3369);function d(m,_){if(typeof m!="function"||_!=null&&typeof _!="function")throw new TypeError("Expected a function");var y=function(){var x=arguments,M=_?_.apply(this,x):x[0],B=y.cache;if(B.has(M))return B.get(M);var E=m.apply(this,x);return y.cache=B.set(M,E)||B,E};return y.cache=new(d.Cache||f),y}d.Cache=f,s.exports=d},2492:(s,l,u)=>{var f=u(2980),d=u(1463)(function(m,_,y){f(m,_,y)});s.exports=d},5062:s=>{s.exports=function(){return!1}},9881:(s,l,u)=>{var f=u(8363),d=u(1704);s.exports=function(m){return f(m,d(m))}},9833:(s,l,u)=>{var f=u(531);s.exports=function(d){return d==null?"":f(d)}},2676:function(s){s.exports=function(){function l(R,b){if(!(R instanceof b))throw new TypeError("Cannot call a class as a function")}function u(R,b){for(var w=0;w<b.length;w++){var T=b[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(R,T.key,T)}}function f(R,b,w){return b&&u(R.prototype,b),w&&u(R,w),R}var d=function(){function R(b,w){this.next=null,this.key=b,this.data=w,this.left=null,this.right=null}return R}();function m(R,b){return R>b?1:R<b?-1:0}function _(R,b,w){for(var T=new d(null,null),I=T,j=T;;){var Y=w(R,b.key);if(Y<0){if(b.left===null)break;if(w(R,b.left.key)<0){var tt=b.left;if(b.left=tt.right,tt.right=b,(b=tt).left===null)break}j.left=b,j=b,b=b.left}else{if(!(Y>0)||b.right===null||w(R,b.right.key)>0&&(tt=b.right,b.right=tt.left,tt.left=b,(b=tt).right===null))break;I.right=b,I=b,b=b.right}}return I.right=b.left,j.left=b.right,b.left=T.right,b.right=T.left,b}function y(R,b,w,T){var I=new d(R,b);if(w===null)return I.left=I.right=null,I;var j=T(R,(w=_(R,w,T)).key);return j<0?(I.left=w.left,I.right=w,w.left=null):j>=0&&(I.right=w.right,I.left=w,w.right=null),I}function x(R,b,w){var T=null,I=null;if(b){var j=w((b=_(R,b,w)).key,R);j===0?(T=b.left,I=b.right):j<0?(I=b.right,b.right=null,T=b):(T=b.left,b.left=null,I=b)}return{left:T,right:I}}function M(R,b,w){return b===null?R:(R===null||((b=_(R.key,b,w)).left=R),b)}function B(R,b,w,T,I){if(R){T(b+(w?"└── ":"├── ")+I(R)+`
`);var j=b+(w?"    ":"│   ");R.left&&B(R.left,j,!1,T,I),R.right&&B(R.right,j,!0,T,I)}}var E=function(){function R(b){b===void 0&&(b=m),this._root=null,this._size=0,this._comparator=b}return R.prototype.insert=function(b,w){return this._size++,this._root=y(b,w,this._root,this._comparator)},R.prototype.add=function(b,w){var T=new d(b,w);this._root===null&&(T.left=T.right=null,this._size++,this._root=T);var I=this._comparator,j=_(b,this._root,I),Y=I(b,j.key);return Y===0?this._root=j:(Y<0?(T.left=j.left,T.right=j,j.left=null):Y>0&&(T.right=j.right,T.left=j,j.right=null),this._size++,this._root=T),this._root},R.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},R.prototype._remove=function(b,w,T){var I;return w===null?null:T(b,(w=_(b,w,T)).key)===0?(w.left===null?I=w.right:(I=_(b,w.left,T)).right=w.right,this._size--,I):w},R.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=_(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},R.prototype.findStatic=function(b){for(var w=this._root,T=this._comparator;w;){var I=T(b,w.key);if(I===0)return w;w=I<0?w.left:w.right}return null},R.prototype.find=function(b){return this._root&&(this._root=_(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},R.prototype.contains=function(b){for(var w=this._root,T=this._comparator;w;){var I=T(b,w.key);if(I===0)return!0;w=I<0?w.left:w.right}return!1},R.prototype.forEach=function(b,w){for(var T=this._root,I=[],j=!1;!j;)T!==null?(I.push(T),T=T.left):I.length!==0?(T=I.pop(),b.call(w,T),T=T.right):j=!0;return this},R.prototype.range=function(b,w,T,I){for(var j=[],Y=this._comparator,tt=this._root;j.length!==0||tt;)if(tt)j.push(tt),tt=tt.left;else{if(Y((tt=j.pop()).key,w)>0)break;if(Y(tt.key,b)>=0&&T.call(I,tt))return this;tt=tt.right}return this},R.prototype.keys=function(){var b=[];return this.forEach(function(w){var T=w.key;return b.push(T)}),b},R.prototype.values=function(){var b=[];return this.forEach(function(w){var T=w.data;return b.push(T)}),b},R.prototype.min=function(){return this._root?this.minNode(this._root).key:null},R.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},R.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},R.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},R.prototype.at=function(b){for(var w=this._root,T=!1,I=0,j=[];!T;)if(w)j.push(w),w=w.left;else if(j.length>0){if(w=j.pop(),I===b)return w;I++,w=w.right}else T=!0;return null},R.prototype.next=function(b){var w=this._root,T=null;if(b.right){for(T=b.right;T.left;)T=T.left;return T}for(var I=this._comparator;w;){var j=I(b.key,w.key);if(j===0)break;j<0?(T=w,w=w.left):w=w.right}return T},R.prototype.prev=function(b){var w=this._root,T=null;if(b.left!==null){for(T=b.left;T.right;)T=T.right;return T}for(var I=this._comparator;w;){var j=I(b.key,w.key);if(j===0)break;j<0?w=w.left:(T=w,w=w.right)}return T},R.prototype.clear=function(){return this._root=null,this._size=0,this},R.prototype.toList=function(){return A(this._root)},R.prototype.load=function(b,w,T){w===void 0&&(w=[]),T===void 0&&(T=!1);var I=b.length,j=this._comparator;if(T&&S(b,w,0,I-1,j),this._root===null)this._root=C(b,w,0,I),this._size=I;else{var Y=Z(this.toList(),F(b,w),j);I=this._size+I,this._root=D({head:Y},0,I)}return this},R.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(R.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(R.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),R.prototype.toString=function(b){b===void 0&&(b=function(T){return String(T.key)});var w=[];return B(this._root,"",!0,function(T){return w.push(T)},b),w.join("")},R.prototype.update=function(b,w,T){var I=this._comparator,j=x(b,this._root,I),Y=j.left,tt=j.right;I(b,w)<0?tt=y(w,T,tt,I):Y=y(w,T,Y,I),this._root=M(Y,tt,I)},R.prototype.split=function(b){return x(b,this._root,this._comparator)},R}();function C(R,b,w,T){var I=T-w;if(I>0){var j=w+Math.floor(I/2),Y=R[j],tt=b[j],ft=new d(Y,tt);return ft.left=C(R,b,w,j),ft.right=C(R,b,j+1,T),ft}return null}function F(R,b){for(var w=new d(null,null),T=w,I=0;I<R.length;I++)T=T.next=new d(R[I],b[I]);return T.next=null,w.next}function A(R){for(var b=R,w=[],T=!1,I=new d(null,null),j=I;!T;)b?(w.push(b),b=b.left):w.length>0?b=(b=j=j.next=w.pop()).right:T=!0;return j.next=null,I.next}function D(R,b,w){var T=w-b;if(T>0){var I=b+Math.floor(T/2),j=D(R,b,I),Y=R.head;return Y.left=j,R.head=R.head.next,Y.right=D(R,I+1,w),Y}return null}function Z(R,b,w){for(var T=new d(null,null),I=T,j=R,Y=b;j!==null&&Y!==null;)w(j.key,Y.key)<0?(I.next=j,j=j.next):(I.next=Y,Y=Y.next),I=I.next;return j!==null?I.next=j:Y!==null&&(I.next=Y),T.next}function S(R,b,w,T,I){if(!(w>=T)){for(var j=R[w+T>>1],Y=w-1,tt=T+1;;){do Y++;while(I(R[Y],j)<0);do tt--;while(I(R[tt],j)>0);if(Y>=tt)break;var ft=R[Y];R[Y]=R[tt],R[tt]=ft,ft=b[Y],b[Y]=b[tt],b[tt]=ft}S(R,b,w,tt,I),S(R,b,tt+1,T,I)}}var N=function(R,b){return R.ll.x<=b.x&&b.x<=R.ur.x&&R.ll.y<=b.y&&b.y<=R.ur.y},q=function(R,b){if(b.ur.x<R.ll.x||R.ur.x<b.ll.x||b.ur.y<R.ll.y||R.ur.y<b.ll.y)return null;var w=R.ll.x<b.ll.x?b.ll.x:R.ll.x,T=R.ur.x<b.ur.x?R.ur.x:b.ur.x;return{ll:{x:w,y:R.ll.y<b.ll.y?b.ll.y:R.ll.y},ur:{x:T,y:R.ur.y<b.ur.y?R.ur.y:b.ur.y}}},Q=Number.EPSILON;Q===void 0&&(Q=Math.pow(2,-52));var et=Q*Q,rt=function(R,b){if(-Q<R&&R<Q&&-Q<b&&b<Q)return 0;var w=R-b;return w*w<et*R*b?0:R<b?-1:1},ut=function(){function R(){l(this,R),this.reset()}return f(R,[{key:"reset",value:function(){this.xRounder=new _t,this.yRounder=new _t}},{key:"round",value:function(b,w){return{x:this.xRounder.round(b),y:this.yRounder.round(w)}}}]),R}(),_t=function(){function R(){l(this,R),this.tree=new E,this.round(0)}return f(R,[{key:"round",value:function(b){var w=this.tree.add(b),T=this.tree.prev(w);if(T!==null&&rt(w.key,T.key)===0)return this.tree.remove(b),T.key;var I=this.tree.next(w);return I!==null&&rt(w.key,I.key)===0?(this.tree.remove(b),I.key):b}}]),R}(),it=new ut,gt=function(R,b){return R.x*b.y-R.y*b.x},Dt=function(R,b){return R.x*b.x+R.y*b.y},Pt=function(R,b,w){var T={x:b.x-R.x,y:b.y-R.y},I={x:w.x-R.x,y:w.y-R.y},j=gt(T,I);return rt(j,0)},Lt=function(R){return Math.sqrt(Dt(R,R))},jt=function(R,b,w){var T={x:b.x-R.x,y:b.y-R.y},I={x:w.x-R.x,y:w.y-R.y};return gt(I,T)/Lt(I)/Lt(T)},dt=function(R,b,w){var T={x:b.x-R.x,y:b.y-R.y},I={x:w.x-R.x,y:w.y-R.y};return Dt(I,T)/Lt(I)/Lt(T)},re=function(R,b,w){return b.y===0?null:{x:R.x+b.x/b.y*(w-R.y),y:w}},Ot=function(R,b,w){return b.x===0?null:{x:w,y:R.y+b.y/b.x*(w-R.x)}},Ct=function(R,b,w,T){if(b.x===0)return Ot(w,T,R.x);if(T.x===0)return Ot(R,b,w.x);if(b.y===0)return re(w,T,R.y);if(T.y===0)return re(R,b,w.y);var I=gt(b,T);if(I==0)return null;var j={x:w.x-R.x,y:w.y-R.y},Y=gt(j,b)/I,tt=gt(j,T)/I;return{x:(R.x+tt*b.x+(w.x+Y*T.x))/2,y:(R.y+tt*b.y+(w.y+Y*T.y))/2}},Ut=function(){function R(b,w){l(this,R),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=w}return f(R,null,[{key:"compare",value:function(b,w){var T=R.comparePoints(b.point,w.point);return T!==0?T:(b.point!==w.point&&b.link(w),b.isLeft!==w.isLeft?b.isLeft?1:-1:oe.compare(b.segment,w.segment))}},{key:"comparePoints",value:function(b,w){return b.x<w.x?-1:b.x>w.x?1:b.y<w.y?-1:b.y>w.y?1:0}}]),f(R,[{key:"link",value:function(b){if(b.point===this.point)throw new Error("Tried to link already linked events");for(var w=b.point.events,T=0,I=w.length;T<I;T++){var j=w[T];this.point.events.push(j),j.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var b=this.point.events.length,w=0;w<b;w++){var T=this.point.events[w];if(T.segment.consumedBy===void 0)for(var I=w+1;I<b;I++){var j=this.point.events[I];j.consumedBy===void 0&&T.otherSE.point.events===j.otherSE.point.events&&T.segment.consume(j.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var b=[],w=0,T=this.point.events.length;w<T;w++){var I=this.point.events[w];I!==this&&!I.segment.ringOut&&I.segment.isInResult()&&b.push(I)}return b}},{key:"getLeftmostComparator",value:function(b){var w=this,T=new Map,I=function(j){var Y=j.otherSE;T.set(j,{sine:jt(w.point,b.point,Y.point),cosine:dt(w.point,b.point,Y.point)})};return function(j,Y){T.has(j)||I(j),T.has(Y)||I(Y);var tt=T.get(j),ft=tt.sine,kt=tt.cosine,It=T.get(Y),Ht=It.sine,qt=It.cosine;return ft>=0&&Ht>=0?kt<qt?1:kt>qt?-1:0:ft<0&&Ht<0?kt<qt?-1:kt>qt?1:0:Ht<ft?-1:Ht>ft?1:0}}}]),R}(),ge=0,oe=function(){function R(b,w,T,I){l(this,R),this.id=++ge,this.leftSE=b,b.segment=this,b.otherSE=w,this.rightSE=w,w.segment=this,w.otherSE=b,this.rings=T,this.windings=I}return f(R,null,[{key:"compare",value:function(b,w){var T=b.leftSE.point.x,I=w.leftSE.point.x,j=b.rightSE.point.x,Y=w.rightSE.point.x;if(Y<T)return 1;if(j<I)return-1;var tt=b.leftSE.point.y,ft=w.leftSE.point.y,kt=b.rightSE.point.y,It=w.rightSE.point.y;if(T<I){if(ft<tt&&ft<kt)return 1;if(ft>tt&&ft>kt)return-1;var Ht=b.comparePoint(w.leftSE.point);if(Ht<0)return 1;if(Ht>0)return-1;var qt=w.comparePoint(b.rightSE.point);return qt!==0?qt:-1}if(T>I){if(tt<ft&&tt<It)return-1;if(tt>ft&&tt>It)return 1;var ce=w.comparePoint(b.leftSE.point);if(ce!==0)return ce;var Kt=b.comparePoint(w.rightSE.point);return Kt<0?1:Kt>0?-1:1}if(tt<ft)return-1;if(tt>ft)return 1;if(j<Y){var ue=w.comparePoint(b.rightSE.point);if(ue!==0)return ue}if(j>Y){var ne=b.comparePoint(w.rightSE.point);if(ne<0)return 1;if(ne>0)return-1}if(j!==Y){var he=kt-tt,Pe=j-T,Ge=It-ft,Ze=Y-I;if(he>Pe&&Ge<Ze)return 1;if(he<Pe&&Ge>Ze)return-1}return j>Y?1:j<Y||kt<It?-1:kt>It?1:b.id<w.id?-1:b.id>w.id?1:0}}]),f(R,[{key:"replaceRightSE",value:function(b){this.rightSE=b,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var b=this.leftSE.point.y,w=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:b<w?b:w},ur:{x:this.rightSE.point.x,y:b>w?b:w}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(b){return b.x===this.leftSE.point.x&&b.y===this.leftSE.point.y||b.x===this.rightSE.point.x&&b.y===this.rightSE.point.y}},{key:"comparePoint",value:function(b){if(this.isAnEndpoint(b))return 0;var w=this.leftSE.point,T=this.rightSE.point,I=this.vector();if(w.x===T.x)return b.x===w.x?0:b.x<w.x?1:-1;var j=(b.y-w.y)/I.y,Y=w.x+j*I.x;if(b.x===Y)return 0;var tt=(b.x-w.x)/I.x,ft=w.y+tt*I.y;return b.y===ft?0:b.y<ft?-1:1}},{key:"getIntersection",value:function(b){var w=this.bbox(),T=b.bbox(),I=q(w,T);if(I===null)return null;var j=this.leftSE.point,Y=this.rightSE.point,tt=b.leftSE.point,ft=b.rightSE.point,kt=N(w,tt)&&this.comparePoint(tt)===0,It=N(T,j)&&b.comparePoint(j)===0,Ht=N(w,ft)&&this.comparePoint(ft)===0,qt=N(T,Y)&&b.comparePoint(Y)===0;if(It&&kt)return qt&&!Ht?Y:!qt&&Ht?ft:null;if(It)return Ht&&j.x===ft.x&&j.y===ft.y?null:j;if(kt)return qt&&Y.x===tt.x&&Y.y===tt.y?null:tt;if(qt&&Ht)return null;if(qt)return Y;if(Ht)return ft;var ce=Ct(j,this.vector(),tt,b.vector());return ce===null?null:N(I,ce)?it.round(ce.x,ce.y):null}},{key:"split",value:function(b){var w=[],T=b.events!==void 0,I=new Ut(b,!0),j=new Ut(b,!1),Y=this.rightSE;this.replaceRightSE(j),w.push(j),w.push(I);var tt=new R(I,Y,this.rings.slice(),this.windings.slice());return Ut.comparePoints(tt.leftSE.point,tt.rightSE.point)>0&&tt.swapEvents(),Ut.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),T&&(I.checkForConsuming(),j.checkForConsuming()),w}},{key:"swapEvents",value:function(){var b=this.rightSE;this.rightSE=this.leftSE,this.leftSE=b,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var w=0,T=this.windings.length;w<T;w++)this.windings[w]*=-1}},{key:"consume",value:function(b){for(var w=this,T=b;w.consumedBy;)w=w.consumedBy;for(;T.consumedBy;)T=T.consumedBy;var I=R.compare(w,T);if(I!==0){if(I>0){var j=w;w=T,T=j}if(w.prev===T){var Y=w;w=T,T=Y}for(var tt=0,ft=T.rings.length;tt<ft;tt++){var kt=T.rings[tt],It=T.windings[tt],Ht=w.rings.indexOf(kt);Ht===-1?(w.rings.push(kt),w.windings.push(It)):w.windings[Ht]+=It}T.rings=null,T.windings=null,T.consumedBy=w,T.leftSE.consumedBy=w.leftSE,T.rightSE.consumedBy=w.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var b=this.prev.consumedBy||this.prev;this._beforeState=b.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var b=this.beforeState();this._afterState={rings:b.rings.slice(0),windings:b.windings.slice(0),multiPolys:[]};for(var w=this._afterState.rings,T=this._afterState.windings,I=this._afterState.multiPolys,j=0,Y=this.rings.length;j<Y;j++){var tt=this.rings[j],ft=this.windings[j],kt=w.indexOf(tt);kt===-1?(w.push(tt),T.push(ft)):T[kt]+=ft}for(var It=[],Ht=[],qt=0,ce=w.length;qt<ce;qt++)if(T[qt]!==0){var Kt=w[qt],ue=Kt.poly;if(Ht.indexOf(ue)===-1)if(Kt.isExterior)It.push(ue);else{Ht.indexOf(ue)===-1&&Ht.push(ue);var ne=It.indexOf(Kt.poly);ne!==-1&&It.splice(ne,1)}}for(var he=0,Pe=It.length;he<Pe;he++){var Ge=It[he].multiPoly;I.indexOf(Ge)===-1&&I.push(Ge)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var b=this.beforeState().multiPolys,w=this.afterState().multiPolys;switch(W.type){case"union":var T=b.length===0,I=w.length===0;this._isInResult=T!==I;break;case"intersection":var j,Y;b.length<w.length?(j=b.length,Y=w.length):(j=w.length,Y=b.length),this._isInResult=Y===W.numMultiPolys&&j<Y;break;case"xor":var tt=Math.abs(b.length-w.length);this._isInResult=tt%2==1;break;case"difference":var ft=function(kt){return kt.length===1&&kt[0].isSubject};this._isInResult=ft(b)!==ft(w);break;default:throw new Error("Unrecognized operation type found ".concat(W.type))}return this._isInResult}}],[{key:"fromRing",value:function(b,w,T){var I,j,Y,tt=Ut.comparePoints(b,w);if(tt<0)I=b,j=w,Y=1;else{if(!(tt>0))throw new Error("Tried to create degenerate segment at [".concat(b.x,", ").concat(b.y,"]"));I=w,j=b,Y=-1}return new R(new Ut(I,!0),new Ut(j,!1),[T],[Y])}}]),R}(),Qt=function(){function R(b,w,T){if(l(this,R),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=w,this.isExterior=T,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var I=it.round(b[0][0],b[0][1]);this.bbox={ll:{x:I.x,y:I.y},ur:{x:I.x,y:I.y}};for(var j=I,Y=1,tt=b.length;Y<tt;Y++){if(typeof b[Y][0]!="number"||typeof b[Y][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ft=it.round(b[Y][0],b[Y][1]);ft.x===j.x&&ft.y===j.y||(this.segments.push(oe.fromRing(j,ft,this)),ft.x<this.bbox.ll.x&&(this.bbox.ll.x=ft.x),ft.y<this.bbox.ll.y&&(this.bbox.ll.y=ft.y),ft.x>this.bbox.ur.x&&(this.bbox.ur.x=ft.x),ft.y>this.bbox.ur.y&&(this.bbox.ur.y=ft.y),j=ft)}I.x===j.x&&I.y===j.y||this.segments.push(oe.fromRing(j,I,this))}return f(R,[{key:"getSweepEvents",value:function(){for(var b=[],w=0,T=this.segments.length;w<T;w++){var I=this.segments[w];b.push(I.leftSE),b.push(I.rightSE)}return b}}]),R}(),Bt=function(){function R(b,w){if(l(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Qt(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var T=1,I=b.length;T<I;T++){var j=new Qt(b[T],this,!1);j.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=j.bbox.ll.x),j.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=j.bbox.ll.y),j.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=j.bbox.ur.x),j.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=j.bbox.ur.y),this.interiorRings.push(j)}this.multiPoly=w}return f(R,[{key:"getSweepEvents",value:function(){for(var b=this.exteriorRing.getSweepEvents(),w=0,T=this.interiorRings.length;w<T;w++)for(var I=this.interiorRings[w].getSweepEvents(),j=0,Y=I.length;j<Y;j++)b.push(I[j]);return b}}]),R}(),at=function(){function R(b,w){if(l(this,R),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var T=0,I=b.length;T<I;T++){var j=new Bt(b[T],this);j.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=j.bbox.ll.x),j.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=j.bbox.ll.y),j.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=j.bbox.ur.x),j.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=j.bbox.ur.y),this.polys.push(j)}this.isSubject=w}return f(R,[{key:"getSweepEvents",value:function(){for(var b=[],w=0,T=this.polys.length;w<T;w++)for(var I=this.polys[w].getSweepEvents(),j=0,Y=I.length;j<Y;j++)b.push(I[j]);return b}}]),R}(),vt=function(){function R(b){l(this,R),this.events=b;for(var w=0,T=b.length;w<T;w++)b[w].segment.ringOut=this;this.poly=null}return f(R,null,[{key:"factory",value:function(b){for(var w=[],T=0,I=b.length;T<I;T++){var j=b[T];if(j.isInResult()&&!j.ringOut){for(var Y=null,tt=j.leftSE,ft=j.rightSE,kt=[tt],It=tt.point,Ht=[];Y=tt,tt=ft,kt.push(tt),tt.point!==It;)for(;;){var qt=tt.getAvailableLinkedEvents();if(qt.length===0){var ce=kt[0].point,Kt=kt[kt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ce.x,",")+" ".concat(ce.y,"]. Last matching segment found ends at")+" [".concat(Kt.x,", ").concat(Kt.y,"]."))}if(qt.length===1){ft=qt[0].otherSE;break}for(var ue=null,ne=0,he=Ht.length;ne<he;ne++)if(Ht[ne].point===tt.point){ue=ne;break}if(ue===null){Ht.push({index:kt.length,point:tt.point});var Pe=tt.getLeftmostComparator(Y);ft=qt.sort(Pe)[0].otherSE;break}var Ge=Ht.splice(ue)[0],Ze=kt.splice(Ge.index);Ze.unshift(Ze[0].otherSE),w.push(new R(Ze.reverse()))}w.push(new R(kt))}}return w}}]),f(R,[{key:"getGeom",value:function(){for(var b=this.events[0].point,w=[b],T=1,I=this.events.length-1;T<I;T++){var j=this.events[T].point,Y=this.events[T+1].point;Pt(j,b,Y)!==0&&(w.push(j),b=j)}if(w.length===1)return null;var tt=w[0],ft=w[1];Pt(tt,b,ft)===0&&w.shift(),w.push(w[0]);for(var kt=this.isExteriorRing()?1:-1,It=this.isExteriorRing()?0:w.length-1,Ht=this.isExteriorRing()?w.length:-1,qt=[],ce=It;ce!=Ht;ce+=kt)qt.push([w[ce].x,w[ce].y]);return qt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var b=this.enclosingRing();this._isExteriorRing=!b||!b.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var b=this.events[0],w=1,T=this.events.length;w<T;w++){var I=this.events[w];Ut.compare(b,I)>0&&(b=I)}for(var j=b.segment.prevInResult(),Y=j?j.prevInResult():null;;){if(!j)return null;if(!Y)return j.ringOut;if(Y.ringOut!==j.ringOut)return Y.ringOut.enclosingRing()!==j.ringOut?j.ringOut:j.ringOut.enclosingRing();j=Y.prevInResult(),Y=j?j.prevInResult():null}}}]),R}(),bt=function(){function R(b){l(this,R),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return f(R,[{key:"addInterior",value:function(b){this.interiorRings.push(b),b.poly=this}},{key:"getGeom",value:function(){var b=[this.exteriorRing.getGeom()];if(b[0]===null)return null;for(var w=0,T=this.interiorRings.length;w<T;w++){var I=this.interiorRings[w].getGeom();I!==null&&b.push(I)}return b}}]),R}(),Rt=function(){function R(b){l(this,R),this.rings=b,this.polys=this._composePolys(b)}return f(R,[{key:"getGeom",value:function(){for(var b=[],w=0,T=this.polys.length;w<T;w++){var I=this.polys[w].getGeom();I!==null&&b.push(I)}return b}},{key:"_composePolys",value:function(b){for(var w=[],T=0,I=b.length;T<I;T++){var j=b[T];if(!j.poly)if(j.isExteriorRing())w.push(new bt(j));else{var Y=j.enclosingRing();Y.poly||w.push(new bt(Y)),Y.poly.addInterior(j)}}return w}}]),R}(),te=function(){function R(b){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe.compare;l(this,R),this.queue=b,this.tree=new E(w),this.segments=[]}return f(R,[{key:"process",value:function(b){var w=b.segment,T=[];if(b.consumedBy)return b.isLeft?this.queue.remove(b.otherSE):this.tree.remove(w),T;var I=b.isLeft?this.tree.insert(w):this.tree.find(w);if(!I)throw new Error("Unable to find segment #".concat(w.id," ")+"[".concat(w.leftSE.point.x,", ").concat(w.leftSE.point.y,"] -> ")+"[".concat(w.rightSE.point.x,", ").concat(w.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var j=I,Y=I,tt=void 0,ft=void 0;tt===void 0;)(j=this.tree.prev(j))===null?tt=null:j.key.consumedBy===void 0&&(tt=j.key);for(;ft===void 0;)(Y=this.tree.next(Y))===null?ft=null:Y.key.consumedBy===void 0&&(ft=Y.key);if(b.isLeft){var kt=null;if(tt){var It=tt.getIntersection(w);if(It!==null&&(w.isAnEndpoint(It)||(kt=It),!tt.isAnEndpoint(It)))for(var Ht=this._splitSafely(tt,It),qt=0,ce=Ht.length;qt<ce;qt++)T.push(Ht[qt])}var Kt=null;if(ft){var ue=ft.getIntersection(w);if(ue!==null&&(w.isAnEndpoint(ue)||(Kt=ue),!ft.isAnEndpoint(ue)))for(var ne=this._splitSafely(ft,ue),he=0,Pe=ne.length;he<Pe;he++)T.push(ne[he])}if(kt!==null||Kt!==null){var Ge=null;Ge=kt===null?Kt:Kt===null||Ut.comparePoints(kt,Kt)<=0?kt:Kt,this.queue.remove(w.rightSE),T.push(w.rightSE);for(var Ze=w.split(Ge),ln=0,on=Ze.length;ln<on;ln++)T.push(Ze[ln])}T.length>0?(this.tree.remove(w),T.push(b)):(this.segments.push(w),w.prev=tt)}else{if(tt&&ft){var Ke=tt.getIntersection(ft);if(Ke!==null){if(!tt.isAnEndpoint(Ke))for(var sn=this._splitSafely(tt,Ke),gn=0,Fn=sn.length;gn<Fn;gn++)T.push(sn[gn]);if(!ft.isAnEndpoint(Ke))for(var He=this._splitSafely(ft,Ke),ze=0,Pn=He.length;ze<Pn;ze++)T.push(He[ze])}}this.tree.remove(w)}return T}},{key:"_splitSafely",value:function(b,w){this.tree.remove(b);var T=b.rightSE;this.queue.remove(T);var I=b.split(w);return I.push(T),b.consumedBy===void 0&&this.tree.insert(b),I}}]),R}(),U=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,K=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new(function(){function R(){l(this,R)}return f(R,[{key:"run",value:function(b,w,T){W.type=b,it.reset();for(var I=[new at(w,!0)],j=0,Y=T.length;j<Y;j++)I.push(new at(T[j],!1));if(W.numMultiPolys=I.length,W.type==="difference")for(var tt=I[0],ft=1;ft<I.length;)q(I[ft].bbox,tt.bbox)!==null?ft++:I.splice(ft,1);if(W.type==="intersection"){for(var kt=0,It=I.length;kt<It;kt++)for(var Ht=I[kt],qt=kt+1,ce=I.length;qt<ce;qt++)if(q(Ht.bbox,I[qt].bbox)===null)return[]}for(var Kt=new E(Ut.compare),ue=0,ne=I.length;ue<ne;ue++)for(var he=I[ue].getSweepEvents(),Pe=0,Ge=he.length;Pe<Ge;Pe++)if(Kt.insert(he[Pe]),Kt.size>U)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ze=new te(Kt),ln=Kt.size,on=Kt.pop();on;){var Ke=on.key;if(Kt.size===ln){var sn=Ke.segment;throw new Error("Unable to pop() ".concat(Ke.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ke.point.x,", ").concat(Ke.point.y,"] from segment #").concat(sn.id," ")+"[".concat(sn.leftSE.point.x,", ").concat(sn.leftSE.point.y,"] -> ")+"[".concat(sn.rightSE.point.x,", ").concat(sn.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Kt.size>U)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ze.segments.length>K)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var gn=Ze.process(Ke),Fn=0,He=gn.length;Fn<He;Fn++){var ze=gn[Fn];ze.consumedBy===void 0&&Kt.insert(ze)}ln=Kt.size,on=Kt.pop()}it.reset();var Pn=vt.factory(Ze.segments);return new Rt(Pn).getGeom()}}]),R}()),st=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];return W.run("union",R,w)},ct=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];return W.run("intersection",R,w)},pt=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];return W.run("xor",R,w)},wt=function(R){for(var b=arguments.length,w=new Array(b>1?b-1:0),T=1;T<b;T++)w[T-1]=arguments[T];return W.run("difference",R,w)};return{union:st,intersection:ct,xor:pt,difference:wt}}()},2582:function(s){s.exports=function(){function l(S,N,q,Q,et){(function rt(ut,_t,it,gt,Dt){for(;gt>it;){if(gt-it>600){var Pt=gt-it+1,Lt=_t-it+1,jt=Math.log(Pt),dt=.5*Math.exp(2*jt/3),re=.5*Math.sqrt(jt*dt*(Pt-dt)/Pt)*(Lt-Pt/2<0?-1:1);rt(ut,_t,Math.max(it,Math.floor(_t-Lt*dt/Pt+re)),Math.min(gt,Math.floor(_t+(Pt-Lt)*dt/Pt+re)),Dt)}var Ot=ut[_t],Ct=it,Ut=gt;for(u(ut,it,_t),Dt(ut[gt],Ot)>0&&u(ut,it,gt);Ct<Ut;){for(u(ut,Ct,Ut),Ct++,Ut--;Dt(ut[Ct],Ot)<0;)Ct++;for(;Dt(ut[Ut],Ot)>0;)Ut--}Dt(ut[it],Ot)===0?u(ut,it,Ut):u(ut,++Ut,gt),Ut<=_t&&(it=Ut+1),_t<=Ut&&(gt=Ut-1)}})(S,N,q||0,Q||S.length-1,et||f)}function u(S,N,q){var Q=S[N];S[N]=S[q],S[q]=Q}function f(S,N){return S<N?-1:S>N?1:0}var d=function(S){S===void 0&&(S=9),this._maxEntries=Math.max(4,S),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function m(S,N,q){if(!q)return N.indexOf(S);for(var Q=0;Q<N.length;Q++)if(q(S,N[Q]))return Q;return-1}function _(S,N){y(S,0,S.children.length,N,S)}function y(S,N,q,Q,et){et||(et=D(null)),et.minX=1/0,et.minY=1/0,et.maxX=-1/0,et.maxY=-1/0;for(var rt=N;rt<q;rt++){var ut=S.children[rt];x(et,S.leaf?Q(ut):ut)}return et}function x(S,N){return S.minX=Math.min(S.minX,N.minX),S.minY=Math.min(S.minY,N.minY),S.maxX=Math.max(S.maxX,N.maxX),S.maxY=Math.max(S.maxY,N.maxY),S}function M(S,N){return S.minX-N.minX}function B(S,N){return S.minY-N.minY}function E(S){return(S.maxX-S.minX)*(S.maxY-S.minY)}function C(S){return S.maxX-S.minX+(S.maxY-S.minY)}function F(S,N){return S.minX<=N.minX&&S.minY<=N.minY&&N.maxX<=S.maxX&&N.maxY<=S.maxY}function A(S,N){return N.minX<=S.maxX&&N.minY<=S.maxY&&N.maxX>=S.minX&&N.maxY>=S.minY}function D(S){return{children:S,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Z(S,N,q,Q,et){for(var rt=[N,q];rt.length;)if(!((q=rt.pop())-(N=rt.pop())<=Q)){var ut=N+Math.ceil((q-N)/Q/2)*Q;l(S,ut,N,q,et),rt.push(N,ut,ut,q)}}return d.prototype.all=function(){return this._all(this.data,[])},d.prototype.search=function(S){var N=this.data,q=[];if(!A(S,N))return q;for(var Q=this.toBBox,et=[];N;){for(var rt=0;rt<N.children.length;rt++){var ut=N.children[rt],_t=N.leaf?Q(ut):ut;A(S,_t)&&(N.leaf?q.push(ut):F(S,_t)?this._all(ut,q):et.push(ut))}N=et.pop()}return q},d.prototype.collides=function(S){var N=this.data;if(!A(S,N))return!1;for(var q=[];N;){for(var Q=0;Q<N.children.length;Q++){var et=N.children[Q],rt=N.leaf?this.toBBox(et):et;if(A(S,rt)){if(N.leaf||F(S,rt))return!0;q.push(et)}}N=q.pop()}return!1},d.prototype.load=function(S){if(!S||!S.length)return this;if(S.length<this._minEntries){for(var N=0;N<S.length;N++)this.insert(S[N]);return this}var q=this._build(S.slice(),0,S.length-1,0);if(this.data.children.length)if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){var Q=this.data;this.data=q,q=Q}this._insert(q,this.data.height-q.height-1,!0)}else this.data=q;return this},d.prototype.insert=function(S){return S&&this._insert(S,this.data.height-1),this},d.prototype.clear=function(){return this.data=D([]),this},d.prototype.remove=function(S,N){if(!S)return this;for(var q,Q,et,rt=this.data,ut=this.toBBox(S),_t=[],it=[];rt||_t.length;){if(rt||(rt=_t.pop(),Q=_t[_t.length-1],q=it.pop(),et=!0),rt.leaf){var gt=m(S,rt.children,N);if(gt!==-1)return rt.children.splice(gt,1),_t.push(rt),this._condense(_t),this}et||rt.leaf||!F(rt,ut)?Q?(q++,rt=Q.children[q],et=!1):rt=null:(_t.push(rt),it.push(q),q=0,Q=rt,rt=rt.children[0])}return this},d.prototype.toBBox=function(S){return S},d.prototype.compareMinX=function(S,N){return S.minX-N.minX},d.prototype.compareMinY=function(S,N){return S.minY-N.minY},d.prototype.toJSON=function(){return this.data},d.prototype.fromJSON=function(S){return this.data=S,this},d.prototype._all=function(S,N){for(var q=[];S;)S.leaf?N.push.apply(N,S.children):q.push.apply(q,S.children),S=q.pop();return N},d.prototype._build=function(S,N,q,Q){var et,rt=q-N+1,ut=this._maxEntries;if(rt<=ut)return _(et=D(S.slice(N,q+1)),this.toBBox),et;Q||(Q=Math.ceil(Math.log(rt)/Math.log(ut)),ut=Math.ceil(rt/Math.pow(ut,Q-1))),(et=D([])).leaf=!1,et.height=Q;var _t=Math.ceil(rt/ut),it=_t*Math.ceil(Math.sqrt(ut));Z(S,N,q,it,this.compareMinX);for(var gt=N;gt<=q;gt+=it){var Dt=Math.min(gt+it-1,q);Z(S,gt,Dt,_t,this.compareMinY);for(var Pt=gt;Pt<=Dt;Pt+=_t){var Lt=Math.min(Pt+_t-1,Dt);et.children.push(this._build(S,Pt,Lt,Q-1))}}return _(et,this.toBBox),et},d.prototype._chooseSubtree=function(S,N,q,Q){for(;Q.push(N),!N.leaf&&Q.length-1!==q;){for(var et=1/0,rt=1/0,ut=void 0,_t=0;_t<N.children.length;_t++){var it=N.children[_t],gt=E(it),Dt=(Pt=S,Lt=it,(Math.max(Lt.maxX,Pt.maxX)-Math.min(Lt.minX,Pt.minX))*(Math.max(Lt.maxY,Pt.maxY)-Math.min(Lt.minY,Pt.minY))-gt);Dt<rt?(rt=Dt,et=gt<et?gt:et,ut=it):Dt===rt&&gt<et&&(et=gt,ut=it)}N=ut||N.children[0]}var Pt,Lt;return N},d.prototype._insert=function(S,N,q){var Q=q?S:this.toBBox(S),et=[],rt=this._chooseSubtree(Q,this.data,N,et);for(rt.children.push(S),x(rt,Q);N>=0&&et[N].children.length>this._maxEntries;)this._split(et,N),N--;this._adjustParentBBoxes(Q,et,N)},d.prototype._split=function(S,N){var q=S[N],Q=q.children.length,et=this._minEntries;this._chooseSplitAxis(q,et,Q);var rt=this._chooseSplitIndex(q,et,Q),ut=D(q.children.splice(rt,q.children.length-rt));ut.height=q.height,ut.leaf=q.leaf,_(q,this.toBBox),_(ut,this.toBBox),N?S[N-1].children.push(ut):this._splitRoot(q,ut)},d.prototype._splitRoot=function(S,N){this.data=D([S,N]),this.data.height=S.height+1,this.data.leaf=!1,_(this.data,this.toBBox)},d.prototype._chooseSplitIndex=function(S,N,q){for(var Q,et,rt,ut,_t,it,gt,Dt=1/0,Pt=1/0,Lt=N;Lt<=q-N;Lt++){var jt=y(S,0,Lt,this.toBBox),dt=y(S,Lt,q,this.toBBox),re=(et=jt,rt=dt,ut=void 0,_t=void 0,it=void 0,gt=void 0,ut=Math.max(et.minX,rt.minX),_t=Math.max(et.minY,rt.minY),it=Math.min(et.maxX,rt.maxX),gt=Math.min(et.maxY,rt.maxY),Math.max(0,it-ut)*Math.max(0,gt-_t)),Ot=E(jt)+E(dt);re<Dt?(Dt=re,Q=Lt,Pt=Ot<Pt?Ot:Pt):re===Dt&&Ot<Pt&&(Pt=Ot,Q=Lt)}return Q||q-N},d.prototype._chooseSplitAxis=function(S,N,q){var Q=S.leaf?this.compareMinX:M,et=S.leaf?this.compareMinY:B;this._allDistMargin(S,N,q,Q)<this._allDistMargin(S,N,q,et)&&S.children.sort(Q)},d.prototype._allDistMargin=function(S,N,q,Q){S.children.sort(Q);for(var et=this.toBBox,rt=y(S,0,N,et),ut=y(S,q-N,q,et),_t=C(rt)+C(ut),it=N;it<q-N;it++){var gt=S.children[it];x(rt,S.leaf?et(gt):gt),_t+=C(rt)}for(var Dt=q-N-1;Dt>=N;Dt--){var Pt=S.children[Dt];x(ut,S.leaf?et(Pt):Pt),_t+=C(ut)}return _t},d.prototype._adjustParentBBoxes=function(S,N,q){for(var Q=q;Q>=0;Q--)x(N[Q],S)},d.prototype._condense=function(S){for(var N=S.length-1,q=void 0;N>=0;N--)S[N].children.length===0?N>0?(q=S[N-1].children).splice(q.indexOf(S[N]),1):this.clear():_(S[N],this.toBBox)},d}()}},n={};function o(s){var l=n[s];if(l!==void 0)return l.exports;var u=n[s]={id:s,loaded:!1,exports:{}};return e[s].call(u.exports,u,u.exports,o),u.loaded=!0,u.exports}o.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return o.d(l,{a:l}),l},o.d=(s,l)=>{for(var u in l)o.o(l,u)&&!o.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),o.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),o(5975)})();const xl=Um(Hv);xl.use(Zm());xl.use(gf);(async()=>{try{await pe.init()}catch{}xl.mount("#app")})();
