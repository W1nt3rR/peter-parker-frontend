var Bf=Object.defineProperty;var Df=(e,i,s)=>i in e?Bf(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var ln=(e,i,s)=>(Df(e,typeof i!="symbol"?i+"":i,s),s);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Da(e,i){const s=Object.create(null),a=e.split(",");for(let l=0;l<a.length;l++)s[a[l]]=!0;return i?l=>!!s[l.toLowerCase()]:l=>!!s[l]}const ye={},ar=[],vn=()=>{},If=()=>!1,Nf=/^on[^a-z]/,rs=e=>Nf.test(e),Ia=e=>e.startsWith("onUpdate:"),Me=Object.assign,Na=(e,i)=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)},zf=Object.prototype.hasOwnProperty,oe=(e,i)=>zf.call(e,i),Nt=Array.isArray,lr=e=>os(e)==="[object Map]",oh=e=>os(e)==="[object Set]",Wt=e=>typeof e=="function",Ee=e=>typeof e=="string",za=e=>typeof e=="symbol",be=e=>e!==null&&typeof e=="object",sh=e=>be(e)&&Wt(e.then)&&Wt(e.catch),ah=Object.prototype.toString,os=e=>ah.call(e),jf=e=>os(e).slice(8,-1),lh=e=>os(e)==="[object Object]",ja=e=>Ee(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zo=Da(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ss=e=>{const i=Object.create(null);return s=>i[s]||(i[s]=e(s))},Ff=/-(\w)/g,An=ss(e=>e.replace(Ff,(i,s)=>s?s.toUpperCase():"")),Uf=/\B([A-Z])/g,_r=ss(e=>e.replace(Uf,"-$1").toLowerCase()),as=ss(e=>e.charAt(0).toUpperCase()+e.slice(1)),qs=ss(e=>e?`on${as(e)}`:""),Yr=(e,i)=>!Object.is(e,i),jo=(e,i)=>{for(let s=0;s<e.length;s++)e[s](i)},Ko=(e,i,s)=>{Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value:s})},la=e=>{const i=parseFloat(e);return isNaN(i)?e:i},Gf=e=>{const i=Ee(e)?Number(e):NaN;return isNaN(i)?e:i};let Kl;const ua=()=>Kl||(Kl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fa(e){if(Nt(e)){const i={};for(let s=0;s<e.length;s++){const a=e[s],l=Ee(a)?Kf(a):Fa(a);if(l)for(const u in l)i[u]=l[u]}return i}else{if(Ee(e))return e;if(be(e))return e}}const Zf=/;(?![^(]*\))/g,Vf=/:([^]+)/,Hf=/\/\*[^]*?\*\//g;function Kf(e){const i={};return e.replace(Hf,"").split(Zf).forEach(s=>{if(s){const a=s.split(Vf);a.length>1&&(i[a[0].trim()]=a[1].trim())}}),i}function Ui(e){let i="";if(Ee(e))i=e;else if(Nt(e))for(let s=0;s<e.length;s++){const a=Ui(e[s]);a&&(i+=a+" ")}else if(be(e))for(const s in e)e[s]&&(i+=s+" ");return i.trim()}const qf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$f=Da(qf);function uh(e){return!!e||e===""}const qn=e=>Ee(e)?e:e==null?"":Nt(e)||be(e)&&(e.toString===ah||!Wt(e.toString))?JSON.stringify(e,hh,2):String(e),hh=(e,i)=>i&&i.__v_isRef?hh(e,i.value):lr(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((s,[a,l])=>(s[`${a} =>`]=l,s),{})}:oh(i)?{[`Set(${i.size})`]:[...i.values()]}:be(i)&&!Nt(i)&&!lh(i)?String(i):i;let tn;class ch{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=tn,!i&&tn&&(this.index=(tn.scopes||(tn.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const s=tn;try{return tn=this,i()}finally{tn=s}}}on(){tn=this}off(){tn=this.parent}stop(i){if(this._active){let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.scopes)for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!i){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function fh(e){return new ch(e)}function Wf(e,i=tn){i&&i.active&&i.effects.push(e)}function dh(){return tn}function Jf(e){tn&&tn.cleanups.push(e)}const Ua=e=>{const i=new Set(e);return i.w=0,i.n=0,i},ph=e=>(e.w&mi)>0,_h=e=>(e.n&mi)>0,Yf=({deps:e})=>{if(e.length)for(let i=0;i<e.length;i++)e[i].w|=mi},Xf=e=>{const{deps:i}=e;if(i.length){let s=0;for(let a=0;a<i.length;a++){const l=i[a];ph(l)&&!_h(l)?l.delete(e):i[s++]=l,l.w&=~mi,l.n&=~mi}i.length=s}},qo=new WeakMap;let Ur=0,mi=1;const ha=30;let mn;const ji=Symbol(""),ca=Symbol("");class Ga{constructor(i,s=null,a){this.fn=i,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,Wf(this,a)}run(){if(!this.active)return this.fn();let i=mn,s=di;for(;i;){if(i===this)return;i=i.parent}try{return this.parent=mn,mn=this,di=!0,mi=1<<++Ur,Ur<=ha?Yf(this):ql(this),this.fn()}finally{Ur<=ha&&Xf(this),mi=1<<--Ur,mn=this.parent,di=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mn===this?this.deferStop=!0:this.active&&(ql(this),this.onStop&&this.onStop(),this.active=!1)}}function ql(e){const{deps:i}=e;if(i.length){for(let s=0;s<i.length;s++)i[s].delete(e);i.length=0}}let di=!0;const mh=[];function mr(){mh.push(di),di=!1}function gr(){const e=mh.pop();di=e===void 0?!0:e}function Je(e,i,s){if(di&&mn){let a=qo.get(e);a||qo.set(e,a=new Map);let l=a.get(s);l||a.set(s,l=Ua()),gh(l)}}function gh(e,i){let s=!1;Ur<=ha?_h(e)||(e.n|=mi,s=!ph(e)):s=!e.has(mn),s&&(e.add(mn),mn.deps.push(e))}function Yn(e,i,s,a,l,u){const f=qo.get(e);if(!f)return;let p=[];if(i==="clear")p=[...f.values()];else if(s==="length"&&Nt(e)){const m=Number(a);f.forEach((g,b)=>{(b==="length"||b>=m)&&p.push(g)})}else switch(s!==void 0&&p.push(f.get(s)),i){case"add":Nt(e)?ja(s)&&p.push(f.get("length")):(p.push(f.get(ji)),lr(e)&&p.push(f.get(ca)));break;case"delete":Nt(e)||(p.push(f.get(ji)),lr(e)&&p.push(f.get(ca)));break;case"set":lr(e)&&p.push(f.get(ji));break}if(p.length===1)p[0]&&fa(p[0]);else{const m=[];for(const g of p)g&&m.push(...g);fa(Ua(m))}}function fa(e,i){const s=Nt(e)?e:[...e];for(const a of s)a.computed&&$l(a);for(const a of s)a.computed||$l(a)}function $l(e,i){(e!==mn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Qf(e,i){var s;return(s=qo.get(e))==null?void 0:s.get(i)}const td=Da("__proto__,__v_isRef,__isVue"),yh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(za)),ed=Za(),nd=Za(!1,!0),id=Za(!0),Wl=rd();function rd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(i=>{e[i]=function(...s){const a=re(this);for(let u=0,f=this.length;u<f;u++)Je(a,"get",u+"");const l=a[i](...s);return l===-1||l===!1?a[i](...s.map(re)):l}}),["push","pop","shift","unshift","splice"].forEach(i=>{e[i]=function(...s){mr();const a=re(this)[i].apply(this,s);return gr(),a}}),e}function od(e){const i=re(this);return Je(i,"has",e),i.hasOwnProperty(e)}function Za(e=!1,i=!1){return function(a,l,u){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return i;if(l==="__v_raw"&&u===(e?i?Ld:wh:i?kh:Lh).get(a))return a;const f=Nt(a);if(!e){if(f&&oe(Wl,l))return Reflect.get(Wl,l,u);if(l==="hasOwnProperty")return od}const p=Reflect.get(a,l,u);return(za(l)?yh.has(l):td(l))||(e||Je(a,"get",l),i)?p:xe(p)?f&&ja(l)?p:p.value:be(p)?e?Mh(p):so(p):p}}const sd=vh(),ad=vh(!0);function vh(e=!1){return function(s,a,l,u){let f=s[a];if(hr(f)&&xe(f)&&!xe(l))return!1;if(!e&&(!$o(l)&&!hr(l)&&(f=re(f),l=re(l)),!Nt(s)&&xe(f)&&!xe(l)))return f.value=l,!0;const p=Nt(s)&&ja(a)?Number(a)<s.length:oe(s,a),m=Reflect.set(s,a,l,u);return s===re(u)&&(p?Yr(l,f)&&Yn(s,"set",a,l):Yn(s,"add",a,l)),m}}function ld(e,i){const s=oe(e,i);e[i];const a=Reflect.deleteProperty(e,i);return a&&s&&Yn(e,"delete",i,void 0),a}function ud(e,i){const s=Reflect.has(e,i);return(!za(i)||!yh.has(i))&&Je(e,"has",i),s}function hd(e){return Je(e,"iterate",Nt(e)?"length":ji),Reflect.ownKeys(e)}const bh={get:ed,set:sd,deleteProperty:ld,has:ud,ownKeys:hd},cd={get:id,set(e,i){return!0},deleteProperty(e,i){return!0}},fd=Me({},bh,{get:nd,set:ad}),Va=e=>e,ls=e=>Reflect.getPrototypeOf(e);function To(e,i,s=!1,a=!1){e=e.__v_raw;const l=re(e),u=re(i);s||(i!==u&&Je(l,"get",i),Je(l,"get",u));const{has:f}=ls(l),p=a?Va:s?qa:Xr;if(f.call(l,i))return p(e.get(i));if(f.call(l,u))return p(e.get(u));e!==l&&e.get(i)}function Oo(e,i=!1){const s=this.__v_raw,a=re(s),l=re(e);return i||(e!==l&&Je(a,"has",e),Je(a,"has",l)),e===l?s.has(e):s.has(e)||s.has(l)}function Ro(e,i=!1){return e=e.__v_raw,!i&&Je(re(e),"iterate",ji),Reflect.get(e,"size",e)}function Jl(e){e=re(e);const i=re(this);return ls(i).has.call(i,e)||(i.add(e),Yn(i,"add",e,e)),this}function Yl(e,i){i=re(i);const s=re(this),{has:a,get:l}=ls(s);let u=a.call(s,e);u||(e=re(e),u=a.call(s,e));const f=l.call(s,e);return s.set(e,i),u?Yr(i,f)&&Yn(s,"set",e,i):Yn(s,"add",e,i),this}function Xl(e){const i=re(this),{has:s,get:a}=ls(i);let l=s.call(i,e);l||(e=re(e),l=s.call(i,e)),a&&a.call(i,e);const u=i.delete(e);return l&&Yn(i,"delete",e,void 0),u}function Ql(){const e=re(this),i=e.size!==0,s=e.clear();return i&&Yn(e,"clear",void 0,void 0),s}function Ao(e,i){return function(a,l){const u=this,f=u.__v_raw,p=re(f),m=i?Va:e?qa:Xr;return!e&&Je(p,"iterate",ji),f.forEach((g,b)=>a.call(l,m(g),m(b),u))}}function Bo(e,i,s){return function(...a){const l=this.__v_raw,u=re(l),f=lr(u),p=e==="entries"||e===Symbol.iterator&&f,m=e==="keys"&&f,g=l[e](...a),b=s?Va:i?qa:Xr;return!i&&Je(u,"iterate",m?ca:ji),{next(){const{value:x,done:M}=g.next();return M?{value:x,done:M}:{value:p?[b(x[0]),b(x[1])]:b(x),done:M}},[Symbol.iterator](){return this}}}}function oi(e){return function(...i){return e==="delete"?!1:this}}function dd(){const e={get(u){return To(this,u)},get size(){return Ro(this)},has:Oo,add:Jl,set:Yl,delete:Xl,clear:Ql,forEach:Ao(!1,!1)},i={get(u){return To(this,u,!1,!0)},get size(){return Ro(this)},has:Oo,add:Jl,set:Yl,delete:Xl,clear:Ql,forEach:Ao(!1,!0)},s={get(u){return To(this,u,!0)},get size(){return Ro(this,!0)},has(u){return Oo.call(this,u,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:Ao(!0,!1)},a={get(u){return To(this,u,!0,!0)},get size(){return Ro(this,!0)},has(u){return Oo.call(this,u,!0)},add:oi("add"),set:oi("set"),delete:oi("delete"),clear:oi("clear"),forEach:Ao(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Bo(u,!1,!1),s[u]=Bo(u,!0,!1),i[u]=Bo(u,!1,!0),a[u]=Bo(u,!0,!0)}),[e,s,i,a]}const[pd,_d,md,gd]=dd();function Ha(e,i){const s=i?e?gd:md:e?_d:pd;return(a,l,u)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?a:Reflect.get(oe(s,l)&&l in a?s:a,l,u)}const yd={get:Ha(!1,!1)},vd={get:Ha(!1,!0)},bd={get:Ha(!0,!1)},Lh=new WeakMap,kh=new WeakMap,wh=new WeakMap,Ld=new WeakMap;function kd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wd(e){return e.__v_skip||!Object.isExtensible(e)?0:kd(jf(e))}function so(e){return hr(e)?e:Ka(e,!1,bh,yd,Lh)}function xh(e){return Ka(e,!1,fd,vd,kh)}function Mh(e){return Ka(e,!0,cd,bd,wh)}function Ka(e,i,s,a,l){if(!be(e)||e.__v_raw&&!(i&&e.__v_isReactive))return e;const u=l.get(e);if(u)return u;const f=wd(e);if(f===0)return e;const p=new Proxy(e,f===2?a:s);return l.set(e,p),p}function pi(e){return hr(e)?pi(e.__v_raw):!!(e&&e.__v_isReactive)}function hr(e){return!!(e&&e.__v_isReadonly)}function $o(e){return!!(e&&e.__v_isShallow)}function Ph(e){return pi(e)||hr(e)}function re(e){const i=e&&e.__v_raw;return i?re(i):e}function us(e){return Ko(e,"__v_skip",!0),e}const Xr=e=>be(e)?so(e):e,qa=e=>be(e)?Mh(e):e;function Ch(e){di&&mn&&(e=re(e),gh(e.dep||(e.dep=Ua())))}function Eh(e,i){e=re(e);const s=e.dep;s&&fa(s)}function xe(e){return!!(e&&e.__v_isRef===!0)}function de(e){return Sh(e,!1)}function xd(e){return Sh(e,!0)}function Sh(e,i){return xe(e)?e:new Md(e,i)}class Md{constructor(i,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?i:re(i),this._value=s?i:Xr(i)}get value(){return Ch(this),this._value}set value(i){const s=this.__v_isShallow||$o(i)||hr(i);i=s?i:re(i),Yr(i,this._rawValue)&&(this._rawValue=i,this._value=s?i:Xr(i),Eh(this))}}function jt(e){return xe(e)?e.value:e}const Pd={get:(e,i,s)=>jt(Reflect.get(e,i,s)),set:(e,i,s,a)=>{const l=e[i];return xe(l)&&!xe(s)?(l.value=s,!0):Reflect.set(e,i,s,a)}};function Th(e){return pi(e)?e:new Proxy(e,Pd)}function Cd(e){const i=Nt(e)?new Array(e.length):{};for(const s in e)i[s]=Sd(e,s);return i}class Ed{constructor(i,s,a){this._object=i,this._key=s,this._defaultValue=a,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Qf(re(this._object),this._key)}}function Sd(e,i,s){const a=e[i];return xe(a)?a:new Ed(e,i,s)}class Td{constructor(i,s,a,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ga(i,()=>{this._dirty||(this._dirty=!0,Eh(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=a}get value(){const i=re(this);return Ch(i),(i._dirty||!i._cacheable)&&(i._dirty=!1,i._value=i.effect.run()),i._value}set value(i){this._setter(i)}}function Od(e,i,s=!1){let a,l;const u=Wt(e);return u?(a=e,l=vn):(a=e.get,l=e.set),new Td(a,l,u||!l,s)}function _i(e,i,s,a){let l;try{l=a?e(...a):e()}catch(u){hs(u,i,s)}return l}function hn(e,i,s,a){if(Wt(e)){const u=_i(e,i,s,a);return u&&sh(u)&&u.catch(f=>{hs(f,i,s)}),u}const l=[];for(let u=0;u<e.length;u++)l.push(hn(e[u],i,s,a));return l}function hs(e,i,s,a=!0){const l=i?i.vnode:null;if(i){let u=i.parent;const f=i.proxy,p=s;for(;u;){const g=u.ec;if(g){for(let b=0;b<g.length;b++)if(g[b](e,f,p)===!1)return}u=u.parent}const m=i.appContext.config.errorHandler;if(m){_i(m,null,10,[e,f,p]);return}}Rd(e,s,l,a)}function Rd(e,i,s,a=!0){console.error(e)}let Qr=!1,da=!1;const Ue=[];let On=0;const ur=[];let Kn=null,Di=0;const Oh=Promise.resolve();let $a=null;function Wa(e){const i=$a||Oh;return e?i.then(this?e.bind(this):e):i}function Ad(e){let i=On+1,s=Ue.length;for(;i<s;){const a=i+s>>>1;to(Ue[a])<e?i=a+1:s=a}return i}function Ja(e){(!Ue.length||!Ue.includes(e,Qr&&e.allowRecurse?On+1:On))&&(e.id==null?Ue.push(e):Ue.splice(Ad(e.id),0,e),Rh())}function Rh(){!Qr&&!da&&(da=!0,$a=Oh.then(Bh))}function Bd(e){const i=Ue.indexOf(e);i>On&&Ue.splice(i,1)}function Dd(e){Nt(e)?ur.push(...e):(!Kn||!Kn.includes(e,e.allowRecurse?Di+1:Di))&&ur.push(e),Rh()}function tu(e,i=Qr?On+1:0){for(;i<Ue.length;i++){const s=Ue[i];s&&s.pre&&(Ue.splice(i,1),i--,s())}}function Ah(e){if(ur.length){const i=[...new Set(ur)];if(ur.length=0,Kn){Kn.push(...i);return}for(Kn=i,Kn.sort((s,a)=>to(s)-to(a)),Di=0;Di<Kn.length;Di++)Kn[Di]();Kn=null,Di=0}}const to=e=>e.id==null?1/0:e.id,Id=(e,i)=>{const s=to(e)-to(i);if(s===0){if(e.pre&&!i.pre)return-1;if(i.pre&&!e.pre)return 1}return s};function Bh(e){da=!1,Qr=!0,Ue.sort(Id);const i=vn;try{for(On=0;On<Ue.length;On++){const s=Ue[On];s&&s.active!==!1&&_i(s,null,14)}}finally{On=0,Ue.length=0,Ah(),Qr=!1,$a=null,(Ue.length||ur.length)&&Bh()}}function Nd(e,i,...s){if(e.isUnmounted)return;const a=e.vnode.props||ye;let l=s;const u=i.startsWith("update:"),f=u&&i.slice(7);if(f&&f in a){const b=`${f==="modelValue"?"model":f}Modifiers`,{number:x,trim:M}=a[b]||ye;M&&(l=s.map(B=>Ee(B)?B.trim():B)),x&&(l=s.map(la))}let p,m=a[p=qs(i)]||a[p=qs(An(i))];!m&&u&&(m=a[p=qs(_r(i))]),m&&hn(m,e,6,l);const g=a[p+"Once"];if(g){if(!e.emitted)e.emitted={};else if(e.emitted[p])return;e.emitted[p]=!0,hn(g,e,6,l)}}function Dh(e,i,s=!1){const a=i.emitsCache,l=a.get(e);if(l!==void 0)return l;const u=e.emits;let f={},p=!1;if(!Wt(e)){const m=g=>{const b=Dh(g,i,!0);b&&(p=!0,Me(f,b))};!s&&i.mixins.length&&i.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!u&&!p?(be(e)&&a.set(e,null),null):(Nt(u)?u.forEach(m=>f[m]=null):Me(f,u),be(e)&&a.set(e,f),f)}function cs(e,i){return!e||!rs(i)?!1:(i=i.slice(2).replace(/Once$/,""),oe(e,i[0].toLowerCase()+i.slice(1))||oe(e,_r(i))||oe(e,i))}let De=null,fs=null;function Wo(e){const i=De;return De=e,fs=e&&e.type.__scopeId||null,i}function ds(e){fs=e}function ps(){fs=null}function yi(e,i=De,s){if(!i||e._n)return e;const a=(...l)=>{a._d&&cu(-1);const u=Wo(i);let f;try{f=e(...l)}finally{Wo(u),a._d&&cu(1)}return f};return a._n=!0,a._c=!0,a._d=!0,a}function $s(e){const{type:i,vnode:s,proxy:a,withProxy:l,props:u,propsOptions:[f],slots:p,attrs:m,emit:g,render:b,renderCache:x,data:M,setupState:B,ctx:R,inheritAttrs:E}=e;let q,I;const U=Wo(e);try{if(s.shapeFlag&4){const T=l||a;q=Tn(b.call(T,T,x,u,B,M,R)),I=m}else{const T=i;q=Tn(T.length>1?T(u,{attrs:m,slots:p,emit:g}):T(u,null)),I=i.props?m:zd(m)}}catch(T){qr.length=0,hs(T,e,1),q=Zt(cn)}let K=q;if(I&&E!==!1){const T=Object.keys(I),{shapeFlag:F}=K;T.length&&F&7&&(f&&T.some(Ia)&&(I=jd(I,f)),K=gi(K,I))}return s.dirs&&(K=gi(K),K.dirs=K.dirs?K.dirs.concat(s.dirs):s.dirs),s.transition&&(K.transition=s.transition),q=K,Wo(U),q}const zd=e=>{let i;for(const s in e)(s==="class"||s==="style"||rs(s))&&((i||(i={}))[s]=e[s]);return i},jd=(e,i)=>{const s={};for(const a in e)(!Ia(a)||!(a.slice(9)in i))&&(s[a]=e[a]);return s};function Fd(e,i,s){const{props:a,children:l,component:u}=e,{props:f,children:p,patchFlag:m}=i,g=u.emitsOptions;if(i.dirs||i.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return a?eu(a,f,g):!!f;if(m&8){const b=i.dynamicProps;for(let x=0;x<b.length;x++){const M=b[x];if(f[M]!==a[M]&&!cs(g,M))return!0}}}else return(l||p)&&(!p||!p.$stable)?!0:a===f?!1:a?f?eu(a,f,g):!0:!!f;return!1}function eu(e,i,s){const a=Object.keys(i);if(a.length!==Object.keys(e).length)return!0;for(let l=0;l<a.length;l++){const u=a[l];if(i[u]!==e[u]&&!cs(s,u))return!0}return!1}function Ud({vnode:e,parent:i},s){for(;i&&i.subTree===e;)(e=i.vnode).el=s,i=i.parent}const Gd=e=>e.__isSuspense;function Zd(e,i){i&&i.pendingBranch?Nt(e)?i.effects.push(...e):i.effects.push(e):Dd(e)}const Do={};function $n(e,i,s){return Ih(e,i,s)}function Ih(e,i,{immediate:s,deep:a,flush:l,onTrack:u,onTrigger:f}=ye){var p;const m=dh()===((p=Oe)==null?void 0:p.scope)?Oe:null;let g,b=!1,x=!1;if(xe(e)?(g=()=>e.value,b=$o(e)):pi(e)?(g=()=>e,a=!0):Nt(e)?(x=!0,b=e.some(T=>pi(T)||$o(T)),g=()=>e.map(T=>{if(xe(T))return T.value;if(pi(T))return zi(T);if(Wt(T))return _i(T,m,2)})):Wt(e)?i?g=()=>_i(e,m,2):g=()=>{if(!(m&&m.isUnmounted))return M&&M(),hn(e,m,3,[B])}:g=vn,i&&a){const T=g;g=()=>zi(T())}let M,B=T=>{M=U.onStop=()=>{_i(T,m,4)}},R;if(io)if(B=vn,i?s&&hn(i,m,3,[g(),x?[]:void 0,B]):g(),l==="sync"){const T=Fp();R=T.__watcherHandles||(T.__watcherHandles=[])}else return vn;let E=x?new Array(e.length).fill(Do):Do;const q=()=>{if(U.active)if(i){const T=U.run();(a||b||(x?T.some((F,$)=>Yr(F,E[$])):Yr(T,E)))&&(M&&M(),hn(i,m,3,[T,E===Do?void 0:x&&E[0]===Do?[]:E,B]),E=T)}else U.run()};q.allowRecurse=!!i;let I;l==="sync"?I=q:l==="post"?I=()=>$e(q,m&&m.suspense):(q.pre=!0,m&&(q.id=m.uid),I=()=>Ja(q));const U=new Ga(g,I);i?s?q():E=U.run():l==="post"?$e(U.run.bind(U),m&&m.suspense):U.run();const K=()=>{U.stop(),m&&m.scope&&Na(m.scope.effects,U)};return R&&R.push(K),K}function Vd(e,i,s){const a=this.proxy,l=Ee(e)?e.includes(".")?Nh(a,e):()=>a[e]:e.bind(a,a);let u;Wt(i)?u=i:(u=i.handler,s=i);const f=Oe;cr(this);const p=Ih(l,u.bind(a),s);return f?cr(f):Fi(),p}function Nh(e,i){const s=i.split(".");return()=>{let a=e;for(let l=0;l<s.length&&a;l++)a=a[s[l]];return a}}function zi(e,i){if(!be(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),xe(e))zi(e.value,i);else if(Nt(e))for(let s=0;s<e.length;s++)zi(e[s],i);else if(oh(e)||lr(e))e.forEach(s=>{zi(s,i)});else if(lh(e))for(const s in e)zi(e[s],i);return e}function Ya(e,i){const s=De;if(s===null)return e;const a=bs(s)||s.proxy,l=e.dirs||(e.dirs=[]);for(let u=0;u<i.length;u++){let[f,p,m,g=ye]=i[u];f&&(Wt(f)&&(f={mounted:f,updated:f}),f.deep&&zi(p),l.push({dir:f,instance:a,value:p,oldValue:void 0,arg:m,modifiers:g}))}return e}function Oi(e,i,s,a){const l=e.dirs,u=i&&i.dirs;for(let f=0;f<l.length;f++){const p=l[f];u&&(p.oldValue=u[f].value);let m=p.dir[a];m&&(mr(),hn(m,s,8,[e.el,p,e,i]),gr())}}function Hd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gs(()=>{e.isMounted=!0}),Gh(()=>{e.isUnmounting=!0}),e}const un=[Function,Array],zh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},Kd={name:"BaseTransition",props:zh,setup(e,{slots:i}){const s=rc(),a=Hd();let l;return()=>{const u=i.default&&Fh(i.default(),!0);if(!u||!u.length)return;let f=u[0];if(u.length>1){for(const E of u)if(E.type!==cn){f=E;break}}const p=re(e),{mode:m}=p;if(a.isLeaving)return Ws(f);const g=nu(f);if(!g)return Ws(f);const b=pa(g,p,a,s);_a(g,b);const x=s.subTree,M=x&&nu(x);let B=!1;const{getTransitionKey:R}=g.type;if(R){const E=R();l===void 0?l=E:E!==l&&(l=E,B=!0)}if(M&&M.type!==cn&&(!Ii(g,M)||B)){const E=pa(M,p,a,s);if(_a(M,E),m==="out-in")return a.isLeaving=!0,E.afterLeave=()=>{a.isLeaving=!1,s.update.active!==!1&&s.update()},Ws(f);m==="in-out"&&g.type!==cn&&(E.delayLeave=(q,I,U)=>{const K=jh(a,M);K[String(M.key)]=M,q._leaveCb=()=>{I(),q._leaveCb=void 0,delete b.delayedLeave},b.delayedLeave=U})}return f}}},qd=Kd;function jh(e,i){const{leavingVNodes:s}=e;let a=s.get(i.type);return a||(a=Object.create(null),s.set(i.type,a)),a}function pa(e,i,s,a){const{appear:l,mode:u,persisted:f=!1,onBeforeEnter:p,onEnter:m,onAfterEnter:g,onEnterCancelled:b,onBeforeLeave:x,onLeave:M,onAfterLeave:B,onLeaveCancelled:R,onBeforeAppear:E,onAppear:q,onAfterAppear:I,onAppearCancelled:U}=i,K=String(e.key),T=jh(s,e),F=(tt,it)=>{tt&&hn(tt,a,9,it)},$=(tt,it)=>{const ut=it[1];F(tt,it),Nt(tt)?tt.every(mt=>mt.length<=1)&&ut():tt.length<=1&&ut()},ot={mode:u,persisted:f,beforeEnter(tt){let it=p;if(!s.isMounted)if(l)it=E||p;else return;tt._leaveCb&&tt._leaveCb(!0);const ut=T[K];ut&&Ii(e,ut)&&ut.el._leaveCb&&ut.el._leaveCb(),F(it,[tt])},enter(tt){let it=m,ut=g,mt=b;if(!s.isMounted)if(l)it=q||m,ut=I||g,mt=U||b;else return;let nt=!1;const gt=tt._enterCb=Rt=>{nt||(nt=!0,Rt?F(mt,[tt]):F(ut,[tt]),ot.delayedLeave&&ot.delayedLeave(),tt._enterCb=void 0)};it?$(it,[tt,gt]):gt()},leave(tt,it){const ut=String(e.key);if(tt._enterCb&&tt._enterCb(!0),s.isUnmounting)return it();F(x,[tt]);let mt=!1;const nt=tt._leaveCb=gt=>{mt||(mt=!0,it(),gt?F(R,[tt]):F(B,[tt]),tt._leaveCb=void 0,T[ut]===e&&delete T[ut])};T[ut]=e,M?$(M,[tt,nt]):nt()},clone(tt){return pa(tt,i,s,a)}};return ot}function Ws(e){if(_s(e))return e=gi(e),e.children=null,e}function nu(e){return _s(e)?e.children?e.children[0]:void 0:e}function _a(e,i){e.shapeFlag&6&&e.component?_a(e.component.subTree,i):e.shapeFlag&128?(e.ssContent.transition=i.clone(e.ssContent),e.ssFallback.transition=i.clone(e.ssFallback)):e.transition=i}function Fh(e,i=!1,s){let a=[],l=0;for(let u=0;u<e.length;u++){let f=e[u];const p=s==null?f.key:String(s)+String(f.key!=null?f.key:u);f.type===Ce?(f.patchFlag&128&&l++,a=a.concat(Fh(f.children,i,p))):(i||f.type!==cn)&&a.push(p!=null?gi(f,{key:p}):f)}if(l>1)for(let u=0;u<a.length;u++)a[u].patchFlag=-2;return a}function Ge(e,i){return Wt(e)?(()=>Me({name:e.name},i,{setup:e}))():e}const Hr=e=>!!e.type.__asyncLoader,_s=e=>e.type.__isKeepAlive;function $d(e,i){Uh(e,"a",i)}function Wd(e,i){Uh(e,"da",i)}function Uh(e,i,s=Oe){const a=e.__wdc||(e.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(ms(i,a,s),s){let l=s.parent;for(;l&&l.parent;)_s(l.parent.vnode)&&Jd(a,i,s,l),l=l.parent}}function Jd(e,i,s,a){const l=ms(i,e,a,!0);Zh(()=>{Na(a[i],l)},s)}function ms(e,i,s=Oe,a=!1){if(s){const l=s[e]||(s[e]=[]),u=i.__weh||(i.__weh=(...f)=>{if(s.isUnmounted)return;mr(),cr(s);const p=hn(i,s,e,f);return Fi(),gr(),p});return a?l.unshift(u):l.push(u),u}}const Xn=e=>(i,s=Oe)=>(!io||e==="sp")&&ms(e,(...a)=>i(...a),s),Yd=Xn("bm"),gs=Xn("m"),Xd=Xn("bu"),Qd=Xn("u"),Gh=Xn("bum"),Zh=Xn("um"),tp=Xn("sp"),ep=Xn("rtg"),np=Xn("rtc");function ip(e,i=Oe){ms("ec",e,i)}const Vh="components";function rp(e,i){return sp(Vh,e,!0,i)||e}const op=Symbol.for("v-ndc");function sp(e,i,s=!0,a=!1){const l=De||Oe;if(l){const u=l.type;if(e===Vh){const p=Np(u,!1);if(p&&(p===i||p===An(i)||p===as(An(i))))return u}const f=iu(l[e]||u[e],i)||iu(l.appContext[e],i);return!f&&a?u:f}}function iu(e,i){return e&&(e[i]||e[An(i)]||e[as(An(i))])}function Jo(e,i,s,a){let l;const u=s&&s[a];if(Nt(e)||Ee(e)){l=new Array(e.length);for(let f=0,p=e.length;f<p;f++)l[f]=i(e[f],f,void 0,u&&u[f])}else if(typeof e=="number"){l=new Array(e);for(let f=0;f<e;f++)l[f]=i(f+1,f,void 0,u&&u[f])}else if(be(e))if(e[Symbol.iterator])l=Array.from(e,(f,p)=>i(f,p,void 0,u&&u[p]));else{const f=Object.keys(e);l=new Array(f.length);for(let p=0,m=f.length;p<m;p++){const g=f[p];l[p]=i(e[g],g,p,u&&u[p])}}else l=[];return s&&(s[a]=l),l}function Xa(e,i,s={},a,l){if(De.isCE||De.parent&&Hr(De.parent)&&De.parent.isCE)return i!=="default"&&(s.name=i),Zt("slot",s,a&&a());let u=e[i];u&&u._c&&(u._d=!1),Kt();const f=u&&Hh(u(s)),p=Be(Ce,{key:s.key||f&&f.key||`_${i}`},f||(a?a():[]),f&&e._===1?64:-2);return!l&&p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),u&&u._c&&(u._d=!0),p}function Hh(e){return e.some(i=>Qo(i)?!(i.type===cn||i.type===Ce&&!Hh(i.children)):!0)?e:null}const ma=e=>e?oc(e)?bs(e)||e.proxy:ma(e.parent):null,Kr=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ma(e.parent),$root:e=>ma(e.root),$emit:e=>e.emit,$options:e=>Qa(e),$forceUpdate:e=>e.f||(e.f=()=>Ja(e.update)),$nextTick:e=>e.n||(e.n=Wa.bind(e.proxy)),$watch:e=>Vd.bind(e)}),Js=(e,i)=>e!==ye&&!e.__isScriptSetup&&oe(e,i),ap={get({_:e},i){const{ctx:s,setupState:a,data:l,props:u,accessCache:f,type:p,appContext:m}=e;let g;if(i[0]!=="$"){const B=f[i];if(B!==void 0)switch(B){case 1:return a[i];case 2:return l[i];case 4:return s[i];case 3:return u[i]}else{if(Js(a,i))return f[i]=1,a[i];if(l!==ye&&oe(l,i))return f[i]=2,l[i];if((g=e.propsOptions[0])&&oe(g,i))return f[i]=3,u[i];if(s!==ye&&oe(s,i))return f[i]=4,s[i];ga&&(f[i]=0)}}const b=Kr[i];let x,M;if(b)return i==="$attrs"&&Je(e,"get",i),b(e);if((x=p.__cssModules)&&(x=x[i]))return x;if(s!==ye&&oe(s,i))return f[i]=4,s[i];if(M=m.config.globalProperties,oe(M,i))return M[i]},set({_:e},i,s){const{data:a,setupState:l,ctx:u}=e;return Js(l,i)?(l[i]=s,!0):a!==ye&&oe(a,i)?(a[i]=s,!0):oe(e.props,i)||i[0]==="$"&&i.slice(1)in e?!1:(u[i]=s,!0)},has({_:{data:e,setupState:i,accessCache:s,ctx:a,appContext:l,propsOptions:u}},f){let p;return!!s[f]||e!==ye&&oe(e,f)||Js(i,f)||(p=u[0])&&oe(p,f)||oe(a,f)||oe(Kr,f)||oe(l.config.globalProperties,f)},defineProperty(e,i,s){return s.get!=null?e._.accessCache[i]=0:oe(s,"value")&&this.set(e,i,s.value,null),Reflect.defineProperty(e,i,s)}};function Kh(e,i,s){const a=rc();if(s&&s.local){const l=de(e[i]);return $n(()=>e[i],u=>l.value=u),$n(l,u=>{u!==e[i]&&a.emit(`update:${i}`,u)}),l}else return{__v_isRef:!0,get value(){return e[i]},set value(l){a.emit(`update:${i}`,l)}}}function Yo(e){return Nt(e)?e.reduce((i,s)=>(i[s]=null,i),{}):e}function qh(e,i){return!e||!i?e||i:Nt(e)&&Nt(i)?e.concat(i):Me({},Yo(e),Yo(i))}let ga=!0;function lp(e){const i=Qa(e),s=e.proxy,a=e.ctx;ga=!1,i.beforeCreate&&ru(i.beforeCreate,e,"bc");const{data:l,computed:u,methods:f,watch:p,provide:m,inject:g,created:b,beforeMount:x,mounted:M,beforeUpdate:B,updated:R,activated:E,deactivated:q,beforeDestroy:I,beforeUnmount:U,destroyed:K,unmounted:T,render:F,renderTracked:$,renderTriggered:ot,errorCaptured:tt,serverPrefetch:it,expose:ut,inheritAttrs:mt,components:nt,directives:gt,filters:Rt}=i;if(g&&up(g,a,null),f)for(const Bt in f){const dt=f[Bt];Wt(dt)&&(a[Bt]=dt.bind(s))}if(l){const Bt=l.call(s,s);be(Bt)&&(e.data=so(Bt))}if(ga=!0,u)for(const Bt in u){const dt=u[Bt],ee=Wt(dt)?dt.bind(s,s):Wt(dt.get)?dt.get.bind(s,s):vn,Et=!Wt(dt)&&Wt(dt.set)?dt.set.bind(s):vn,Pt=en({get:ee,set:Et});Object.defineProperty(a,Bt,{enumerable:!0,configurable:!0,get:()=>Pt.value,set:Dt=>Pt.value=Dt})}if(p)for(const Bt in p)$h(p[Bt],a,s,Bt);if(m){const Bt=Wt(m)?m.call(s):m;Reflect.ownKeys(Bt).forEach(dt=>{Fo(dt,Bt[dt])})}b&&ru(b,e,"c");function Lt(Bt,dt){Nt(dt)?dt.forEach(ee=>Bt(ee.bind(s))):dt&&Bt(dt.bind(s))}if(Lt(Yd,x),Lt(gs,M),Lt(Xd,B),Lt(Qd,R),Lt($d,E),Lt(Wd,q),Lt(ip,tt),Lt(np,$),Lt(ep,ot),Lt(Gh,U),Lt(Zh,T),Lt(tp,it),Nt(ut))if(ut.length){const Bt=e.exposed||(e.exposed={});ut.forEach(dt=>{Object.defineProperty(Bt,dt,{get:()=>s[dt],set:ee=>s[dt]=ee})})}else e.exposed||(e.exposed={});F&&e.render===vn&&(e.render=F),mt!=null&&(e.inheritAttrs=mt),nt&&(e.components=nt),gt&&(e.directives=gt)}function up(e,i,s=vn){Nt(e)&&(e=ya(e));for(const a in e){const l=e[a];let u;be(l)?"default"in l?u=Rn(l.from||a,l.default,!0):u=Rn(l.from||a):u=Rn(l),xe(u)?Object.defineProperty(i,a,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):i[a]=u}}function ru(e,i,s){hn(Nt(e)?e.map(a=>a.bind(i.proxy)):e.bind(i.proxy),i,s)}function $h(e,i,s,a){const l=a.includes(".")?Nh(s,a):()=>s[a];if(Ee(e)){const u=i[e];Wt(u)&&$n(l,u)}else if(Wt(e))$n(l,e.bind(s));else if(be(e))if(Nt(e))e.forEach(u=>$h(u,i,s,a));else{const u=Wt(e.handler)?e.handler.bind(s):i[e.handler];Wt(u)&&$n(l,u,e)}}function Qa(e){const i=e.type,{mixins:s,extends:a}=i,{mixins:l,optionsCache:u,config:{optionMergeStrategies:f}}=e.appContext,p=u.get(i);let m;return p?m=p:!l.length&&!s&&!a?m=i:(m={},l.length&&l.forEach(g=>Xo(m,g,f,!0)),Xo(m,i,f)),be(i)&&u.set(i,m),m}function Xo(e,i,s,a=!1){const{mixins:l,extends:u}=i;u&&Xo(e,u,s,!0),l&&l.forEach(f=>Xo(e,f,s,!0));for(const f in i)if(!(a&&f==="expose")){const p=hp[f]||s&&s[f];e[f]=p?p(e[f],i[f]):i[f]}return e}const hp={data:ou,props:su,emits:su,methods:Gr,computed:Gr,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:Gr,directives:Gr,watch:fp,provide:ou,inject:cp};function ou(e,i){return i?e?function(){return Me(Wt(e)?e.call(this,this):e,Wt(i)?i.call(this,this):i)}:i:e}function cp(e,i){return Gr(ya(e),ya(i))}function ya(e){if(Nt(e)){const i={};for(let s=0;s<e.length;s++)i[e[s]]=e[s];return i}return e}function Ve(e,i){return e?[...new Set([].concat(e,i))]:i}function Gr(e,i){return e?Me(Object.create(null),e,i):i}function su(e,i){return e?Nt(e)&&Nt(i)?[...new Set([...e,...i])]:Me(Object.create(null),Yo(e),Yo(i??{})):i}function fp(e,i){if(!e)return i;if(!i)return e;const s=Me(Object.create(null),e);for(const a in i)s[a]=Ve(e[a],i[a]);return s}function Wh(){return{app:null,config:{isNativeTag:If,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dp=0;function pp(e,i){return function(a,l=null){Wt(a)||(a=Me({},a)),l!=null&&!be(l)&&(l=null);const u=Wh(),f=new Set;let p=!1;const m=u.app={_uid:dp++,_component:a,_props:l,_container:null,_context:u,_instance:null,version:Up,get config(){return u.config},set config(g){},use(g,...b){return f.has(g)||(g&&Wt(g.install)?(f.add(g),g.install(m,...b)):Wt(g)&&(f.add(g),g(m,...b))),m},mixin(g){return u.mixins.includes(g)||u.mixins.push(g),m},component(g,b){return b?(u.components[g]=b,m):u.components[g]},directive(g,b){return b?(u.directives[g]=b,m):u.directives[g]},mount(g,b,x){if(!p){const M=Zt(a,l);return M.appContext=u,b&&i?i(M,g):e(M,g,x),p=!0,m._container=g,g.__vue_app__=m,bs(M.component)||M.component.proxy}},unmount(){p&&(e(null,m._container),delete m._container.__vue_app__)},provide(g,b){return u.provides[g]=b,m},runWithContext(g){eo=m;try{return g()}finally{eo=null}}};return m}}let eo=null;function Fo(e,i){if(Oe){let s=Oe.provides;const a=Oe.parent&&Oe.parent.provides;a===s&&(s=Oe.provides=Object.create(a)),s[e]=i}}function Rn(e,i,s=!1){const a=Oe||De;if(a||eo){const l=a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:eo._context.provides;if(l&&e in l)return l[e];if(arguments.length>1)return s&&Wt(i)?i.call(a&&a.proxy):i}}function _p(){return!!(Oe||De||eo)}function mp(e,i,s,a=!1){const l={},u={};Ko(u,vs,1),e.propsDefaults=Object.create(null),Jh(e,i,l,u);for(const f in e.propsOptions[0])f in l||(l[f]=void 0);s?e.props=a?l:xh(l):e.type.props?e.props=l:e.props=u,e.attrs=u}function gp(e,i,s,a){const{props:l,attrs:u,vnode:{patchFlag:f}}=e,p=re(l),[m]=e.propsOptions;let g=!1;if((a||f>0)&&!(f&16)){if(f&8){const b=e.vnode.dynamicProps;for(let x=0;x<b.length;x++){let M=b[x];if(cs(e.emitsOptions,M))continue;const B=i[M];if(m)if(oe(u,M))B!==u[M]&&(u[M]=B,g=!0);else{const R=An(M);l[R]=va(m,p,R,B,e,!1)}else B!==u[M]&&(u[M]=B,g=!0)}}}else{Jh(e,i,l,u)&&(g=!0);let b;for(const x in p)(!i||!oe(i,x)&&((b=_r(x))===x||!oe(i,b)))&&(m?s&&(s[x]!==void 0||s[b]!==void 0)&&(l[x]=va(m,p,x,void 0,e,!0)):delete l[x]);if(u!==p)for(const x in u)(!i||!oe(i,x))&&(delete u[x],g=!0)}g&&Yn(e,"set","$attrs")}function Jh(e,i,s,a){const[l,u]=e.propsOptions;let f=!1,p;if(i)for(let m in i){if(zo(m))continue;const g=i[m];let b;l&&oe(l,b=An(m))?!u||!u.includes(b)?s[b]=g:(p||(p={}))[b]=g:cs(e.emitsOptions,m)||(!(m in a)||g!==a[m])&&(a[m]=g,f=!0)}if(u){const m=re(s),g=p||ye;for(let b=0;b<u.length;b++){const x=u[b];s[x]=va(l,m,x,g[x],e,!oe(g,x))}}return f}function va(e,i,s,a,l,u){const f=e[s];if(f!=null){const p=oe(f,"default");if(p&&a===void 0){const m=f.default;if(f.type!==Function&&!f.skipFactory&&Wt(m)){const{propsDefaults:g}=l;s in g?a=g[s]:(cr(l),a=g[s]=m.call(null,i),Fi())}else a=m}f[0]&&(u&&!p?a=!1:f[1]&&(a===""||a===_r(s))&&(a=!0))}return a}function Yh(e,i,s=!1){const a=i.propsCache,l=a.get(e);if(l)return l;const u=e.props,f={},p=[];let m=!1;if(!Wt(e)){const b=x=>{m=!0;const[M,B]=Yh(x,i,!0);Me(f,M),B&&p.push(...B)};!s&&i.mixins.length&&i.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!m)return be(e)&&a.set(e,ar),ar;if(Nt(u))for(let b=0;b<u.length;b++){const x=An(u[b]);au(x)&&(f[x]=ye)}else if(u)for(const b in u){const x=An(b);if(au(x)){const M=u[b],B=f[x]=Nt(M)||Wt(M)?{type:M}:Me({},M);if(B){const R=hu(Boolean,B.type),E=hu(String,B.type);B[0]=R>-1,B[1]=E<0||R<E,(R>-1||oe(B,"default"))&&p.push(x)}}}const g=[f,p];return be(e)&&a.set(e,g),g}function au(e){return e[0]!=="$"}function lu(e){const i=e&&e.toString().match(/^\s*(function|class) (\w+)/);return i?i[2]:e===null?"null":""}function uu(e,i){return lu(e)===lu(i)}function hu(e,i){return Nt(i)?i.findIndex(s=>uu(s,e)):Wt(i)&&uu(i,e)?0:-1}const Xh=e=>e[0]==="_"||e==="$stable",tl=e=>Nt(e)?e.map(Tn):[Tn(e)],yp=(e,i,s)=>{if(i._n)return i;const a=yi((...l)=>tl(i(...l)),s);return a._c=!1,a},Qh=(e,i,s)=>{const a=e._ctx;for(const l in e){if(Xh(l))continue;const u=e[l];if(Wt(u))i[l]=yp(l,u,a);else if(u!=null){const f=tl(u);i[l]=()=>f}}},tc=(e,i)=>{const s=tl(i);e.slots.default=()=>s},vp=(e,i)=>{if(e.vnode.shapeFlag&32){const s=i._;s?(e.slots=re(i),Ko(i,"_",s)):Qh(i,e.slots={})}else e.slots={},i&&tc(e,i);Ko(e.slots,vs,1)},bp=(e,i,s)=>{const{vnode:a,slots:l}=e;let u=!0,f=ye;if(a.shapeFlag&32){const p=i._;p?s&&p===1?u=!1:(Me(l,i),!s&&p===1&&delete l._):(u=!i.$stable,Qh(i,l)),f=i}else i&&(tc(e,i),f={default:1});if(u)for(const p in l)!Xh(p)&&!(p in f)&&delete l[p]};function ba(e,i,s,a,l=!1){if(Nt(e)){e.forEach((M,B)=>ba(M,i&&(Nt(i)?i[B]:i),s,a,l));return}if(Hr(a)&&!l)return;const u=a.shapeFlag&4?bs(a.component)||a.component.proxy:a.el,f=l?null:u,{i:p,r:m}=e,g=i&&i.r,b=p.refs===ye?p.refs={}:p.refs,x=p.setupState;if(g!=null&&g!==m&&(Ee(g)?(b[g]=null,oe(x,g)&&(x[g]=null)):xe(g)&&(g.value=null)),Wt(m))_i(m,p,12,[f,b]);else{const M=Ee(m),B=xe(m);if(M||B){const R=()=>{if(e.f){const E=M?oe(x,m)?x[m]:b[m]:m.value;l?Nt(E)&&Na(E,u):Nt(E)?E.includes(u)||E.push(u):M?(b[m]=[u],oe(x,m)&&(x[m]=b[m])):(m.value=[u],e.k&&(b[e.k]=m.value))}else M?(b[m]=f,oe(x,m)&&(x[m]=f)):B&&(m.value=f,e.k&&(b[e.k]=f))};f?(R.id=-1,$e(R,s)):R()}}}const $e=Zd;function Lp(e){return kp(e)}function kp(e,i){const s=ua();s.__VUE__=!0;const{insert:a,remove:l,patchProp:u,createElement:f,createText:p,createComment:m,setText:g,setElementText:b,parentNode:x,nextSibling:M,setScopeId:B=vn,insertStaticContent:R}=e,E=(z,H,W,st=null,ht=null,pt=null,wt=!1,O=null,v=!!H.dynamicChildren)=>{if(z===H)return;z&&!Ii(z,H)&&(st=at(z),Dt(z,ht,pt,!0),z=null),H.patchFlag===-2&&(v=!1,H.dynamicChildren=null);const{type:w,ref:C,shapeFlag:A}=H;switch(w){case ys:q(z,H,W,st);break;case cn:I(z,H,W,st);break;case Ys:z==null&&U(H,W,st,wt);break;case Ce:nt(z,H,W,st,ht,pt,wt,O,v);break;default:A&1?F(z,H,W,st,ht,pt,wt,O,v):A&6?gt(z,H,W,st,ht,pt,wt,O,v):(A&64||A&128)&&w.process(z,H,W,st,ht,pt,wt,O,v,bt)}C!=null&&ht&&ba(C,z&&z.ref,pt,H||z,!H)},q=(z,H,W,st)=>{if(z==null)a(H.el=p(H.children),W,st);else{const ht=H.el=z.el;H.children!==z.children&&g(ht,H.children)}},I=(z,H,W,st)=>{z==null?a(H.el=m(H.children||""),W,st):H.el=z.el},U=(z,H,W,st)=>{[z.el,z.anchor]=R(z.children,H,W,st,z.el,z.anchor)},K=({el:z,anchor:H},W,st)=>{let ht;for(;z&&z!==H;)ht=M(z),a(z,W,st),z=ht;a(H,W,st)},T=({el:z,anchor:H})=>{let W;for(;z&&z!==H;)W=M(z),l(z),z=W;l(H)},F=(z,H,W,st,ht,pt,wt,O,v)=>{wt=wt||H.type==="svg",z==null?$(H,W,st,ht,pt,wt,O,v):it(z,H,ht,pt,wt,O,v)},$=(z,H,W,st,ht,pt,wt,O)=>{let v,w;const{type:C,props:A,shapeFlag:N,transition:Y,dirs:Q}=z;if(v=z.el=f(z.type,pt,A&&A.is,A),N&8?b(v,z.children):N&16&&tt(z.children,v,null,st,ht,pt&&C!=="foreignObject",wt,O),Q&&Oi(z,null,st,"created"),ot(v,z,z.scopeId,wt,st),A){for(const kt in A)kt!=="value"&&!zo(kt)&&u(v,kt,null,A[kt],pt,z.children,st,ht,Ot);"value"in A&&u(v,"value",null,A.value),(w=A.onVnodeBeforeMount)&&Sn(w,st,z)}Q&&Oi(z,null,st,"beforeMount");const ft=(!ht||ht&&!ht.pendingBranch)&&Y&&!Y.persisted;ft&&Y.beforeEnter(v),a(v,H,W),((w=A&&A.onVnodeMounted)||ft||Q)&&$e(()=>{w&&Sn(w,st,z),ft&&Y.enter(v),Q&&Oi(z,null,st,"mounted")},ht)},ot=(z,H,W,st,ht)=>{if(W&&B(z,W),st)for(let pt=0;pt<st.length;pt++)B(z,st[pt]);if(ht){let pt=ht.subTree;if(H===pt){const wt=ht.vnode;ot(z,wt,wt.scopeId,wt.slotScopeIds,ht.parent)}}},tt=(z,H,W,st,ht,pt,wt,O,v=0)=>{for(let w=v;w<z.length;w++){const C=z[w]=O?ci(z[w]):Tn(z[w]);E(null,C,H,W,st,ht,pt,wt,O)}},it=(z,H,W,st,ht,pt,wt)=>{const O=H.el=z.el;let{patchFlag:v,dynamicChildren:w,dirs:C}=H;v|=z.patchFlag&16;const A=z.props||ye,N=H.props||ye;let Y;W&&Ri(W,!1),(Y=N.onVnodeBeforeUpdate)&&Sn(Y,W,H,z),C&&Oi(H,z,W,"beforeUpdate"),W&&Ri(W,!0);const Q=ht&&H.type!=="foreignObject";if(w?ut(z.dynamicChildren,w,O,W,st,Q,pt):wt||dt(z,H,O,null,W,st,Q,pt,!1),v>0){if(v&16)mt(O,H,A,N,W,st,ht);else if(v&2&&A.class!==N.class&&u(O,"class",null,N.class,ht),v&4&&u(O,"style",A.style,N.style,ht),v&8){const ft=H.dynamicProps;for(let kt=0;kt<ft.length;kt++){const Tt=ft[kt],Ft=A[Tt],Vt=N[Tt];(Vt!==Ft||Tt==="value")&&u(O,Tt,Ft,Vt,ht,z.children,W,st,Ot)}}v&1&&z.children!==H.children&&b(O,H.children)}else!wt&&w==null&&mt(O,H,A,N,W,st,ht);((Y=N.onVnodeUpdated)||C)&&$e(()=>{Y&&Sn(Y,W,H,z),C&&Oi(H,z,W,"updated")},st)},ut=(z,H,W,st,ht,pt,wt)=>{for(let O=0;O<H.length;O++){const v=z[O],w=H[O],C=v.el&&(v.type===Ce||!Ii(v,w)||v.shapeFlag&70)?x(v.el):W;E(v,w,C,null,st,ht,pt,wt,!0)}},mt=(z,H,W,st,ht,pt,wt)=>{if(W!==st){if(W!==ye)for(const O in W)!zo(O)&&!(O in st)&&u(z,O,W[O],null,wt,H.children,ht,pt,Ot);for(const O in st){if(zo(O))continue;const v=st[O],w=W[O];v!==w&&O!=="value"&&u(z,O,w,v,wt,H.children,ht,pt,Ot)}"value"in st&&u(z,"value",W.value,st.value)}},nt=(z,H,W,st,ht,pt,wt,O,v)=>{const w=H.el=z?z.el:p(""),C=H.anchor=z?z.anchor:p("");let{patchFlag:A,dynamicChildren:N,slotScopeIds:Y}=H;Y&&(O=O?O.concat(Y):Y),z==null?(a(w,W,st),a(C,W,st),tt(H.children,W,C,ht,pt,wt,O,v)):A>0&&A&64&&N&&z.dynamicChildren?(ut(z.dynamicChildren,N,W,ht,pt,wt,O),(H.key!=null||ht&&H===ht.subTree)&&ec(z,H,!0)):dt(z,H,W,C,ht,pt,wt,O,v)},gt=(z,H,W,st,ht,pt,wt,O,v)=>{H.slotScopeIds=O,z==null?H.shapeFlag&512?ht.ctx.activate(H,W,st,wt,v):Rt(H,W,st,ht,pt,wt,v):Mt(z,H,v)},Rt=(z,H,W,st,ht,pt,wt)=>{const O=z.component=Rp(z,st,ht);if(_s(z)&&(O.ctx.renderer=bt),Ap(O),O.asyncDep){if(ht&&ht.registerDep(O,Lt),!z.el){const v=O.subTree=Zt(cn);I(null,v,H,W)}return}Lt(O,z,H,W,ht,pt,wt)},Mt=(z,H,W)=>{const st=H.component=z.component;if(Fd(z,H,W))if(st.asyncDep&&!st.asyncResolved){Bt(st,H,W);return}else st.next=H,Bd(st.update),st.update();else H.el=z.el,st.vnode=H},Lt=(z,H,W,st,ht,pt,wt)=>{const O=()=>{if(z.isMounted){let{next:C,bu:A,u:N,parent:Y,vnode:Q}=z,ft=C,kt;Ri(z,!1),C?(C.el=Q.el,Bt(z,C,wt)):C=Q,A&&jo(A),(kt=C.props&&C.props.onVnodeBeforeUpdate)&&Sn(kt,Y,C,Q),Ri(z,!0);const Tt=$s(z),Ft=z.subTree;z.subTree=Tt,E(Ft,Tt,x(Ft.el),at(Ft),z,ht,pt),C.el=Tt.el,ft===null&&Ud(z,Tt.el),N&&$e(N,ht),(kt=C.props&&C.props.onVnodeUpdated)&&$e(()=>Sn(kt,Y,C,Q),ht)}else{let C;const{el:A,props:N}=H,{bm:Y,m:Q,parent:ft}=z,kt=Hr(H);if(Ri(z,!1),Y&&jo(Y),!kt&&(C=N&&N.onVnodeBeforeMount)&&Sn(C,ft,H),Ri(z,!0),A&&Yt){const Tt=()=>{z.subTree=$s(z),Yt(A,z.subTree,z,ht,null)};kt?H.type.__asyncLoader().then(()=>!z.isUnmounted&&Tt()):Tt()}else{const Tt=z.subTree=$s(z);E(null,Tt,W,st,z,ht,pt),H.el=Tt.el}if(Q&&$e(Q,ht),!kt&&(C=N&&N.onVnodeMounted)){const Tt=H;$e(()=>Sn(C,ft,Tt),ht)}(H.shapeFlag&256||ft&&Hr(ft.vnode)&&ft.vnode.shapeFlag&256)&&z.a&&$e(z.a,ht),z.isMounted=!0,H=W=st=null}},v=z.effect=new Ga(O,()=>Ja(w),z.scope),w=z.update=()=>v.run();w.id=z.uid,Ri(z,!0),w()},Bt=(z,H,W)=>{H.component=z;const st=z.vnode.props;z.vnode=H,z.next=null,gp(z,H.props,st,W),bp(z,H.children,W),mr(),tu(),gr()},dt=(z,H,W,st,ht,pt,wt,O,v=!1)=>{const w=z&&z.children,C=z?z.shapeFlag:0,A=H.children,{patchFlag:N,shapeFlag:Y}=H;if(N>0){if(N&128){Et(w,A,W,st,ht,pt,wt,O,v);return}else if(N&256){ee(w,A,W,st,ht,pt,wt,O,v);return}}Y&8?(C&16&&Ot(w,ht,pt),A!==w&&b(W,A)):C&16?Y&16?Et(w,A,W,st,ht,pt,wt,O,v):Ot(w,ht,pt,!0):(C&8&&b(W,""),Y&16&&tt(A,W,st,ht,pt,wt,O,v))},ee=(z,H,W,st,ht,pt,wt,O,v)=>{z=z||ar,H=H||ar;const w=z.length,C=H.length,A=Math.min(w,C);let N;for(N=0;N<A;N++){const Y=H[N]=v?ci(H[N]):Tn(H[N]);E(z[N],Y,W,null,ht,pt,wt,O,v)}w>C?Ot(z,ht,pt,!0,!1,A):tt(H,W,st,ht,pt,wt,O,v,A)},Et=(z,H,W,st,ht,pt,wt,O,v)=>{let w=0;const C=H.length;let A=z.length-1,N=C-1;for(;w<=A&&w<=N;){const Y=z[w],Q=H[w]=v?ci(H[w]):Tn(H[w]);if(Ii(Y,Q))E(Y,Q,W,null,ht,pt,wt,O,v);else break;w++}for(;w<=A&&w<=N;){const Y=z[A],Q=H[N]=v?ci(H[N]):Tn(H[N]);if(Ii(Y,Q))E(Y,Q,W,null,ht,pt,wt,O,v);else break;A--,N--}if(w>A){if(w<=N){const Y=N+1,Q=Y<C?H[Y].el:st;for(;w<=N;)E(null,H[w]=v?ci(H[w]):Tn(H[w]),W,Q,ht,pt,wt,O,v),w++}}else if(w>N)for(;w<=A;)Dt(z[w],ht,pt,!0),w++;else{const Y=w,Q=w,ft=new Map;for(w=Q;w<=N;w++){const Qt=H[w]=v?ci(H[w]):Tn(H[w]);Qt.key!=null&&ft.set(Qt.key,w)}let kt,Tt=0;const Ft=N-Q+1;let Vt=!1,le=0;const Gt=new Array(Ft);for(w=0;w<Ft;w++)Gt[w]=0;for(w=Y;w<=A;w++){const Qt=z[w];if(Tt>=Ft){Dt(Qt,ht,pt,!0);continue}let ue;if(Qt.key!=null)ue=ft.get(Qt.key);else for(kt=Q;kt<=N;kt++)if(Gt[kt-Q]===0&&Ii(Qt,H[kt])){ue=kt;break}ue===void 0?Dt(Qt,ht,pt,!0):(Gt[ue-Q]=w+1,ue>=le?le=ue:Vt=!0,E(Qt,H[ue],W,null,ht,pt,wt,O,v),Tt++)}const ae=Vt?wp(Gt):ar;for(kt=ae.length-1,w=Ft-1;w>=0;w--){const Qt=Q+w,ue=H[Qt],Le=Qt+1<C?H[Qt+1].el:st;Gt[w]===0?E(null,ue,W,Le,ht,pt,wt,O,v):Vt&&(kt<0||w!==ae[kt]?Pt(ue,W,Le,2):kt--)}}},Pt=(z,H,W,st,ht=null)=>{const{el:pt,type:wt,transition:O,children:v,shapeFlag:w}=z;if(w&6){Pt(z.component.subTree,H,W,st);return}if(w&128){z.suspense.move(H,W,st);return}if(w&64){wt.move(z,H,W,bt);return}if(wt===Ce){a(pt,H,W);for(let A=0;A<v.length;A++)Pt(v[A],H,W,st);a(z.anchor,H,W);return}if(wt===Ys){K(z,H,W);return}if(st!==2&&w&1&&O)if(st===0)O.beforeEnter(pt),a(pt,H,W),$e(()=>O.enter(pt),ht);else{const{leave:A,delayLeave:N,afterLeave:Y}=O,Q=()=>a(pt,H,W),ft=()=>{A(pt,()=>{Q(),Y&&Y()})};N?N(pt,Q,ft):ft()}else a(pt,H,W)},Dt=(z,H,W,st=!1,ht=!1)=>{const{type:pt,props:wt,ref:O,children:v,dynamicChildren:w,shapeFlag:C,patchFlag:A,dirs:N}=z;if(O!=null&&ba(O,null,W,z,!0),C&256){H.ctx.deactivate(z);return}const Y=C&1&&N,Q=!Hr(z);let ft;if(Q&&(ft=wt&&wt.onVnodeBeforeUnmount)&&Sn(ft,H,z),C&6)Jt(z.component,W,st);else{if(C&128){z.suspense.unmount(W,st);return}Y&&Oi(z,null,H,"beforeUnmount"),C&64?z.type.remove(z,H,W,ht,bt,st):w&&(pt!==Ce||A>0&&A&64)?Ot(w,H,W,!1,!0):(pt===Ce&&A&384||!ht&&C&16)&&Ot(v,H,W),st&&pe(z)}(Q&&(ft=wt&&wt.onVnodeUnmounted)||Y)&&$e(()=>{ft&&Sn(ft,H,z),Y&&Oi(z,null,H,"unmounted")},W)},pe=z=>{const{type:H,el:W,anchor:st,transition:ht}=z;if(H===Ce){ie(W,st);return}if(H===Ys){T(z);return}const pt=()=>{l(W),ht&&!ht.persisted&&ht.afterLeave&&ht.afterLeave()};if(z.shapeFlag&1&&ht&&!ht.persisted){const{leave:wt,delayLeave:O}=ht,v=()=>wt(W,pt);O?O(z.el,pt,v):v()}else pt()},ie=(z,H)=>{let W;for(;z!==H;)W=M(z),l(z),z=W;l(H)},Jt=(z,H,W)=>{const{bum:st,scope:ht,update:pt,subTree:wt,um:O}=z;st&&jo(st),ht.stop(),pt&&(pt.active=!1,Dt(wt,z,H,W)),O&&$e(O,H),$e(()=>{z.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},Ot=(z,H,W,st=!1,ht=!1,pt=0)=>{for(let wt=pt;wt<z.length;wt++)Dt(z[wt],H,W,st,ht)},at=z=>z.shapeFlag&6?at(z.component.subTree):z.shapeFlag&128?z.suspense.next():M(z.anchor||z.el),vt=(z,H,W)=>{z==null?H._vnode&&Dt(H._vnode,null,null,!0):E(H._vnode||null,z,H,null,null,null,W),tu(),Ah(),H._vnode=z},bt={p:E,um:Dt,m:Pt,r:pe,mt:Rt,mc:tt,pc:dt,pbc:ut,n:at,o:e};let St,Yt;return i&&([St,Yt]=i(bt)),{render:vt,hydrate:St,createApp:pp(vt,St)}}function Ri({effect:e,update:i},s){e.allowRecurse=i.allowRecurse=s}function ec(e,i,s=!1){const a=e.children,l=i.children;if(Nt(a)&&Nt(l))for(let u=0;u<a.length;u++){const f=a[u];let p=l[u];p.shapeFlag&1&&!p.dynamicChildren&&((p.patchFlag<=0||p.patchFlag===32)&&(p=l[u]=ci(l[u]),p.el=f.el),s||ec(f,p)),p.type===ys&&(p.el=f.el)}}function wp(e){const i=e.slice(),s=[0];let a,l,u,f,p;const m=e.length;for(a=0;a<m;a++){const g=e[a];if(g!==0){if(l=s[s.length-1],e[l]<g){i[a]=l,s.push(a);continue}for(u=0,f=s.length-1;u<f;)p=u+f>>1,e[s[p]]<g?u=p+1:f=p;g<e[s[u]]&&(u>0&&(i[a]=s[u-1]),s[u]=a)}}for(u=s.length,f=s[u-1];u-- >0;)s[u]=f,f=i[f];return s}const xp=e=>e.__isTeleport,Ce=Symbol.for("v-fgt"),ys=Symbol.for("v-txt"),cn=Symbol.for("v-cmt"),Ys=Symbol.for("v-stc"),qr=[];let gn=null;function Kt(e=!1){qr.push(gn=e?null:[])}function Mp(){qr.pop(),gn=qr[qr.length-1]||null}let no=1;function cu(e){no+=e}function nc(e){return e.dynamicChildren=no>0?gn||ar:null,Mp(),no>0&&gn&&gn.push(e),e}function ve(e,i,s,a,l,u){return nc(ne(e,i,s,a,l,u,!0))}function Be(e,i,s,a,l){return nc(Zt(e,i,s,a,l,!0))}function Qo(e){return e?e.__v_isVNode===!0:!1}function Ii(e,i){return e.type===i.type&&e.key===i.key}const vs="__vInternal",ic=({key:e})=>e??null,Uo=({ref:e,ref_key:i,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ee(e)||xe(e)||Wt(e)?{i:De,r:e,k:i,f:!!s}:e:null);function ne(e,i=null,s=null,a=0,l=null,u=e===Ce?0:1,f=!1,p=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:i,key:i&&ic(i),ref:i&&Uo(i),scopeId:fs,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:a,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:De};return p?(el(m,s),u&128&&e.normalize(m)):s&&(m.shapeFlag|=Ee(s)?8:16),no>0&&!f&&gn&&(m.patchFlag>0||u&6)&&m.patchFlag!==32&&gn.push(m),m}const Zt=Pp;function Pp(e,i=null,s=null,a=0,l=null,u=!1){if((!e||e===op)&&(e=cn),Qo(e)){const p=gi(e,i,!0);return s&&el(p,s),no>0&&!u&&gn&&(p.shapeFlag&6?gn[gn.indexOf(e)]=p:gn.push(p)),p.patchFlag|=-2,p}if(zp(e)&&(e=e.__vccOpts),i){i=Cp(i);let{class:p,style:m}=i;p&&!Ee(p)&&(i.class=Ui(p)),be(m)&&(Ph(m)&&!Nt(m)&&(m=Me({},m)),i.style=Fa(m))}const f=Ee(e)?1:Gd(e)?128:xp(e)?64:be(e)?4:Wt(e)?2:0;return ne(e,i,s,a,l,f,u,!0)}function Cp(e){return e?Ph(e)||vs in e?Me({},e):e:null}function gi(e,i,s=!1){const{props:a,ref:l,patchFlag:u,children:f}=e,p=i?Sp(a||{},i):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&ic(p),ref:i&&i.ref?s&&l?Nt(l)?l.concat(Uo(i)):[l,Uo(i)]:Uo(i):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:i&&e.type!==Ce?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gi(e.ssContent),ssFallback:e.ssFallback&&gi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ep(e=" ",i=0){return Zt(ys,null,e,i)}function bn(e="",i=!1){return i?(Kt(),Be(cn,null,e)):Zt(cn,null,e)}function Tn(e){return e==null||typeof e=="boolean"?Zt(cn):Nt(e)?Zt(Ce,null,e.slice()):typeof e=="object"?ci(e):Zt(ys,null,String(e))}function ci(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gi(e)}function el(e,i){let s=0;const{shapeFlag:a}=e;if(i==null)i=null;else if(Nt(i))s=16;else if(typeof i=="object")if(a&65){const l=i.default;l&&(l._c&&(l._d=!1),el(e,l()),l._c&&(l._d=!0));return}else{s=32;const l=i._;!l&&!(vs in i)?i._ctx=De:l===3&&De&&(De.slots._===1?i._=1:(i._=2,e.patchFlag|=1024))}else Wt(i)?(i={default:i,_ctx:De},s=32):(i=String(i),a&64?(s=16,i=[Ep(i)]):s=8);e.children=i,e.shapeFlag|=s}function Sp(...e){const i={};for(let s=0;s<e.length;s++){const a=e[s];for(const l in a)if(l==="class")i.class!==a.class&&(i.class=Ui([i.class,a.class]));else if(l==="style")i.style=Fa([i.style,a.style]);else if(rs(l)){const u=i[l],f=a[l];f&&u!==f&&!(Nt(u)&&u.includes(f))&&(i[l]=u?[].concat(u,f):f)}else l!==""&&(i[l]=a[l])}return i}function Sn(e,i,s,a=null){hn(e,i,7,[s,a])}const Tp=Wh();let Op=0;function Rp(e,i,s){const a=e.type,l=(i?i.appContext:e.appContext)||Tp,u={uid:Op++,vnode:e,type:a,parent:i,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new ch(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yh(a,l),emitsOptions:Dh(a,l),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:a.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=i?i.root:u,u.emit=Nd.bind(null,u),e.ce&&e.ce(u),u}let Oe=null;const rc=()=>Oe||De;let nl,ir,fu="__VUE_INSTANCE_SETTERS__";(ir=ua()[fu])||(ir=ua()[fu]=[]),ir.push(e=>Oe=e),nl=e=>{ir.length>1?ir.forEach(i=>i(e)):ir[0](e)};const cr=e=>{nl(e),e.scope.on()},Fi=()=>{Oe&&Oe.scope.off(),nl(null)};function oc(e){return e.vnode.shapeFlag&4}let io=!1;function Ap(e,i=!1){io=i;const{props:s,children:a}=e.vnode,l=oc(e);mp(e,s,l,i),vp(e,a);const u=l?Bp(e,i):void 0;return io=!1,u}function Bp(e,i){const s=e.type;e.accessCache=Object.create(null),e.proxy=us(new Proxy(e.ctx,ap));const{setup:a}=s;if(a){const l=e.setupContext=a.length>1?Ip(e):null;cr(e),mr();const u=_i(a,e,0,[e.props,l]);if(gr(),Fi(),sh(u)){if(u.then(Fi,Fi),i)return u.then(f=>{du(e,f,i)}).catch(f=>{hs(f,e,0)});e.asyncDep=u}else du(e,u,i)}else sc(e,i)}function du(e,i,s){Wt(i)?e.type.__ssrInlineRender?e.ssrRender=i:e.render=i:be(i)&&(e.setupState=Th(i)),sc(e,s)}let pu;function sc(e,i,s){const a=e.type;if(!e.render){if(!i&&pu&&!a.render){const l=a.template||Qa(e).template;if(l){const{isCustomElement:u,compilerOptions:f}=e.appContext.config,{delimiters:p,compilerOptions:m}=a,g=Me(Me({isCustomElement:u,delimiters:p},f),m);a.render=pu(l,g)}}e.render=a.render||vn}cr(e),mr(),lp(e),gr(),Fi()}function Dp(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(i,s){return Je(e,"get","$attrs"),i[s]}}))}function Ip(e){const i=s=>{e.exposed=s||{}};return{get attrs(){return Dp(e)},slots:e.slots,emit:e.emit,expose:i}}function bs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Th(us(e.exposed)),{get(i,s){if(s in i)return i[s];if(s in Kr)return Kr[s](e)},has(i,s){return s in i||s in Kr}}))}function Np(e,i=!0){return Wt(e)?e.displayName||e.name:e.name||i&&e.__name}function zp(e){return Wt(e)&&"__vccOpts"in e}const en=(e,i)=>Od(e,i,io);function il(e,i,s){const a=arguments.length;return a===2?be(i)&&!Nt(i)?Qo(i)?Zt(e,null,[i]):Zt(e,i):Zt(e,null,i):(a>3?s=Array.prototype.slice.call(arguments,2):a===3&&Qo(s)&&(s=[s]),Zt(e,i,s))}const jp=Symbol.for("v-scx"),Fp=()=>Rn(jp),Up="3.3.4",Gp="http://www.w3.org/2000/svg",Ni=typeof document<"u"?document:null,_u=Ni&&Ni.createElement("template"),Zp={insert:(e,i,s)=>{i.insertBefore(e,s||null)},remove:e=>{const i=e.parentNode;i&&i.removeChild(e)},createElement:(e,i,s,a)=>{const l=i?Ni.createElementNS(Gp,e):Ni.createElement(e,s?{is:s}:void 0);return e==="select"&&a&&a.multiple!=null&&l.setAttribute("multiple",a.multiple),l},createText:e=>Ni.createTextNode(e),createComment:e=>Ni.createComment(e),setText:(e,i)=>{e.nodeValue=i},setElementText:(e,i)=>{e.textContent=i},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ni.querySelector(e),setScopeId(e,i){e.setAttribute(i,"")},insertStaticContent(e,i,s,a,l,u){const f=s?s.previousSibling:i.lastChild;if(l&&(l===u||l.nextSibling))for(;i.insertBefore(l.cloneNode(!0),s),!(l===u||!(l=l.nextSibling)););else{_u.innerHTML=a?`<svg>${e}</svg>`:e;const p=_u.content;if(a){const m=p.firstChild;for(;m.firstChild;)p.appendChild(m.firstChild);p.removeChild(m)}i.insertBefore(p,s)}return[f?f.nextSibling:i.firstChild,s?s.previousSibling:i.lastChild]}};function Vp(e,i,s){const a=e._vtc;a&&(i=(i?[i,...a]:[...a]).join(" ")),i==null?e.removeAttribute("class"):s?e.setAttribute("class",i):e.className=i}function Hp(e,i,s){const a=e.style,l=Ee(s);if(s&&!l){if(i&&!Ee(i))for(const u in i)s[u]==null&&La(a,u,"");for(const u in s)La(a,u,s[u])}else{const u=a.display;l?i!==s&&(a.cssText=s):i&&e.removeAttribute("style"),"_vod"in e&&(a.display=u)}}const mu=/\s*!important$/;function La(e,i,s){if(Nt(s))s.forEach(a=>La(e,i,a));else if(s==null&&(s=""),i.startsWith("--"))e.setProperty(i,s);else{const a=Kp(e,i);mu.test(s)?e.setProperty(_r(a),s.replace(mu,""),"important"):e[a]=s}}const gu=["Webkit","Moz","ms"],Xs={};function Kp(e,i){const s=Xs[i];if(s)return s;let a=An(i);if(a!=="filter"&&a in e)return Xs[i]=a;a=as(a);for(let l=0;l<gu.length;l++){const u=gu[l]+a;if(u in e)return Xs[i]=u}return i}const yu="http://www.w3.org/1999/xlink";function qp(e,i,s,a,l){if(a&&i.startsWith("xlink:"))s==null?e.removeAttributeNS(yu,i.slice(6,i.length)):e.setAttributeNS(yu,i,s);else{const u=$f(i);s==null||u&&!uh(s)?e.removeAttribute(i):e.setAttribute(i,u?"":s)}}function $p(e,i,s,a,l,u,f){if(i==="innerHTML"||i==="textContent"){a&&f(a,l,u),e[i]=s??"";return}const p=e.tagName;if(i==="value"&&p!=="PROGRESS"&&!p.includes("-")){e._value=s;const g=p==="OPTION"?e.getAttribute("value"):e.value,b=s??"";g!==b&&(e.value=b),s==null&&e.removeAttribute(i);return}let m=!1;if(s===""||s==null){const g=typeof e[i];g==="boolean"?s=uh(s):s==null&&g==="string"?(s="",m=!0):g==="number"&&(s=0,m=!0)}try{e[i]=s}catch{}m&&e.removeAttribute(i)}function or(e,i,s,a){e.addEventListener(i,s,a)}function Wp(e,i,s,a){e.removeEventListener(i,s,a)}function Jp(e,i,s,a,l=null){const u=e._vei||(e._vei={}),f=u[i];if(a&&f)f.value=a;else{const[p,m]=Yp(i);if(a){const g=u[i]=t_(a,l);or(e,p,g,m)}else f&&(Wp(e,p,f,m),u[i]=void 0)}}const vu=/(?:Once|Passive|Capture)$/;function Yp(e){let i;if(vu.test(e)){i={};let a;for(;a=e.match(vu);)e=e.slice(0,e.length-a[0].length),i[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):_r(e.slice(2)),i]}let Qs=0;const Xp=Promise.resolve(),Qp=()=>Qs||(Xp.then(()=>Qs=0),Qs=Date.now());function t_(e,i){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;hn(e_(a,s.value),i,5,[a])};return s.value=e,s.attached=Qp(),s}function e_(e,i){if(Nt(i)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},i.map(a=>l=>!l._stopped&&a&&a(l))}else return i}const bu=/^on[a-z]/,n_=(e,i,s,a,l=!1,u,f,p,m)=>{i==="class"?Vp(e,a,l):i==="style"?Hp(e,s,a):rs(i)?Ia(i)||Jp(e,i,s,a,f):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):i_(e,i,a,l))?$p(e,i,a,u,f,p,m):(i==="true-value"?e._trueValue=a:i==="false-value"&&(e._falseValue=a),qp(e,i,a,l))};function i_(e,i,s,a){return a?!!(i==="innerHTML"||i==="textContent"||i in e&&bu.test(i)&&Wt(s)):i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&e.tagName==="INPUT"||i==="type"&&e.tagName==="TEXTAREA"||bu.test(i)&&Ee(s)?!1:i in e}const si="transition",Nr="animation",rl=(e,{slots:i})=>il(qd,r_(e),i);rl.displayName="Transition";const ac={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};rl.props=Me({},zh,ac);const Ai=(e,i=[])=>{Nt(e)?e.forEach(s=>s(...i)):e&&e(...i)},Lu=e=>e?Nt(e)?e.some(i=>i.length>1):e.length>1:!1;function r_(e){const i={};for(const nt in e)nt in ac||(i[nt]=e[nt]);if(e.css===!1)return i;const{name:s="v",type:a,duration:l,enterFromClass:u=`${s}-enter-from`,enterActiveClass:f=`${s}-enter-active`,enterToClass:p=`${s}-enter-to`,appearFromClass:m=u,appearActiveClass:g=f,appearToClass:b=p,leaveFromClass:x=`${s}-leave-from`,leaveActiveClass:M=`${s}-leave-active`,leaveToClass:B=`${s}-leave-to`}=e,R=o_(l),E=R&&R[0],q=R&&R[1],{onBeforeEnter:I,onEnter:U,onEnterCancelled:K,onLeave:T,onLeaveCancelled:F,onBeforeAppear:$=I,onAppear:ot=U,onAppearCancelled:tt=K}=i,it=(nt,gt,Rt)=>{Bi(nt,gt?b:p),Bi(nt,gt?g:f),Rt&&Rt()},ut=(nt,gt)=>{nt._isLeaving=!1,Bi(nt,x),Bi(nt,B),Bi(nt,M),gt&&gt()},mt=nt=>(gt,Rt)=>{const Mt=nt?ot:U,Lt=()=>it(gt,nt,Rt);Ai(Mt,[gt,Lt]),ku(()=>{Bi(gt,nt?m:u),ai(gt,nt?b:p),Lu(Mt)||wu(gt,a,E,Lt)})};return Me(i,{onBeforeEnter(nt){Ai(I,[nt]),ai(nt,u),ai(nt,f)},onBeforeAppear(nt){Ai($,[nt]),ai(nt,m),ai(nt,g)},onEnter:mt(!1),onAppear:mt(!0),onLeave(nt,gt){nt._isLeaving=!0;const Rt=()=>ut(nt,gt);ai(nt,x),l_(),ai(nt,M),ku(()=>{nt._isLeaving&&(Bi(nt,x),ai(nt,B),Lu(T)||wu(nt,a,q,Rt))}),Ai(T,[nt,Rt])},onEnterCancelled(nt){it(nt,!1),Ai(K,[nt])},onAppearCancelled(nt){it(nt,!0),Ai(tt,[nt])},onLeaveCancelled(nt){ut(nt),Ai(F,[nt])}})}function o_(e){if(e==null)return null;if(be(e))return[ta(e.enter),ta(e.leave)];{const i=ta(e);return[i,i]}}function ta(e){return Gf(e)}function ai(e,i){i.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e._vtc||(e._vtc=new Set)).add(i)}function Bi(e,i){i.split(/\s+/).forEach(a=>a&&e.classList.remove(a));const{_vtc:s}=e;s&&(s.delete(i),s.size||(e._vtc=void 0))}function ku(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let s_=0;function wu(e,i,s,a){const l=e._endId=++s_,u=()=>{l===e._endId&&a()};if(s)return setTimeout(u,s);const{type:f,timeout:p,propCount:m}=a_(e,i);if(!f)return a();const g=f+"end";let b=0;const x=()=>{e.removeEventListener(g,M),u()},M=B=>{B.target===e&&++b>=m&&x()};setTimeout(()=>{b<m&&x()},p+1),e.addEventListener(g,M)}function a_(e,i){const s=window.getComputedStyle(e),a=R=>(s[R]||"").split(", "),l=a(`${si}Delay`),u=a(`${si}Duration`),f=xu(l,u),p=a(`${Nr}Delay`),m=a(`${Nr}Duration`),g=xu(p,m);let b=null,x=0,M=0;i===si?f>0&&(b=si,x=f,M=u.length):i===Nr?g>0&&(b=Nr,x=g,M=m.length):(x=Math.max(f,g),b=x>0?f>g?si:Nr:null,M=b?b===si?u.length:m.length:0);const B=b===si&&/\b(transform|all)(,|$)/.test(a(`${si}Property`).toString());return{type:b,timeout:x,propCount:M,hasTransform:B}}function xu(e,i){for(;e.length<i.length;)e=e.concat(e);return Math.max(...i.map((s,a)=>Mu(s)+Mu(e[a])))}function Mu(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function l_(){return document.body.offsetHeight}const Pu=e=>{const i=e.props["onUpdate:modelValue"]||!1;return Nt(i)?s=>jo(i,s):i};function u_(e){e.target.composing=!0}function Cu(e){const i=e.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const h_={created(e,{modifiers:{lazy:i,trim:s,number:a}},l){e._assign=Pu(l);const u=a||l.props&&l.props.type==="number";or(e,i?"change":"input",f=>{if(f.target.composing)return;let p=e.value;s&&(p=p.trim()),u&&(p=la(p)),e._assign(p)}),s&&or(e,"change",()=>{e.value=e.value.trim()}),i||(or(e,"compositionstart",u_),or(e,"compositionend",Cu),or(e,"change",Cu))},mounted(e,{value:i}){e.value=i??""},beforeUpdate(e,{value:i,modifiers:{lazy:s,trim:a,number:l}},u){if(e._assign=Pu(u),e.composing||document.activeElement===e&&e.type!=="range"&&(s||a&&e.value.trim()===i||(l||e.type==="number")&&la(e.value)===i))return;const f=i??"";e.value!==f&&(e.value=f)}},c_=["ctrl","shift","alt","meta"],f_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,i)=>c_.some(s=>e[`${s}Key`]&&!i.includes(s))},Eu=(e,i)=>(s,...a)=>{for(let l=0;l<i.length;l++){const u=f_[i[l]];if(u&&u(s,i))return}return e(s,...a)},d_={beforeMount(e,{value:i},{transition:s}){e._vod=e.style.display==="none"?"":e.style.display,s&&i?s.beforeEnter(e):zr(e,i)},mounted(e,{value:i},{transition:s}){s&&i&&s.enter(e)},updated(e,{value:i,oldValue:s},{transition:a}){!i!=!s&&(a?i?(a.beforeEnter(e),zr(e,!0),a.enter(e)):a.leave(e,()=>{zr(e,!1)}):zr(e,i))},beforeUnmount(e,{value:i}){zr(e,i)}};function zr(e,i){e.style.display=i?e._vod:"none"}const p_=Me({patchProp:n_},Zp);let Su;function __(){return Su||(Su=Lp(p_))}const m_=(...e)=>{const i=__().createApp(...e),{mount:s}=i;return i.mount=a=>{const l=g_(a);if(!l)return;const u=i._component;!Wt(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.innerHTML="";const f=s(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),f},i};function g_(e){return Ee(e)?document.querySelector(e):e}var y_=!1;/*!
 * pinia v2.1.6
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let lc;const Ls=e=>lc=e,uc=Symbol();function ka(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var $r;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})($r||($r={}));function v_(){const e=fh(!0),i=e.run(()=>de({}));let s=[],a=[];const l=us({install(u){Ls(l),l._a=u,u.provide(uc,l),u.config.globalProperties.$pinia=l,a.forEach(f=>s.push(f)),a=[]},use(u){return!this._a&&!y_?a.push(u):s.push(u),this},_p:s,_a:null,_e:e,_s:new Map,state:i});return l}const hc=()=>{};function Tu(e,i,s,a=hc){e.push(i);const l=()=>{const u=e.indexOf(i);u>-1&&(e.splice(u,1),a())};return!s&&dh()&&Jf(l),l}function rr(e,...i){e.slice().forEach(s=>{s(...i)})}const b_=e=>e();function wa(e,i){e instanceof Map&&i instanceof Map&&i.forEach((s,a)=>e.set(a,s)),e instanceof Set&&i instanceof Set&&i.forEach(e.add,e);for(const s in i){if(!i.hasOwnProperty(s))continue;const a=i[s],l=e[s];ka(l)&&ka(a)&&e.hasOwnProperty(s)&&!xe(a)&&!pi(a)?e[s]=wa(l,a):e[s]=a}return e}const L_=Symbol();function k_(e){return!ka(e)||!e.hasOwnProperty(L_)}const{assign:hi}=Object;function w_(e){return!!(xe(e)&&e.effect)}function x_(e,i,s,a){const{state:l,actions:u,getters:f}=i,p=s.state.value[e];let m;function g(){p||(s.state.value[e]=l?l():{});const b=Cd(s.state.value[e]);return hi(b,u,Object.keys(f||{}).reduce((x,M)=>(x[M]=us(en(()=>{Ls(s);const B=s._s.get(e);return f[M].call(B,B)})),x),{}))}return m=cc(e,g,i,s,a,!0),m}function cc(e,i,s={},a,l,u){let f;const p=hi({actions:{}},s),m={deep:!0};let g,b,x=[],M=[],B;const R=a.state.value[e];!u&&!R&&(a.state.value[e]={}),de({});let E;function q(tt){let it;g=b=!1,typeof tt=="function"?(tt(a.state.value[e]),it={type:$r.patchFunction,storeId:e,events:B}):(wa(a.state.value[e],tt),it={type:$r.patchObject,payload:tt,storeId:e,events:B});const ut=E=Symbol();Wa().then(()=>{E===ut&&(g=!0)}),b=!0,rr(x,it,a.state.value[e])}const I=u?function(){const{state:it}=s,ut=it?it():{};this.$patch(mt=>{hi(mt,ut)})}:hc;function U(){f.stop(),x=[],M=[],a._s.delete(e)}function K(tt,it){return function(){Ls(a);const ut=Array.from(arguments),mt=[],nt=[];function gt(Lt){mt.push(Lt)}function Rt(Lt){nt.push(Lt)}rr(M,{args:ut,name:tt,store:F,after:gt,onError:Rt});let Mt;try{Mt=it.apply(this&&this.$id===e?this:F,ut)}catch(Lt){throw rr(nt,Lt),Lt}return Mt instanceof Promise?Mt.then(Lt=>(rr(mt,Lt),Lt)).catch(Lt=>(rr(nt,Lt),Promise.reject(Lt))):(rr(mt,Mt),Mt)}}const T={_p:a,$id:e,$onAction:Tu.bind(null,M),$patch:q,$reset:I,$subscribe(tt,it={}){const ut=Tu(x,tt,it.detached,()=>mt()),mt=f.run(()=>$n(()=>a.state.value[e],nt=>{(it.flush==="sync"?b:g)&&tt({storeId:e,type:$r.direct,events:B},nt)},hi({},m,it)));return ut},$dispose:U},F=so(T);a._s.set(e,F);const $=a._a&&a._a.runWithContext||b_,ot=a._e.run(()=>(f=fh(),$(()=>f.run(i))));for(const tt in ot){const it=ot[tt];if(xe(it)&&!w_(it)||pi(it))u||(R&&k_(it)&&(xe(it)?it.value=R[tt]:wa(it,R[tt])),a.state.value[e][tt]=it);else if(typeof it=="function"){const ut=K(tt,it);ot[tt]=ut,p.actions[tt]=it}}return hi(F,ot),hi(re(F),ot),Object.defineProperty(F,"$state",{get:()=>a.state.value[e],set:tt=>{q(it=>{hi(it,tt)})}}),a._p.forEach(tt=>{hi(F,f.run(()=>tt({store:F,app:a._a,pinia:a,options:p})))}),R&&u&&s.hydrate&&s.hydrate(F.$state,R),g=!0,b=!0,F}function fc(e,i,s){let a,l;const u=typeof i=="function";typeof e=="string"?(a=e,l=u?s:i):(l=e,a=e.id);function f(p,m){const g=_p();return p=p||(g?Rn(uc,null):null),p&&Ls(p),p=lc,p._s.has(a)||(u?cc(a,i,l,p):x_(a,l,p)),p._s.get(a)}return f.$id=a,f}function dc(e,i){return function(){return e.apply(i,arguments)}}const{toString:M_}=Object.prototype,{getPrototypeOf:ol}=Object,ks=(e=>i=>{const s=M_.call(i);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=e=>(e=e.toLowerCase(),i=>ks(i)===e),ws=e=>i=>typeof i===e,{isArray:yr}=Array,ro=ws("undefined");function P_(e){return e!==null&&!ro(e)&&e.constructor!==null&&!ro(e.constructor)&&fn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const pc=Dn("ArrayBuffer");function C_(e){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(e):i=e&&e.buffer&&pc(e.buffer),i}const E_=ws("string"),fn=ws("function"),_c=ws("number"),xs=e=>e!==null&&typeof e=="object",S_=e=>e===!0||e===!1,Go=e=>{if(ks(e)!=="object")return!1;const i=ol(e);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},T_=Dn("Date"),O_=Dn("File"),R_=Dn("Blob"),A_=Dn("FileList"),B_=e=>xs(e)&&fn(e.pipe),D_=e=>{let i;return e&&(typeof FormData=="function"&&e instanceof FormData||fn(e.append)&&((i=ks(e))==="formdata"||i==="object"&&fn(e.toString)&&e.toString()==="[object FormData]"))},I_=Dn("URLSearchParams"),N_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ao(e,i,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,l;if(typeof e!="object"&&(e=[e]),yr(e))for(a=0,l=e.length;a<l;a++)i.call(null,e[a],a,e);else{const u=s?Object.getOwnPropertyNames(e):Object.keys(e),f=u.length;let p;for(a=0;a<f;a++)p=u[a],i.call(null,e[p],p,e)}}function mc(e,i){i=i.toLowerCase();const s=Object.keys(e);let a=s.length,l;for(;a-- >0;)if(l=s[a],i===l.toLowerCase())return l;return null}const gc=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),yc=e=>!ro(e)&&e!==gc;function xa(){const{caseless:e}=yc(this)&&this||{},i={},s=(a,l)=>{const u=e&&mc(i,l)||l;Go(i[u])&&Go(a)?i[u]=xa(i[u],a):Go(a)?i[u]=xa({},a):yr(a)?i[u]=a.slice():i[u]=a};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&ao(arguments[a],s);return i}const z_=(e,i,s,{allOwnKeys:a}={})=>(ao(i,(l,u)=>{s&&fn(l)?e[u]=dc(l,s):e[u]=l},{allOwnKeys:a}),e),j_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),F_=(e,i,s,a)=>{e.prototype=Object.create(i.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:i.prototype}),s&&Object.assign(e.prototype,s)},U_=(e,i,s,a)=>{let l,u,f;const p={};if(i=i||{},e==null)return i;do{for(l=Object.getOwnPropertyNames(e),u=l.length;u-- >0;)f=l[u],(!a||a(f,e,i))&&!p[f]&&(i[f]=e[f],p[f]=!0);e=s!==!1&&ol(e)}while(e&&(!s||s(e,i))&&e!==Object.prototype);return i},G_=(e,i,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=i.length;const a=e.indexOf(i,s);return a!==-1&&a===s},Z_=e=>{if(!e)return null;if(yr(e))return e;let i=e.length;if(!_c(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=e[i];return s},V_=(e=>i=>e&&i instanceof e)(typeof Uint8Array<"u"&&ol(Uint8Array)),H_=(e,i)=>{const a=(e&&e[Symbol.iterator]).call(e);let l;for(;(l=a.next())&&!l.done;){const u=l.value;i.call(e,u[0],u[1])}},K_=(e,i)=>{let s;const a=[];for(;(s=e.exec(i))!==null;)a.push(s);return a},q_=Dn("HTMLFormElement"),$_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,l){return a.toUpperCase()+l}),Ou=(({hasOwnProperty:e})=>(i,s)=>e.call(i,s))(Object.prototype),W_=Dn("RegExp"),vc=(e,i)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ao(s,(l,u)=>{let f;(f=i(l,u,e))!==!1&&(a[u]=f||l)}),Object.defineProperties(e,a)},J_=e=>{vc(e,(i,s)=>{if(fn(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(fn(a)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Y_=(e,i)=>{const s={},a=l=>{l.forEach(u=>{s[u]=!0})};return yr(e)?a(e):a(String(e).split(i)),s},X_=()=>{},Q_=(e,i)=>(e=+e,Number.isFinite(e)?e:i),ea="abcdefghijklmnopqrstuvwxyz",Ru="0123456789",bc={DIGIT:Ru,ALPHA:ea,ALPHA_DIGIT:ea+ea.toUpperCase()+Ru},tm=(e=16,i=bc.ALPHA_DIGIT)=>{let s="";const{length:a}=i;for(;e--;)s+=i[Math.random()*a|0];return s};function em(e){return!!(e&&fn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const nm=e=>{const i=new Array(10),s=(a,l)=>{if(xs(a)){if(i.indexOf(a)>=0)return;if(!("toJSON"in a)){i[l]=a;const u=yr(a)?[]:{};return ao(a,(f,p)=>{const m=s(f,l+1);!ro(m)&&(u[p]=m)}),i[l]=void 0,u}}return a};return s(e,0)},im=Dn("AsyncFunction"),rm=e=>e&&(xs(e)||fn(e))&&fn(e.then)&&fn(e.catch),ct={isArray:yr,isArrayBuffer:pc,isBuffer:P_,isFormData:D_,isArrayBufferView:C_,isString:E_,isNumber:_c,isBoolean:S_,isObject:xs,isPlainObject:Go,isUndefined:ro,isDate:T_,isFile:O_,isBlob:R_,isRegExp:W_,isFunction:fn,isStream:B_,isURLSearchParams:I_,isTypedArray:V_,isFileList:A_,forEach:ao,merge:xa,extend:z_,trim:N_,stripBOM:j_,inherits:F_,toFlatObject:U_,kindOf:ks,kindOfTest:Dn,endsWith:G_,toArray:Z_,forEachEntry:H_,matchAll:K_,isHTMLForm:q_,hasOwnProperty:Ou,hasOwnProp:Ou,reduceDescriptors:vc,freezeMethods:J_,toObjectSet:Y_,toCamelCase:$_,noop:X_,toFiniteNumber:Q_,findKey:mc,global:gc,isContextDefined:yc,ALPHABET:bc,generateString:tm,isSpecCompliantForm:em,toJSONObject:nm,isAsyncFn:im,isThenable:rm};function se(e,i,s,a,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),a&&(this.request=a),l&&(this.response=l)}ct.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lc=se.prototype,kc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{kc[e]={value:e}});Object.defineProperties(se,kc);Object.defineProperty(Lc,"isAxiosError",{value:!0});se.from=(e,i,s,a,l,u)=>{const f=Object.create(Lc);return ct.toFlatObject(e,f,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),se.call(f,e.message,i,s,a,l),f.cause=e,f.name=e.name,u&&Object.assign(f,u),f};const om=null;function Ma(e){return ct.isPlainObject(e)||ct.isArray(e)}function wc(e){return ct.endsWith(e,"[]")?e.slice(0,-2):e}function Au(e,i,s){return e?e.concat(i).map(function(l,u){return l=wc(l),!s&&u?"["+l+"]":l}).join(s?".":""):i}function sm(e){return ct.isArray(e)&&!e.some(Ma)}const am=ct.toFlatObject(ct,{},null,function(i){return/^is[A-Z]/.test(i)});function Ms(e,i,s){if(!ct.isObject(e))throw new TypeError("target must be an object");i=i||new FormData,s=ct.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,q){return!ct.isUndefined(q[E])});const a=s.metaTokens,l=s.visitor||b,u=s.dots,f=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(i);if(!ct.isFunction(l))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(ct.isDate(R))return R.toISOString();if(!m&&ct.isBlob(R))throw new se("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(R)||ct.isTypedArray(R)?m&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,E,q){let I=R;if(R&&!q&&typeof R=="object"){if(ct.endsWith(E,"{}"))E=a?E:E.slice(0,-2),R=JSON.stringify(R);else if(ct.isArray(R)&&sm(R)||(ct.isFileList(R)||ct.endsWith(E,"[]"))&&(I=ct.toArray(R)))return E=wc(E),I.forEach(function(K,T){!(ct.isUndefined(K)||K===null)&&i.append(f===!0?Au([E],T,u):f===null?E:E+"[]",g(K))}),!1}return Ma(R)?!0:(i.append(Au(q,E,u),g(R)),!1)}const x=[],M=Object.assign(am,{defaultVisitor:b,convertValue:g,isVisitable:Ma});function B(R,E){if(!ct.isUndefined(R)){if(x.indexOf(R)!==-1)throw Error("Circular reference detected in "+E.join("."));x.push(R),ct.forEach(R,function(I,U){(!(ct.isUndefined(I)||I===null)&&l.call(i,I,ct.isString(U)?U.trim():U,E,M))===!0&&B(I,E?E.concat(U):[U])}),x.pop()}}if(!ct.isObject(e))throw new TypeError("data must be an object");return B(e),i}function Bu(e){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return i[a]})}function sl(e,i){this._pairs=[],e&&Ms(e,this,i)}const xc=sl.prototype;xc.append=function(i,s){this._pairs.push([i,s])};xc.toString=function(i){const s=i?function(a){return i.call(this,a,Bu)}:Bu;return this._pairs.map(function(l){return s(l[0])+"="+s(l[1])},"").join("&")};function lm(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mc(e,i,s){if(!i)return e;const a=s&&s.encode||lm,l=s&&s.serialize;let u;if(l?u=l(i,s):u=ct.isURLSearchParams(i)?i.toString():new sl(i,s).toString(a),u){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class um{constructor(){this.handlers=[]}use(i,s,a){return this.handlers.push({fulfilled:i,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){ct.forEach(this.handlers,function(a){a!==null&&i(a)})}}const Du=um,Pc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hm=typeof URLSearchParams<"u"?URLSearchParams:sl,cm=typeof FormData<"u"?FormData:null,fm=typeof Blob<"u"?Blob:null,dm=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),pm=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yn={isBrowser:!0,classes:{URLSearchParams:hm,FormData:cm,Blob:fm},isStandardBrowserEnv:dm,isStandardBrowserWebWorkerEnv:pm,protocols:["http","https","file","blob","url","data"]};function _m(e,i){return Ms(e,new yn.classes.URLSearchParams,Object.assign({visitor:function(s,a,l,u){return yn.isNode&&ct.isBuffer(s)?(this.append(a,s.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},i))}function mm(e){return ct.matchAll(/\w+|\[(\w*)]/g,e).map(i=>i[0]==="[]"?"":i[1]||i[0])}function gm(e){const i={},s=Object.keys(e);let a;const l=s.length;let u;for(a=0;a<l;a++)u=s[a],i[u]=e[u];return i}function Cc(e){function i(s,a,l,u){let f=s[u++];const p=Number.isFinite(+f),m=u>=s.length;return f=!f&&ct.isArray(l)?l.length:f,m?(ct.hasOwnProp(l,f)?l[f]=[l[f],a]:l[f]=a,!p):((!l[f]||!ct.isObject(l[f]))&&(l[f]=[]),i(s,a,l[f],u)&&ct.isArray(l[f])&&(l[f]=gm(l[f])),!p)}if(ct.isFormData(e)&&ct.isFunction(e.entries)){const s={};return ct.forEachEntry(e,(a,l)=>{i(mm(a),l,s,0)}),s}return null}function ym(e,i,s){if(ct.isString(e))try{return(i||JSON.parse)(e),ct.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const al={transitional:Pc,adapter:yn.isNode?"http":"xhr",transformRequest:[function(i,s){const a=s.getContentType()||"",l=a.indexOf("application/json")>-1,u=ct.isObject(i);if(u&&ct.isHTMLForm(i)&&(i=new FormData(i)),ct.isFormData(i))return l&&l?JSON.stringify(Cc(i)):i;if(ct.isArrayBuffer(i)||ct.isBuffer(i)||ct.isStream(i)||ct.isFile(i)||ct.isBlob(i))return i;if(ct.isArrayBufferView(i))return i.buffer;if(ct.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let p;if(u){if(a.indexOf("application/x-www-form-urlencoded")>-1)return _m(i,this.formSerializer).toString();if((p=ct.isFileList(i))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Ms(p?{"files[]":i}:i,m&&new m,this.formSerializer)}}return u||l?(s.setContentType("application/json",!1),ym(i)):i}],transformResponse:[function(i){const s=this.transitional||al.transitional,a=s&&s.forcedJSONParsing,l=this.responseType==="json";if(i&&ct.isString(i)&&(a&&!this.responseType||l)){const f=!(s&&s.silentJSONParsing)&&l;try{return JSON.parse(i)}catch(p){if(f)throw p.name==="SyntaxError"?se.from(p,se.ERR_BAD_RESPONSE,this,null,this.response):p}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],e=>{al.headers[e]={}});const ll=al,vm=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bm=e=>{const i={};let s,a,l;return e&&e.split(`
`).forEach(function(f){l=f.indexOf(":"),s=f.substring(0,l).trim().toLowerCase(),a=f.substring(l+1).trim(),!(!s||i[s]&&vm[s])&&(s==="set-cookie"?i[s]?i[s].push(a):i[s]=[a]:i[s]=i[s]?i[s]+", "+a:a)}),i},Iu=Symbol("internals");function jr(e){return e&&String(e).trim().toLowerCase()}function Zo(e){return e===!1||e==null?e:ct.isArray(e)?e.map(Zo):String(e)}function Lm(e){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)i[a[1]]=a[2];return i}const km=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function na(e,i,s,a,l){if(ct.isFunction(a))return a.call(this,i,s);if(l&&(i=s),!!ct.isString(i)){if(ct.isString(a))return i.indexOf(a)!==-1;if(ct.isRegExp(a))return a.test(i)}}function wm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,a)=>s.toUpperCase()+a)}function xm(e,i){const s=ct.toCamelCase(" "+i);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(l,u,f){return this[a].call(this,i,l,u,f)},configurable:!0})})}let Ps=class{constructor(i){i&&this.set(i)}set(i,s,a){const l=this;function u(p,m,g){const b=jr(m);if(!b)throw new Error("header name must be a non-empty string");const x=ct.findKey(l,b);(!x||l[x]===void 0||g===!0||g===void 0&&l[x]!==!1)&&(l[x||m]=Zo(p))}const f=(p,m)=>ct.forEach(p,(g,b)=>u(g,b,m));return ct.isPlainObject(i)||i instanceof this.constructor?f(i,s):ct.isString(i)&&(i=i.trim())&&!km(i)?f(bm(i),s):i!=null&&u(s,i,a),this}get(i,s){if(i=jr(i),i){const a=ct.findKey(this,i);if(a){const l=this[a];if(!s)return l;if(s===!0)return Lm(l);if(ct.isFunction(s))return s.call(this,l,a);if(ct.isRegExp(s))return s.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=jr(i),i){const a=ct.findKey(this,i);return!!(a&&this[a]!==void 0&&(!s||na(this,this[a],a,s)))}return!1}delete(i,s){const a=this;let l=!1;function u(f){if(f=jr(f),f){const p=ct.findKey(a,f);p&&(!s||na(a,a[p],p,s))&&(delete a[p],l=!0)}}return ct.isArray(i)?i.forEach(u):u(i),l}clear(i){const s=Object.keys(this);let a=s.length,l=!1;for(;a--;){const u=s[a];(!i||na(this,this[u],u,i,!0))&&(delete this[u],l=!0)}return l}normalize(i){const s=this,a={};return ct.forEach(this,(l,u)=>{const f=ct.findKey(a,u);if(f){s[f]=Zo(l),delete s[u];return}const p=i?wm(u):String(u).trim();p!==u&&delete s[u],s[p]=Zo(l),a[p]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return ct.forEach(this,(a,l)=>{a!=null&&a!==!1&&(s[l]=i&&ct.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const a=new this(i);return s.forEach(l=>a.set(l)),a}static accessor(i){const a=(this[Iu]=this[Iu]={accessors:{}}).accessors,l=this.prototype;function u(f){const p=jr(f);a[p]||(xm(l,f),a[p]=!0)}return ct.isArray(i)?i.forEach(u):u(i),this}};Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(Ps.prototype,({value:e},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>e,set(a){this[s]=a}}});ct.freezeMethods(Ps);const Wn=Ps;function ia(e,i){const s=this||ll,a=i||s,l=Wn.from(a.headers);let u=a.data;return ct.forEach(e,function(p){u=p.call(s,u,l.normalize(),i?i.status:void 0)}),l.normalize(),u}function Ec(e){return!!(e&&e.__CANCEL__)}function lo(e,i,s){se.call(this,e??"canceled",se.ERR_CANCELED,i,s),this.name="CanceledError"}ct.inherits(lo,se,{__CANCEL__:!0});function Mm(e,i,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):i(new se("Request failed with status code "+s.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}const Pm=yn.isStandardBrowserEnv?function(){return{write:function(s,a,l,u,f,p){const m=[];m.push(s+"="+encodeURIComponent(a)),ct.isNumber(l)&&m.push("expires="+new Date(l).toGMTString()),ct.isString(u)&&m.push("path="+u),ct.isString(f)&&m.push("domain="+f),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(s){const a=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return a?decodeURIComponent(a[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Cm(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Em(e,i){return i?e.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):e}function Sc(e,i){return e&&!Cm(i)?Em(e,i):i}const Sm=yn.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let a;function l(u){let f=u;return i&&(s.setAttribute("href",f),f=s.href),s.setAttribute("href",f),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return a=l(window.location.href),function(f){const p=ct.isString(f)?l(f):f;return p.protocol===a.protocol&&p.host===a.host}}():function(){return function(){return!0}}();function Tm(e){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return i&&i[1]||""}function Om(e,i){e=e||10;const s=new Array(e),a=new Array(e);let l=0,u=0,f;return i=i!==void 0?i:1e3,function(m){const g=Date.now(),b=a[u];f||(f=g),s[l]=m,a[l]=g;let x=u,M=0;for(;x!==l;)M+=s[x++],x=x%e;if(l=(l+1)%e,l===u&&(u=(u+1)%e),g-f<i)return;const B=b&&g-b;return B?Math.round(M*1e3/B):void 0}}function Nu(e,i){let s=0;const a=Om(50,250);return l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,p=u-s,m=a(p),g=u<=f;s=u;const b={loaded:u,total:f,progress:f?u/f:void 0,bytes:p,rate:m||void 0,estimated:m&&f&&g?(f-u)/m:void 0,event:l};b[i?"download":"upload"]=!0,e(b)}}const Rm=typeof XMLHttpRequest<"u",Am=Rm&&function(e){return new Promise(function(s,a){let l=e.data;const u=Wn.from(e.headers).normalize(),f=e.responseType;let p;function m(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}ct.isFormData(l)&&(yn.isStandardBrowserEnv||yn.isStandardBrowserWebWorkerEnv?u.setContentType(!1):u.setContentType("multipart/form-data;",!1));let g=new XMLHttpRequest;if(e.auth){const B=e.auth.username||"",R=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";u.set("Authorization","Basic "+btoa(B+":"+R))}const b=Sc(e.baseURL,e.url);g.open(e.method.toUpperCase(),Mc(b,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function x(){if(!g)return;const B=Wn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),E={data:!f||f==="text"||f==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:B,config:e,request:g};Mm(function(I){s(I),m()},function(I){a(I),m()},E),g=null}if("onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(x)},g.onabort=function(){g&&(a(new se("Request aborted",se.ECONNABORTED,e,g)),g=null)},g.onerror=function(){a(new se("Network Error",se.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let R=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const E=e.transitional||Pc;e.timeoutErrorMessage&&(R=e.timeoutErrorMessage),a(new se(R,E.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,g)),g=null},yn.isStandardBrowserEnv){const B=(e.withCredentials||Sm(b))&&e.xsrfCookieName&&Pm.read(e.xsrfCookieName);B&&u.set(e.xsrfHeaderName,B)}l===void 0&&u.setContentType(null),"setRequestHeader"in g&&ct.forEach(u.toJSON(),function(R,E){g.setRequestHeader(E,R)}),ct.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),f&&f!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",Nu(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",Nu(e.onUploadProgress)),(e.cancelToken||e.signal)&&(p=B=>{g&&(a(!B||B.type?new lo(null,e,g):B),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p)));const M=Tm(b);if(M&&yn.protocols.indexOf(M)===-1){a(new se("Unsupported protocol "+M+":",se.ERR_BAD_REQUEST,e));return}g.send(l||null)})},Vo={http:om,xhr:Am};ct.forEach(Vo,(e,i)=>{if(e){try{Object.defineProperty(e,"name",{value:i})}catch{}Object.defineProperty(e,"adapterName",{value:i})}});const Tc={getAdapter:e=>{e=ct.isArray(e)?e:[e];const{length:i}=e;let s,a;for(let l=0;l<i&&(s=e[l],!(a=ct.isString(s)?Vo[s.toLowerCase()]:s));l++);if(!a)throw a===!1?new se(`Adapter ${s} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ct.hasOwnProp(Vo,s)?`Adapter '${s}' is not available in the build`:`Unknown adapter '${s}'`);if(!ct.isFunction(a))throw new TypeError("adapter is not a function");return a},adapters:Vo};function ra(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lo(null,e)}function zu(e){return ra(e),e.headers=Wn.from(e.headers),e.data=ia.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tc.getAdapter(e.adapter||ll.adapter)(e).then(function(a){return ra(e),a.data=ia.call(e,e.transformResponse,a),a.headers=Wn.from(a.headers),a},function(a){return Ec(a)||(ra(e),a&&a.response&&(a.response.data=ia.call(e,e.transformResponse,a.response),a.response.headers=Wn.from(a.response.headers))),Promise.reject(a)})}const ju=e=>e instanceof Wn?e.toJSON():e;function fr(e,i){i=i||{};const s={};function a(g,b,x){return ct.isPlainObject(g)&&ct.isPlainObject(b)?ct.merge.call({caseless:x},g,b):ct.isPlainObject(b)?ct.merge({},b):ct.isArray(b)?b.slice():b}function l(g,b,x){if(ct.isUndefined(b)){if(!ct.isUndefined(g))return a(void 0,g,x)}else return a(g,b,x)}function u(g,b){if(!ct.isUndefined(b))return a(void 0,b)}function f(g,b){if(ct.isUndefined(b)){if(!ct.isUndefined(g))return a(void 0,g)}else return a(void 0,b)}function p(g,b,x){if(x in i)return a(g,b);if(x in e)return a(void 0,g)}const m={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(g,b)=>l(ju(g),ju(b),!0)};return ct.forEach(Object.keys(Object.assign({},e,i)),function(b){const x=m[b]||l,M=x(e[b],i[b],b);ct.isUndefined(M)&&x!==p||(s[b]=M)}),s}const Oc="1.5.0",ul={};["object","boolean","number","function","string","symbol"].forEach((e,i)=>{ul[e]=function(a){return typeof a===e||"a"+(i<1?"n ":" ")+e}});const Fu={};ul.transitional=function(i,s,a){function l(u,f){return"[Axios v"+Oc+"] Transitional option '"+u+"'"+f+(a?". "+a:"")}return(u,f,p)=>{if(i===!1)throw new se(l(f," has been removed"+(s?" in "+s:"")),se.ERR_DEPRECATED);return s&&!Fu[f]&&(Fu[f]=!0,console.warn(l(f," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(u,f,p):!0}};function Bm(e,i,s){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let l=a.length;for(;l-- >0;){const u=a[l],f=i[u];if(f){const p=e[u],m=p===void 0||f(p,u,e);if(m!==!0)throw new se("option "+u+" must be "+m,se.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new se("Unknown option "+u,se.ERR_BAD_OPTION)}}const Pa={assertOptions:Bm,validators:ul},li=Pa.validators;let ts=class{constructor(i){this.defaults=i,this.interceptors={request:new Du,response:new Du}}request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=fr(this.defaults,s);const{transitional:a,paramsSerializer:l,headers:u}=s;a!==void 0&&Pa.assertOptions(a,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),l!=null&&(ct.isFunction(l)?s.paramsSerializer={serialize:l}:Pa.assertOptions(l,{encode:li.function,serialize:li.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=u&&ct.merge(u.common,u[s.method]);u&&ct.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),s.headers=Wn.concat(f,u);const p=[];let m=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(s)===!1||(m=m&&E.synchronous,p.unshift(E.fulfilled,E.rejected))});const g=[];this.interceptors.response.forEach(function(E){g.push(E.fulfilled,E.rejected)});let b,x=0,M;if(!m){const R=[zu.bind(this),void 0];for(R.unshift.apply(R,p),R.push.apply(R,g),M=R.length,b=Promise.resolve(s);x<M;)b=b.then(R[x++],R[x++]);return b}M=p.length;let B=s;for(x=0;x<M;){const R=p[x++],E=p[x++];try{B=R(B)}catch(q){E.call(this,q);break}}try{b=zu.call(this,B)}catch(R){return Promise.reject(R)}for(x=0,M=g.length;x<M;)b=b.then(g[x++],g[x++]);return b}getUri(i){i=fr(this.defaults,i);const s=Sc(i.baseURL,i.url);return Mc(s,i.params,i.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(i){ts.prototype[i]=function(s,a){return this.request(fr(a||{},{method:i,url:s,data:(a||{}).data}))}});ct.forEach(["post","put","patch"],function(i){function s(a){return function(u,f,p){return this.request(fr(p||{},{method:i,headers:a?{"Content-Type":"multipart/form-data"}:{},url:u,data:f}))}}ts.prototype[i]=s(),ts.prototype[i+"Form"]=s(!0)});const Ho=ts;let Dm=class Rc{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(u){s=u});const a=this;this.promise.then(l=>{if(!a._listeners)return;let u=a._listeners.length;for(;u-- >0;)a._listeners[u](l);a._listeners=null}),this.promise.then=l=>{let u;const f=new Promise(p=>{a.subscribe(p),u=p}).then(l);return f.cancel=function(){a.unsubscribe(u)},f},i(function(u,f,p){a.reason||(a.reason=new lo(u,f,p),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new Rc(function(l){i=l}),cancel:i}}};const Im=Dm;function Nm(e){return function(s){return e.apply(null,s)}}function zm(e){return ct.isObject(e)&&e.isAxiosError===!0}const Ca={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ca).forEach(([e,i])=>{Ca[i]=e});const jm=Ca;function Ac(e){const i=new Ho(e),s=dc(Ho.prototype.request,i);return ct.extend(s,Ho.prototype,i,{allOwnKeys:!0}),ct.extend(s,i,null,{allOwnKeys:!0}),s.create=function(l){return Ac(fr(e,l))},s}const Se=Ac(ll);Se.Axios=Ho;Se.CanceledError=lo;Se.CancelToken=Im;Se.isCancel=Ec;Se.VERSION=Oc;Se.toFormData=Ms;Se.AxiosError=se;Se.Cancel=Se.CanceledError;Se.all=function(i){return Promise.all(i)};Se.spread=Nm;Se.isAxiosError=zm;Se.mergeConfig=fr;Se.AxiosHeaders=Wn;Se.formToJSON=e=>Cc(ct.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=Tc.getAdapter;Se.HttpStatusCode=jm;Se.default=Se;const Cs=Se,{Axios:Fm,AxiosError:Um,CanceledError:Gm,isCancel:Zm,CancelToken:Vm,VERSION:Hm,all:Km,Cancel:qm,isAxiosError:$m,spread:Wm,toFormData:Jm,AxiosHeaders:Ym,HttpStatusCode:Xm,formToJSON:Qm,getAdapter:tg,mergeConfig:eg}=Cs,ng=Object.freeze(Object.defineProperty({__proto__:null,Axios:Fm,AxiosError:Um,AxiosHeaders:Ym,Cancel:qm,CancelToken:Vm,CanceledError:Gm,HttpStatusCode:Xm,VERSION:Hm,all:Km,default:Cs,formToJSON:Qm,getAdapter:tg,isAxiosError:$m,isCancel:Zm,mergeConfig:eg,spread:Wm,toFormData:Jm},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function Io(e){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)e[a]=s[a]}return e}var ig={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ea(e,i){function s(l,u,f){if(!(typeof document>"u")){f=Io({},i,f),typeof f.expires=="number"&&(f.expires=new Date(Date.now()+f.expires*864e5)),f.expires&&(f.expires=f.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var m in f)f[m]&&(p+="; "+m,f[m]!==!0&&(p+="="+f[m].split(";")[0]));return document.cookie=l+"="+e.write(u,l)+p}}function a(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var u=document.cookie?document.cookie.split("; "):[],f={},p=0;p<u.length;p++){var m=u[p].split("="),g=m.slice(1).join("=");try{var b=decodeURIComponent(m[0]);if(f[b]=e.read(g,b),l===b)break}catch{}}return l?f[l]:f}}return Object.create({set:s,get:a,remove:function(l,u){s(l,"",Io({},u,{expires:-1}))},withAttributes:function(l){return Ea(this.converter,Io({},this.attributes,l))},withConverter:function(l){return Ea(Io({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(e)}})}var es=Ea(ig,{path:"/"}),Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function og(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var l=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return e[a]}})}),s}var Dc={exports:{}};const sg=og(ng);(function(e,i){(function(s,a){e.exports=a(sg)})(Bc,function(s){return function(){var a={593:function(p,m,g){Object.defineProperty(m,"__esModule",{value:!0}),m.resendFailedRequest=m.getRetryInstance=m.unsetCache=m.createRequestQueueInterceptor=m.createRefreshCall=m.shouldInterceptError=m.mergeOptions=m.defaultOptions=void 0;const b=g(300);m.defaultOptions={statusCodes:[401],pauseInstanceWhileRefreshing:!1},m.mergeOptions=function(x,M){return Object.assign(Object.assign(Object.assign({},x),{pauseInstanceWhileRefreshing:M.skipWhileRefreshing}),M)},m.shouldInterceptError=function(x,M,B,R){var E,q;return!!x&&!(!((E=x.config)===null||E===void 0)&&E.skipAuthRefresh)&&!!(M.interceptNetworkError&&!x.response&&x.request.status===0||x.response&&(M!=null&&M.shouldRefresh?M.shouldRefresh(x):!((q=M.statusCodes)===null||q===void 0)&&q.includes(parseInt(x.response.status))))&&(x.response||(x.response={config:x.config}),!M.pauseInstanceWhileRefreshing||!R.skipInstances.includes(B))},m.createRefreshCall=function(x,M,B){return B.refreshCall||(B.refreshCall=M(x),typeof B.refreshCall.then=="function")?B.refreshCall:(console.warn("axios-auth-refresh requires `refreshTokenCall` to return a promise."),Promise.reject())},m.createRequestQueueInterceptor=function(x,M,B){return M.requestQueueInterceptorId===void 0&&(M.requestQueueInterceptorId=x.interceptors.request.use(R=>M.refreshCall.catch(()=>{throw new b.default.Cancel("Request call failed")}).then(()=>B.onRetry?B.onRetry(R):R))),M.requestQueueInterceptorId},m.unsetCache=function(x,M){x.interceptors.request.eject(M.requestQueueInterceptorId),M.requestQueueInterceptorId=void 0,M.refreshCall=void 0,M.skipInstances=M.skipInstances.filter(B=>B!==x)},m.getRetryInstance=function(x,M){return M.retryInstance||x},m.resendFailedRequest=function(x,M){return x.config.skipAuthRefresh=!0,M(x.response.config)}},300:function(p){p.exports=s}},l={};function u(p){var m=l[p];if(m!==void 0)return m.exports;var g=l[p]={exports:{}};return a[p](g,g.exports,u),g.exports}var f={};return function(){var p=f;Object.defineProperty(p,"__esModule",{value:!0});const m=u(593);p.default=function(g,b,x={}){if(typeof b!="function")throw new Error("axios-auth-refresh requires `refreshAuthCall` to be a function that returns a promise.");const M={skipInstances:[],refreshCall:void 0,requestQueueInterceptorId:void 0};return g.interceptors.response.use(B=>B,B=>{if(x=(0,m.mergeOptions)(m.defaultOptions,x),!(0,m.shouldInterceptError)(B,x,g,M))return Promise.reject(B);x.pauseInstanceWhileRefreshing&&M.skipInstances.push(g);const R=(0,m.createRefreshCall)(B,b,M);return(0,m.createRequestQueueInterceptor)(g,M,x),R.catch(E=>Promise.reject(E)).then(()=>(0,m.resendFailedRequest)(B,(0,m.getRetryInstance)(g,x))).finally(()=>(0,m.unsetCache)(g,M))})}}(),f}()})})(Dc);var ag=Dc.exports;const lg=rg(ag);var Ic=(e=>(e.DEV="development",e.PROD="production",e.TEST="test",e))(Ic||{});const hl={apiBaseURL:"https://peterparkerapi.azurewebsites.net/api/",environment:"development"};var Zr=(e=>(e.AUTH_ERROR="Authentication error",e.REGISTRATION_ERROR="Registration error",e.LOGIN_ERROR="Login error",e.NO_REFRESH_TOKEN="No refresh token",e.SERVER_NOT_AVAILABLE="Server not available",e))(Zr||{});class No{constructor(i,s){ln(this,"error");ln(this,"backendErrorMessage");ln(this,"message");this.error=i,this.backendErrorMessage=i.response.data,this.message=s,hl.environment===Ic.DEV&&this.printError()}printError(){console.log(this.message,this.backendErrorMessage,this.error)}}const ug=Cs.create({baseURL:hl.apiBaseURL});function Sa(e){this.message=e}Sa.prototype=new Error,Sa.prototype.name="InvalidCharacterError";var Uu=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var i=String(e).replace(/=+$/,"");if(i.length%4==1)throw new Sa("'atob' failed: The string to be decoded is not correctly encoded.");for(var s,a,l=0,u=0,f="";a=i.charAt(u++);~a&&(s=l%4?64*s+a:a,l++%4)?f+=String.fromCharCode(255&s>>(-2*l&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return f};function hg(e){var i=e.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw"Illegal base64url string!"}try{return function(s){return decodeURIComponent(Uu(s).replace(/(.)/g,function(a,l){var u=l.charCodeAt(0).toString(16).toUpperCase();return u.length<2&&(u="0"+u),"%"+u}))}(i)}catch{return Uu(i)}}function ns(e){this.message=e}function cg(e,i){if(typeof e!="string")throw new ns("Invalid token specified");var s=(i=i||{}).header===!0?0:1;try{return JSON.parse(hg(e.split(".")[s]))}catch(a){throw new ns("Invalid token specified: "+a.message)}}ns.prototype=new Error,ns.prototype.name="InvalidTokenError";class fg{constructor(i){ln(this,"axios");ln(this,"refreshToken",null);this.axios=i}async login(i,s){try{const a=await this.axios.post("/User/LogIn",{email:i,password:s});this.setTokens(a.data),await this.requestUserData()}catch(a){throw new No(a,Zr.LOGIN_ERROR)}}storeRefreshToken(i){es.set("refresh-token",i,{expires:new Date().setDate(new Date().getDate()+7)})}logout(){es.remove("refresh-token");const i=Ln();i.user=null,i.userDataFromToken=null,this.refreshToken=null}async register(i){try{const s=await this.axios.post("/User/Register",i);this.setTokens(s.data),await this.requestUserData()}catch(s){throw new No(s,Zr.REGISTRATION_ERROR)}}setTokens(i){this.refreshToken=i.refreshToken;const s=Ln();s.userDataFromToken=cg(i.token),console.log(s.userDataFromToken),this.setAuthHeader(i.token),this.storeRefreshToken(i.refreshToken)}setAuthHeader(i){this.axios.defaults.headers.common.Authorization=`bearer ${i}`}async requestNewTokens(){if(!this.refreshToken)throw new No(null,Zr.NO_REFRESH_TOKEN);try{const i=await Cs.post(`${hl.apiBaseURL}/User/TokenRefresh`,null,{headers:{"X-Pp-Refresh-Token":this.refreshToken}});return this.setTokens(i.data),i.data}catch(i){if(!i.response)throw new No(i,Zr.SERVER_NOT_AVAILABLE);i.response.status===401&&this.logout()}}async requestUserData(){const i=await this.axios.get("/User/Data"),s=Ln();return s.user=i.data,i.data}async updateUserData(i){await this.axios.put("/User/Update",i),this.requestUserData()}}class dg{constructor(i){ln(this,"axios");this.axios=i}async makeInspector(i){await this.axios.post("/User/MakeInspector",{Email:i})}async removeInspector(i){await this.axios.post("/User/RevokeInspector",{Email:i})}}var Vr=(e=>(e.ZONE_COLOR="#FF0000",e.GARAGE_AREA_COLOR="#00FF00",e.UNDERGROUND_AREA_COLOR="#FFFF00",e.LOT_AREA_COLOR="#0000FF",e))(Vr||{}),Ta=(e=>(e.GARAGE="garage",e.UNDERGROUND="underground",e.LOT="lot",e))(Ta||{});class pg{constructor(i){ln(this,"axios");this.axios=i}async all(){const s=(await this.axios.get("/Zone/All")).data;return s.forEach(a=>{a.geoJSON=JSON.parse(a.geoJSON),a.parkingAreas.forEach(l=>{l.geoJSON=JSON.parse(l.geoJSON)})}),s}async create(i){await this.axios.post("/Zone/Add",{GeoJSON:JSON.stringify(i)})}async update(i){await this.axios.patch("/Zone/Update",{GUID:i.guid,Name:i.name,GeoJSON:JSON.stringify(i.geoJSON)})}async delete(i){await this.axios.delete("/Zone/Delete",{data:{guid:i}})}async addArea(i,s){s.geoJSON=JSON.stringify(s.geoJSON),await this.axios.post("/Zone/AddArea",{ZoneGUID:i,ParkingArea:s})}}class _g{constructor(){ln(this,"axios");ln(this,"authAPI");ln(this,"inspectorAPI");ln(this,"zoneAPI");this.axios=ug,this.authAPI=new fg(this.axios),this.inspectorAPI=new dg(this.axios),this.zoneAPI=new pg(this.axios),lg(this.axios,async i=>{const s=await this.authAPI.requestNewTokens();i.response.config.headers.Authorization="bearer "+(s==null?void 0:s.token)},{statusCodes:[401,403]})}async init(){const i=es.get("refresh-token");i&&(this.authAPI.refreshToken=i,await this.authAPI.requestNewTokens(),await this.authAPI.requestUserData())}}const Bn=new _g;var Gu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,i){(function(s,a){a(i)})(Bc,function(s){var a="1.9.4";function l(t){var r,h,d,y;for(h=1,d=arguments.length;h<d;h++){y=arguments[h];for(r in y)t[r]=y[r]}return t}var u=Object.create||function(){function t(){}return function(r){return t.prototype=r,new t}}();function f(t,r){var h=Array.prototype.slice;if(t.bind)return t.bind.apply(t,h.call(arguments,1));var d=h.call(arguments,2);return function(){return t.apply(r,d.length?d.concat(h.call(arguments)):arguments)}}var p=0;function m(t){return"_leaflet_id"in t||(t._leaflet_id=++p),t._leaflet_id}function g(t,r,h){var d,y,P,V;return V=function(){d=!1,y&&(P.apply(h,y),y=!1)},P=function(){d?y=arguments:(t.apply(h,arguments),setTimeout(V,r),d=!0)},P}function b(t,r,h){var d=r[1],y=r[0],P=d-y;return t===d&&h?t:((t-y)%P+P)%P+y}function x(){return!1}function M(t,r){if(r===!1)return t;var h=Math.pow(10,r===void 0?6:r);return Math.round(t*h)/h}function B(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function R(t){return B(t).split(/\s+/)}function E(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var h in r)t.options[h]=r[h];return t.options}function q(t,r,h){var d=[];for(var y in t)d.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(t[y]));return(!r||r.indexOf("?")===-1?"?":"&")+d.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function U(t,r){return t.replace(I,function(h,d){var y=r[d];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(r)),y})}var K=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function T(t,r){for(var h=0;h<t.length;h++)if(t[h]===r)return h;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function $(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ot=0;function tt(t){var r=+new Date,h=Math.max(0,16-(r-ot));return ot=r+h,window.setTimeout(t,h)}var it=window.requestAnimationFrame||$("RequestAnimationFrame")||tt,ut=window.cancelAnimationFrame||$("CancelAnimationFrame")||$("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function mt(t,r,h){if(h&&it===tt)t.call(r);else return it.call(window,f(t,r))}function nt(t){t&&ut.call(window,t)}var gt={__proto__:null,extend:l,create:u,bind:f,get lastId(){return p},stamp:m,throttle:g,wrapNum:b,falseFn:x,formatNum:M,trim:B,splitWords:R,setOptions:E,getParamString:q,template:U,isArray:K,indexOf:T,emptyImageUrl:F,requestFn:it,cancelFn:ut,requestAnimFrame:mt,cancelAnimFrame:nt};function Rt(){}Rt.extend=function(t){var r=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=r.__super__=this.prototype,d=u(h);d.constructor=r,r.prototype=d;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(r[y]=this[y]);return t.statics&&l(r,t.statics),t.includes&&(Mt(t.includes),l.apply(null,[d].concat(t.includes))),l(d,t),delete d.statics,delete d.includes,d.options&&(d.options=h.options?u(h.options):{},l(d.options,t.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,V=d._initHooks.length;P<V;P++)d._initHooks[P].call(this)}},r},Rt.include=function(t){var r=this.prototype.options;return l(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},Rt.mergeOptions=function(t){return l(this.prototype.options,t),this},Rt.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),h=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Mt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=K(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(t,r,h){if(typeof t=="object")for(var d in t)this._on(d,t[d],r);else{t=R(t);for(var y=0,P=t.length;y<P;y++)this._on(t[y],r,h)}return this},off:function(t,r,h){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var d in t)this._off(d,t[d],r);else{t=R(t);for(var y=arguments.length===1,P=0,V=t.length;P<V;P++)y?this._off(t[P]):this._off(t[P],r,h)}return this},_on:function(t,r,h,d){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,h)===!1){h===this&&(h=void 0);var y={fn:r,ctx:h};d&&(y.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(y)}},_off:function(t,r,h){var d,y,P;if(this._events&&(d=this._events[t],!!d)){if(arguments.length===1){if(this._firingCount)for(y=0,P=d.length;y<P;y++)d[y].fn=x;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var V=this._listens(t,r,h);if(V!==!1){var X=d[V];this._firingCount&&(X.fn=x,this._events[t]=d=d.slice()),d.splice(V,1)}}},fire:function(t,r,h){if(!this.listens(t,h))return this;var d=l({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var y=this._events[t];if(y){this._firingCount=this._firingCount+1||1;for(var P=0,V=y.length;P<V;P++){var X=y[P],et=X.fn;X.once&&this.off(t,et,X.ctx),et.call(X.ctx||this,d)}this._firingCount--}}return h&&this._propagateEvent(d),this},listens:function(t,r,h,d){typeof t!="string"&&console.warn('"string" type argument expected');var y=r;typeof r!="function"&&(d=!!r,y=void 0,h=void 0);var P=this._events&&this._events[t];if(P&&P.length&&this._listens(t,y,h)!==!1)return!0;if(d){for(var V in this._eventParents)if(this._eventParents[V].listens(t,r,h,d))return!0}return!1},_listens:function(t,r,h){if(!this._events)return!1;var d=this._events[t]||[];if(!r)return!!d.length;h===this&&(h=void 0);for(var y=0,P=d.length;y<P;y++)if(d[y].fn===r&&d[y].ctx===h)return y;return!1},once:function(t,r,h){if(typeof t=="object")for(var d in t)this._on(d,t[d],r,!0);else{t=R(t);for(var y=0,P=t.length;y<P;y++)this._on(t[y],r,h,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[m(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[m(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var Bt=Rt.extend(Lt);function dt(t,r,h){this.x=h?Math.round(t):t,this.y=h?Math.round(r):r}var ee=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};dt.prototype={clone:function(){return new dt(this.x,this.y)},add:function(t){return this.clone()._add(Et(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Et(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new dt(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new dt(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(t){t=Et(t);var r=t.x-this.x,h=t.y-this.y;return Math.sqrt(r*r+h*h)},equals:function(t){return t=Et(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Et(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Et(t,r,h){return t instanceof dt?t:K(t)?new dt(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new dt(t.x,t.y):new dt(t,r,h)}function Pt(t,r){if(t)for(var h=r?[t,r]:t,d=0,y=h.length;d<y;d++)this.extend(h[d])}Pt.prototype={extend:function(t){var r,h;if(!t)return this;if(t instanceof dt||typeof t[0]=="number"||"x"in t)r=h=Et(t);else if(t=Dt(t),r=t.min,h=t.max,!r||!h)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=h.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(t){return Et((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Et(this.min.x,this.max.y)},getTopRight:function(){return Et(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,h;return typeof t[0]=="number"||t instanceof dt?t=Et(t):t=Dt(t),t instanceof Pt?(r=t.min,h=t.max):r=h=t,r.x>=this.min.x&&h.x<=this.max.x&&r.y>=this.min.y&&h.y<=this.max.y},intersects:function(t){t=Dt(t);var r=this.min,h=this.max,d=t.min,y=t.max,P=y.x>=r.x&&d.x<=h.x,V=y.y>=r.y&&d.y<=h.y;return P&&V},overlaps:function(t){t=Dt(t);var r=this.min,h=this.max,d=t.min,y=t.max,P=y.x>r.x&&d.x<h.x,V=y.y>r.y&&d.y<h.y;return P&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,h=this.max,d=Math.abs(r.x-h.x)*t,y=Math.abs(r.y-h.y)*t;return Dt(Et(r.x-d,r.y-y),Et(h.x+d,h.y+y))},equals:function(t){return t?(t=Dt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Dt(t,r){return!t||t instanceof Pt?t:new Pt(t,r)}function pe(t,r){if(t)for(var h=r?[t,r]:t,d=0,y=h.length;d<y;d++)this.extend(h[d])}pe.prototype={extend:function(t){var r=this._southWest,h=this._northEast,d,y;if(t instanceof Jt)d=t,y=t;else if(t instanceof pe){if(d=t._southWest,y=t._northEast,!d||!y)return this}else return t?this.extend(Ot(t)||ie(t)):this;return!r&&!h?(this._southWest=new Jt(d.lat,d.lng),this._northEast=new Jt(y.lat,y.lng)):(r.lat=Math.min(d.lat,r.lat),r.lng=Math.min(d.lng,r.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(t){var r=this._southWest,h=this._northEast,d=Math.abs(r.lat-h.lat)*t,y=Math.abs(r.lng-h.lng)*t;return new pe(new Jt(r.lat-d,r.lng-y),new Jt(h.lat+d,h.lng+y))},getCenter:function(){return new Jt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Jt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Jt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Jt||"lat"in t?t=Ot(t):t=ie(t);var r=this._southWest,h=this._northEast,d,y;return t instanceof pe?(d=t.getSouthWest(),y=t.getNorthEast()):d=y=t,d.lat>=r.lat&&y.lat<=h.lat&&d.lng>=r.lng&&y.lng<=h.lng},intersects:function(t){t=ie(t);var r=this._southWest,h=this._northEast,d=t.getSouthWest(),y=t.getNorthEast(),P=y.lat>=r.lat&&d.lat<=h.lat,V=y.lng>=r.lng&&d.lng<=h.lng;return P&&V},overlaps:function(t){t=ie(t);var r=this._southWest,h=this._northEast,d=t.getSouthWest(),y=t.getNorthEast(),P=y.lat>r.lat&&d.lat<h.lat,V=y.lng>r.lng&&d.lng<h.lng;return P&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=ie(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(t,r){return t instanceof pe?t:new pe(t,r)}function Jt(t,r,h){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,h!==void 0&&(this.alt=+h)}Jt.prototype={equals:function(t,r){if(!t)return!1;t=Ot(t);var h=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return h<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+M(this.lat,t)+", "+M(this.lng,t)+")"},distanceTo:function(t){return vt.distance(this,Ot(t))},wrap:function(){return vt.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,h=r/Math.cos(Math.PI/180*this.lat);return ie([this.lat-r,this.lng-h],[this.lat+r,this.lng+h])},clone:function(){return new Jt(this.lat,this.lng,this.alt)}};function Ot(t,r,h){return t instanceof Jt?t:K(t)&&typeof t[0]!="object"?t.length===3?new Jt(t[0],t[1],t[2]):t.length===2?new Jt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Jt(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new Jt(t,r,h)}var at={latLngToPoint:function(t,r){var h=this.projection.project(t),d=this.scale(r);return this.transformation._transform(h,d)},pointToLatLng:function(t,r){var h=this.scale(r),d=this.transformation.untransform(t,h);return this.projection.unproject(d)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,h=this.scale(t),d=this.transformation.transform(r.min,h),y=this.transformation.transform(r.max,h);return new Pt(d,y)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?b(t.lng,this.wrapLng,!0):t.lng,h=this.wrapLat?b(t.lat,this.wrapLat,!0):t.lat,d=t.alt;return new Jt(h,r,d)},wrapLatLngBounds:function(t){var r=t.getCenter(),h=this.wrapLatLng(r),d=r.lat-h.lat,y=r.lng-h.lng;if(d===0&&y===0)return t;var P=t.getSouthWest(),V=t.getNorthEast(),X=new Jt(P.lat-d,P.lng-y),et=new Jt(V.lat-d,V.lng-y);return new pe(X,et)}},vt=l({},at,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var h=Math.PI/180,d=t.lat*h,y=r.lat*h,P=Math.sin((r.lat-t.lat)*h/2),V=Math.sin((r.lng-t.lng)*h/2),X=P*P+Math.cos(d)*Math.cos(y)*V*V,et=2*Math.atan2(Math.sqrt(X),Math.sqrt(1-X));return this.R*et}}),bt=6378137,St={R:bt,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,h=this.MAX_LATITUDE,d=Math.max(Math.min(h,t.lat),-h),y=Math.sin(d*r);return new dt(this.R*t.lng*r,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(t){var r=180/Math.PI;return new Jt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:function(){var t=bt*Math.PI;return new Pt([-t,-t],[t,t])}()};function Yt(t,r,h,d){if(K(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=h,this._d=d}Yt.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new dt((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function z(t,r,h,d){return new Yt(t,r,h,d)}var H=l({},vt,{code:"EPSG:3857",projection:St,transformation:function(){var t=.5/(Math.PI*St.R);return z(t,.5,-t,.5)}()}),W=l({},H,{code:"EPSG:900913"});function st(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ht(t,r){var h="",d,y,P,V,X,et;for(d=0,P=t.length;d<P;d++){for(X=t[d],y=0,V=X.length;y<V;y++)et=X[y],h+=(y?"L":"M")+et.x+" "+et.y;h+=r?At.svg?"z":"x":""}return h||"M0 0"}var pt=document.documentElement.style,wt="ActiveXObject"in window,O=wt&&!document.addEventListener,v="msLaunchUri"in navigator&&!("documentMode"in document),w=He("webkit"),C=He("android"),A=He("android 2")||He("android 3"),N=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Y=C&&He("Google")&&N<537&&!("AudioNode"in window),Q=!!window.opera,ft=!v&&He("chrome"),kt=He("gecko")&&!w&&!Q&&!wt,Tt=!ft&&He("safari"),Ft=He("phantom"),Vt="OTransition"in pt,le=navigator.platform.indexOf("Win")===0,Gt=wt&&"transition"in pt,ae="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!A,Qt="MozPerspective"in pt,ue=!window.L_DISABLE_3D&&(Gt||ae||Qt)&&!Vt&&!Ft,Le=typeof orientation<"u"||He("mobile"),Ie=Le&&w,Ne=Le&&ae,nn=!window.PointerEvent&&window.MSPointerEvent,Xe=!!(window.PointerEvent||nn),Fe="ontouchstart"in window||!!window.TouchEvent,Qe=!window.L_NO_TOUCH&&(Fe||Xe),dn=Le&&Q,In=Le&&kt,ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Te=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,r),window.removeEventListener("testPassiveEventSupport",x,r)}catch{}return t}(),wn=function(){return!!document.createElement("canvas").getContext}(),Gi=!!(document.createElementNS&&st("svg").createSVGRect),vr=!!Gi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bi=!Gi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Os=navigator.platform.indexOf("Mac")===0,br=navigator.platform.indexOf("Linux")===0;function He(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var At={ie:wt,ielt9:O,edge:v,webkit:w,android:C,android23:A,androidStock:Y,opera:Q,chrome:ft,gecko:kt,safari:Tt,phantom:Ft,opera12:Vt,win:le,ie3d:Gt,webkit3d:ae,gecko3d:Qt,any3d:ue,mobile:Le,mobileWebkit:Ie,mobileWebkit3d:Ne,msPointer:nn,pointer:Xe,touch:Qe,touchNative:Fe,mobileOpera:dn,mobileGecko:In,retina:ze,passiveEvents:Te,canvas:wn,svg:Gi,vml:bi,inlineSvg:vr,mac:Os,linux:br},Lr=At.msPointer?"MSPointerDown":"pointerdown",xn=At.msPointer?"MSPointerMove":"pointermove",Mn=At.msPointer?"MSPointerUp":"pointerup",uo=At.msPointer?"MSPointerCancel":"pointercancel",Li={touchstart:Lr,touchmove:xn,touchend:Mn,touchcancel:uo},Qn={touchstart:Vi,touchmove:Zi,touchend:Zi,touchcancel:Zi},ti={},kr=!1;function ho(t,r,h){return r==="touchstart"&&Mr(),Qn[r]?(h=Qn[r].bind(this,h),t.addEventListener(Li[r],h,!1),h):(console.warn("wrong event specified:",r),x)}function Rs(t,r,h){if(!Li[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(Li[r],h,!1)}function co(t){ti[t.pointerId]=t}function wr(t){ti[t.pointerId]&&(ti[t.pointerId]=t)}function xr(t){delete ti[t.pointerId]}function Mr(){kr||(document.addEventListener(Lr,co,!0),document.addEventListener(xn,wr,!0),document.addEventListener(Mn,xr,!0),document.addEventListener(uo,xr,!0),kr=!0)}function Zi(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var h in ti)r.touches.push(ti[h]);r.changedTouches=[r],t(r)}}function Vi(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Z(r),Zi(t,r)}function fo(t){var r={},h,d;for(d in t)h=t[d],r[d]=h&&h.bind?h.bind(t):h;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var As=200;function ki(t,r){t.addEventListener("dblclick",r);var h=0,d;function y(P){if(P.detail!==1){d=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var V=lt(P);if(!(V.some(function(et){return et instanceof HTMLLabelElement&&et.attributes.for})&&!V.some(function(et){return et instanceof HTMLInputElement||et instanceof HTMLSelectElement}))){var X=Date.now();X-h<=As?(d++,d===2&&r(fo(P))):d=1,h=X}}}return t.addEventListener("click",y),{dblclick:r,simDblclick:y}}function Bs(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var Hi=qi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nn=qi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),po=Nn==="webkitTransition"||Nn==="OTransition"?Nn+"End":"transitionend";function _o(t){return typeof t=="string"?document.getElementById(t):t}function ei(t,r){var h=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!h||h==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(t,null);h=d?d[r]:null}return h==="auto"?null:h}function te(t,r,h){var d=document.createElement(t);return d.className=r||"",h&&h.appendChild(d),d}function _e(t){var r=t.parentNode;r&&r.removeChild(t)}function wi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function zn(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function jn(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function Ki(t,r){if(t.classList!==void 0)return t.classList.contains(r);var h=xi(t);return h.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(h)}function qt(t,r){if(t.classList!==void 0)for(var h=R(r),d=0,y=h.length;d<y;d++)t.classList.add(h[d]);else if(!Ki(t,r)){var P=xi(t);Pr(t,(P?P+" ":"")+r)}}function ke(t,r){t.classList!==void 0?t.classList.remove(r):Pr(t,B((" "+xi(t)+" ").replace(" "+r+" "," ")))}function Pr(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function xi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ke(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&Cr(t,r)}function Cr(t,r){var h=!1,d="DXImageTransform.Microsoft.Alpha";try{h=t.filters.item(d)}catch{if(r===1)return}r=Math.round(r*100),h?(h.Enabled=r!==100,h.Opacity=r):t.style.filter+=" progid:"+d+"(opacity="+r+")"}function qi(t){for(var r=document.documentElement.style,h=0;h<t.length;h++)if(t[h]in r)return t[h];return!1}function Pn(t,r,h){var d=r||new dt(0,0);t.style[Hi]=(At.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(h?" scale("+h+")":"")}function ge(t,r){t._leaflet_pos=r,At.any3d?Pn(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function rn(t){return t._leaflet_pos||new dt(0,0)}var Mi,Pi,we;if("onselectstart"in document)Mi=function(){Ht(window,"selectstart",Z)},Pi=function(){o(window,"selectstart",Z)};else{var Cn=qi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mi=function(){if(Cn){var t=document.documentElement.style;we=t[Cn],t[Cn]="none"}},Pi=function(){Cn&&(document.documentElement.style[Cn]=we,we=void 0)}}function Ci(){Ht(window,"dragstart",Z)}function Er(){o(window,"dragstart",Z)}var $i,Wi;function Sr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(ni(),$i=t,Wi=t.style.outlineStyle,t.style.outlineStyle="none",Ht(window,"keydown",ni))}function ni(){$i&&($i.style.outlineStyle=Wi,$i=void 0,Wi=void 0,o(window,"keydown",ni))}function Ji(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Tr(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var Ds={__proto__:null,TRANSFORM:Hi,TRANSITION:Nn,TRANSITION_END:po,get:_o,getStyle:ei,create:te,remove:_e,empty:wi,toFront:zn,toBack:jn,hasClass:Ki,addClass:qt,removeClass:ke,setClass:Pr,getClass:xi,setOpacity:Ke,testProp:qi,setTransform:Pn,setPosition:ge,getPosition:rn,get disableTextSelection(){return Mi},get enableTextSelection(){return Pi},disableImageDrag:Ci,enableImageDrag:Er,preventOutline:Sr,restoreOutline:ni,getSizedParentNode:Ji,getScale:Tr};function Ht(t,r,h,d){if(r&&typeof r=="object")for(var y in r)k(t,y,r[y],h);else{r=R(r);for(var P=0,V=r.length;P<V;P++)k(t,r[P],h,d)}return this}var n="_leaflet_events";function o(t,r,h,d){if(arguments.length===1)c(t),delete t[n];else if(r&&typeof r=="object")for(var y in r)S(t,y,r[y],h);else if(r=R(r),arguments.length===2)c(t,function(X){return T(r,X)!==-1});else for(var P=0,V=r.length;P<V;P++)S(t,r[P],h,d);return this}function c(t,r){for(var h in t[n]){var d=h.split(/\d/)[0];(!r||r(d))&&S(t,d,null,null,h)}}var _={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function k(t,r,h,d){var y=r+m(h)+(d?"_"+m(d):"");if(t[n]&&t[n][y])return this;var P=function(X){return h.call(d||t,X||window.event)},V=P;!At.touchNative&&At.pointer&&r.indexOf("touch")===0?P=ho(t,r,P):At.touch&&r==="dblclick"?P=ki(t,P):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(_[r]||r,P,At.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(P=function(X){X=X||window.event,zt(t,X)&&V(X)},t.addEventListener(_[r],P,!1)):t.addEventListener(r,V,!1):t.attachEvent("on"+r,P),t[n]=t[n]||{},t[n][y]=P}function S(t,r,h,d,y){y=y||r+m(h)+(d?"_"+m(d):"");var P=t[n]&&t[n][y];if(!P)return this;!At.touchNative&&At.pointer&&r.indexOf("touch")===0?Rs(t,r,P):At.touch&&r==="dblclick"?Bs(t,P):"removeEventListener"in t?t.removeEventListener(_[r]||r,P,!1):t.detachEvent("on"+r,P),t[n][y]=null}function D(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function G(t){return k(t,"wheel",D),this}function j(t){return Ht(t,"mousedown touchstart dblclick contextmenu",D),t._leaflet_disable_click=!0,this}function Z(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function J(t){return Z(t),D(t),this}function lt(t){if(t.composedPath)return t.composedPath();for(var r=[],h=t.target;h;)r.push(h),h=h.parentNode;return r}function rt(t,r){if(!r)return new dt(t.clientX,t.clientY);var h=Tr(r),d=h.boundingClientRect;return new dt((t.clientX-d.left)/h.x-r.clientLeft,(t.clientY-d.top)/h.y-r.clientTop)}var yt=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xt(t){return At.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/yt:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function zt(t,r){var h=r.relatedTarget;if(!h)return!0;try{for(;h&&h!==t;)h=h.parentNode}catch{return!1}return h!==t}var $t={__proto__:null,on:Ht,off:o,stopPropagation:D,disableScrollPropagation:G,disableClickPropagation:j,preventDefault:Z,stop:J,getPropagationPath:lt,getMousePosition:rt,getWheelDelta:xt,isExternalTarget:zt,addListener:Ht,removeListener:o},he=Bt.extend({run:function(t,r,h,d){this.stop(),this._el=t,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=rn(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=mt(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,h=this._duration*1e3;r<h?this._runFrame(this._easeOut(r/h),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var h=this._startPos.add(this._offset.multiplyBy(t));r&&h._round(),ge(this._el,h),this.fire("step")},_complete:function(){nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),It=Bt.extend({options:{crs:H,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=E(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(Ot(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nn&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ht(this._proxy,po,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,h){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(Ot(t),r,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=l({animate:h.animate},h.zoom),h.pan=l({animate:h.animate,duration:h.duration},h.pan));var d=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,h.zoom):this._tryAnimatedPan(t,h.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,h.pan&&h.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,h){var d=this.getZoomScale(r),y=this.getSize().divideBy(2),P=t instanceof dt?t:this.latLngToContainerPoint(t),V=P.subtract(y).multiplyBy(1-1/d),X=this.containerPointToLatLng(y.add(V));return this.setView(X,r,{zoom:h})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():ie(t);var h=Et(r.paddingTopLeft||r.padding||[0,0]),d=Et(r.paddingBottomRight||r.padding||[0,0]),y=this.getBoundsZoom(t,!1,h.add(d));if(y=typeof r.maxZoom=="number"?Math.min(r.maxZoom,y):y,y===1/0)return{center:t.getCenter(),zoom:y};var P=d.subtract(h).divideBy(2),V=this.project(t.getSouthWest(),y),X=this.project(t.getNorthEast(),y),et=this.unproject(V.add(X).divideBy(2).add(P),y);return{center:et,zoom:y}},fitBounds:function(t,r){if(t=ie(t),!t.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(t,r);return this.setView(h.center,h.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=Et(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new he,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,h,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,h){if(h=h||{},h.animate===!1||!At.any3d)return this.setView(t,r,h);this._stop();var d=this.project(this.getCenter()),y=this.project(t),P=this.getSize(),V=this._zoom;t=Ot(t),r=r===void 0?V:r;var X=Math.max(P.x,P.y),et=X*this.getZoomScale(V,r),_t=y.distanceTo(d)||1,Ct=1.42,Ut=Ct*Ct;function Xt(Pe){var So=Pe?-1:1,Tf=Pe?et:X,Of=et*et-X*X+So*Ut*Ut*_t*_t,Rf=2*Tf*Ut*_t,Ks=Of/Rf,Hl=Math.sqrt(Ks*Ks+1)-Ks,Af=Hl<1e-9?-18:Math.log(Hl);return Af}function Ze(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Ae(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function an(Pe){return Ze(Pe)/Ae(Pe)}var qe=Xt(0);function nr(Pe){return X*(Ae(qe)/Ae(qe+Ct*Pe))}function Pf(Pe){return X*(Ae(qe)*an(qe+Ct*Pe)-Ze(qe))/Ut}function Cf(Pe){return 1-Math.pow(1-Pe,1.5)}var Ef=Date.now(),Zl=(Xt(1)-qe)/Ct,Sf=h.duration?1e3*h.duration:1e3*Zl*.8;function Vl(){var Pe=(Date.now()-Ef)/Sf,So=Cf(Pe)*Zl;Pe<=1?(this._flyToFrame=mt(Vl,this),this._move(this.unproject(d.add(y.subtract(d).multiplyBy(Pf(So)/_t)),V),this.getScaleZoom(X/nr(So),V),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Vl.call(this),this},flyToBounds:function(t,r){var h=this._getBoundsCenterZoom(t,r);return this.flyTo(h.center,h.zoom,r)},setMaxBounds:function(t){return t=ie(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var h=this.getCenter(),d=this._limitCenter(h,this._zoom,ie(t));return h.equals(d)||this.panTo(d,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var h=Et(r.paddingTopLeft||r.padding||[0,0]),d=Et(r.paddingBottomRight||r.padding||[0,0]),y=this.project(this.getCenter()),P=this.project(t),V=this.getPixelBounds(),X=Dt([V.min.add(h),V.max.subtract(d)]),et=X.getSize();if(!X.contains(P)){this._enforcingBounds=!0;var _t=P.subtract(X.getCenter()),Ct=X.extend(P).getSize().subtract(et);y.x+=_t.x<0?-Ct.x:Ct.x,y.y+=_t.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(y),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),d=r.divideBy(2).round(),y=h.divideBy(2).round(),P=d.subtract(y);return!P.x&&!P.y?this:(t.animate&&t.pan?this.panBy(P):(t.pan&&this._rawPanBy(P),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,h,t):navigator.geolocation.getCurrentPosition(r,h,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,h=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,h=t.coords.longitude,d=new Jt(r,h),y=d.toBounds(t.coords.accuracy*2),P=this._locateOptions;if(P.setView){var V=this.getBoundsZoom(y);this.setView(d,P.maxZoom?Math.min(V,P.maxZoom):V)}var X={latlng:d,bounds:y,timestamp:t.timestamp};for(var et in t.coords)typeof t.coords[et]=="number"&&(X[et]=t.coords[et]);this.fire("locationfound",X)}},addHandler:function(t,r){if(!r)return this;var h=this[t]=new r(this);return this._handlers.push(h),this.options[t]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)_e(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var h="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),d=te("div",h,r||this._mapPane);return t&&(this._panes[t]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),h=this.unproject(t.getTopRight());return new pe(r,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,h){t=ie(t),h=Et(h||[0,0]);var d=this.getZoom()||0,y=this.getMinZoom(),P=this.getMaxZoom(),V=t.getNorthWest(),X=t.getSouthEast(),et=this.getSize().subtract(h),_t=Dt(this.project(X,d),this.project(V,d)).getSize(),Ct=At.any3d?this.options.zoomSnap:1,Ut=et.x/_t.x,Xt=et.y/_t.y,Ze=r?Math.max(Ut,Xt):Math.min(Ut,Xt);return d=this.getScaleZoom(Ze,d),Ct&&(d=Math.round(d/(Ct/100))*(Ct/100),d=r?Math.ceil(d/Ct)*Ct:Math.floor(d/Ct)*Ct),Math.max(y,Math.min(P,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new dt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var h=this._getTopLeftPoint(t,r);return new Pt(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var h=this.options.crs;return r=r===void 0?this._zoom:r,h.scale(t)/h.scale(r)},getScaleZoom:function(t,r){var h=this.options.crs;r=r===void 0?this._zoom:r;var d=h.zoom(t*h.scale(r));return isNaN(d)?1/0:d},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(Ot(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Et(t),r)},layerPointToLatLng:function(t){var r=Et(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(Ot(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(Ot(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ie(t))},distance:function(t,r){return this.options.crs.distance(Ot(t),Ot(r))},containerPointToLayerPoint:function(t){return Et(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Et(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(Et(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ot(t)))},mouseEventToContainerPoint:function(t){return rt(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=_o(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ht(r,"scroll",this._onScroll,this),this._containerId=m(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,qt(t,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=ei(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ge(this._mapPane,new dt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(t.markerPane,"leaflet-zoom-hide"),qt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,h){ge(this._mapPane,new dt(0,0));var d=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var y=this._zoom!==r;this._moveStart(y,h)._move(t,r)._moveEnd(y),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,h,d){r===void 0&&(r=this._zoom);var y=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),d?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ge(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[m(this._container)]=this;var r=t?o:Ht;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){nt(this._resizeRequest),this._resizeRequest=mt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var h=[],d,y=r==="mouseout"||r==="mouseover",P=t.target||t.srcElement,V=!1;P;){if(d=this._targets[m(P)],d&&(r==="click"||r==="preclick")&&this._draggableMoved(d)){V=!0;break}if(d&&d.listens(r,!0)&&(y&&!zt(P,t)||(h.push(d),y))||P===this._container)break;P=P.parentNode}return!h.length&&!V&&!y&&this.listens(r,!0)&&(h=[this]),h},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var h=t.type;h==="mousedown"&&Sr(r),this._fireDOMEvent(t,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,h){if(t.type==="click"){var d=l({},t);d.type="preclick",this._fireDOMEvent(d,d.type,h)}var y=this._findEventTargets(t,r);if(h){for(var P=[],V=0;V<h.length;V++)h[V].listens(r,!0)&&P.push(h[V]);y=P.concat(y)}if(y.length){r==="contextmenu"&&Z(t);var X=y[0],et={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var _t=X.getLatLng&&(!X._radius||X._radius<=10);et.containerPoint=_t?this.latLngToContainerPoint(X.getLatLng()):this.mouseEventToContainerPoint(t),et.layerPoint=this.containerPointToLayerPoint(et.containerPoint),et.latlng=_t?X.getLatLng():this.layerPointToLatLng(et.layerPoint)}for(V=0;V<y.length;V++)if(y[V].fire(r,et,!0),et.originalEvent._stopped||y[V].options.bubblingMouseEvents===!1&&T(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return rn(this._mapPane)||new dt(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var h=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var h=this.getSize()._divideBy(2);return this.project(t,r)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,h){var d=this._getNewPixelOrigin(h,r);return this.project(t,r)._subtract(d)},_latLngBoundsToNewLayerBounds:function(t,r,h){var d=this._getNewPixelOrigin(h,r);return Dt([this.project(t.getSouthWest(),r)._subtract(d),this.project(t.getNorthWest(),r)._subtract(d),this.project(t.getSouthEast(),r)._subtract(d),this.project(t.getNorthEast(),r)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,h){if(!h)return t;var d=this.project(t,r),y=this.getSize().divideBy(2),P=new Pt(d.subtract(y),d.add(y)),V=this._getBoundsOffset(P,h,r);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?t:this.unproject(d.add(V),r)},_limitOffset:function(t,r){if(!r)return t;var h=this.getPixelBounds(),d=new Pt(h.min.add(t),h.max.add(t));return t.add(this._getBoundsOffset(d,r))},_getBoundsOffset:function(t,r,h){var d=Dt(this.project(r.getNorthEast(),h),this.project(r.getSouthWest(),h)),y=d.min.subtract(t.min),P=d.max.subtract(t.max),V=this._rebound(y.x,-P.x),X=this._rebound(y.y,-P.y);return new dt(V,X)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),h=this.getMaxZoom(),d=At.any3d?this.options.zoomSnap:1;return d&&(t=Math.round(t/d)*d),Math.max(r,Math.min(h,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var h=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,r),!0)},_createAnimProxy:function(){var t=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var h=Hi,d=this._proxy.style[h];Pn(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),d===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();Pn(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(r),y=this._getCenterOffset(t)._divideBy(1-1/d);return h.animate!==!0&&!this.getSize().contains(y)?!1:(mt(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,h,d){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ce(t,r){return new It(t,r)}var me=Rt.extend({options:{position:"topright"},initialize:function(t){E(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),h=this.getPosition(),d=t._controlCorners[h];return qt(r,"leaflet-control"),h.indexOf("bottom")!==-1?d.insertBefore(r,d.firstChild):d.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Re=function(t){return new me(t)};It.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",h=this._controlContainer=te("div",r+"control-container",this._container);function d(y,P){var V=r+y+" "+r+P;t[y+P]=te("div",V,h)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)_e(this._controlCorners[t]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pn=me.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,h,d){return h<d?-1:d<h?1:0}},initialize:function(t,r,h){E(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in t)this._addLayer(t[d],d);for(d in r)this._addLayer(r[d],d,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return me.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(m(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=te("div",t),h=this.options.collapsed;r.setAttribute("aria-haspopup",!0),j(r),G(r);var d=this._section=te("section",t+"-list");h&&(this._map.on("click",this.collapse,this),Ht(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=te("a",t+"-toggle",r);y.href="#",y.title="Layers",y.setAttribute("role","button"),Ht(y,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Z(P),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=te("div",t+"-base",d),this._separator=te("div",t+"-separator",d),this._overlaysList=te("div",t+"-overlays",d),r.appendChild(d)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&m(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,h){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(d,y){return this.options.sortFunction(d.layer,y.layer,d.name,y.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wi(this._baseLayersList),wi(this._overlaysList),this._layerControlInputs=[];var t,r,h,d,y=0;for(h=0;h<this._layers.length;h++)d=this._layers[h],this._addItem(d),r=r||d.overlay,t=t||!d.overlay,y+=d.overlay?0:1;return this.options.hideSingleBase&&(t=t&&y>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(m(t.target)),h=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;h&&this._map.fire(h,r)},_createRadioElement:function(t,r){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=h,d.firstChild},_addItem:function(t){var r=document.createElement("label"),h=this._map.hasLayer(t.layer),d;t.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=h):d=this._createRadioElement("leaflet-base-layers_"+m(this),h),this._layerControlInputs.push(d),d.layerId=m(t.layer),Ht(d,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+t.name;var P=document.createElement("span");r.appendChild(P),P.appendChild(d),P.appendChild(y);var V=t.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,r,h,d=[],y=[];this._handlingClick=!0;for(var P=t.length-1;P>=0;P--)r=t[P],h=this._getLayer(r.layerId).layer,r.checked?d.push(h):r.checked||y.push(h);for(P=0;P<y.length;P++)this._map.hasLayer(y[P])&&this._map.removeLayer(y[P]);for(P=0;P<d.length;P++)this._map.hasLayer(d[P])||this._map.addLayer(d[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,h,d=this._map.getZoom(),y=t.length-1;y>=0;y--)r=t[y],h=this._getLayer(r.layerId).layer,r.disabled=h.options.minZoom!==void 0&&d<h.options.minZoom||h.options.maxZoom!==void 0&&d>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ht(t,"click",Z),this.expand();var r=this;setTimeout(function(){o(t,"click",Z),r._preventClick=!1})}}),mo=function(t,r,h){return new pn(t,r,h)},Ei=me.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",h=te("div",r+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,r+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,r+"-out",h,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,h,d,y){var P=te("a",h,d);return P.innerHTML=t,P.href="#",P.title=r,P.setAttribute("role","button"),P.setAttribute("aria-label",r),j(P),Ht(P,"click",J),Ht(P,"click",y,this),Ht(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";ke(this._zoomInButton,r),ke(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(qt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(qt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ei,this.addControl(this.zoomControl))});var Fn=function(t){return new Ei(t)},Or=me.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",h=te("div",r),d=this.options;return this._addScales(d,r+"-line",h),t.on(d.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),h},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,h){t.metric&&(this._mScale=te("div",r,h)),t.imperial&&(this._iScale=te("div",r,h))},_update:function(){var t=this._map,r=t.getSize().y/2,h=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(h)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),h=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,h,r/t)},_updateImperial:function(t){var r=t*3.2808399,h,d,y;r>5280?(h=r/5280,d=this._getRoundNum(h),this._updateScale(this._iScale,d+" mi",d/h)):(y=this._getRoundNum(r),this._updateScale(this._iScale,y+" ft",y/r))},_updateScale:function(t,r,h){t.style.width=Math.round(this.options.maxWidth*h)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),h=t/r;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,r*h}}),go=function(t){return new Or(t)},Is='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Si=me.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?Is+" ":"")+"Leaflet</a>"},initialize:function(t){E(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=te("div","leaflet-control-attribution"),j(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var h=[];this.options.prefix&&h.push(this.options.prefix),t.length&&h.push(t.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&new Si().addTo(this)});var Ns=function(t){return new Si(t)};me.Layers=pn,me.Zoom=Ei,me.Scale=Or,me.Attribution=Si,Re.layers=mo,Re.zoom=Fn,Re.scale=go,Re.attribution=Ns;var on=Rt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});on.addTo=function(t,r){return t.addHandler(r,this),this};var $c={Events:Lt},pl=At.touch?"touchstart mousedown":"mousedown",ii=Bt.extend({options:{clickTolerance:3},initialize:function(t,r,h,d){E(this,d),this._element=t,this._dragStartTarget=r||t,this._preventOutline=h},enable:function(){this._enabled||(Ht(this._dragStartTarget,pl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ii._dragging===this&&this.finishDrag(!0),o(this._dragStartTarget,pl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ki(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ii._dragging===this&&this.finishDrag();return}if(!(ii._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ii._dragging=this,this._preventOutline&&Sr(this._element),Ci(),Mi(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,h=Ji(this._element);this._startPoint=new dt(r.clientX,r.clientY),this._startPos=rn(this._element),this._parentScale=Tr(h);var d=t.type==="mousedown";Ht(document,d?"mousemove":"touchmove",this._onMove,this),Ht(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,h=new dt(r.clientX,r.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Z(t),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ge(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),o(document,"mousemove touchmove",this._onMove,this),o(document,"mouseup touchend touchcancel",this._onUp,this),Er(),Pi();var r=this._moved&&this._moving;this._moving=!1,ii._dragging=!1,r&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function _l(t,r,h){var d,y=[1,4,2,8],P,V,X,et,_t,Ct,Ut,Xt;for(P=0,Ct=t.length;P<Ct;P++)t[P]._code=Ti(t[P],r);for(X=0;X<4;X++){for(Ut=y[X],d=[],P=0,Ct=t.length,V=Ct-1;P<Ct;V=P++)et=t[P],_t=t[V],et._code&Ut?_t._code&Ut||(Xt=yo(_t,et,Ut,r,h),Xt._code=Ti(Xt,r),d.push(Xt)):(_t._code&Ut&&(Xt=yo(_t,et,Ut,r,h),Xt._code=Ti(Xt,r),d.push(Xt)),d.push(et));t=d}return t}function ml(t,r){var h,d,y,P,V,X,et,_t,Ct;if(!t||t.length===0)throw new Error("latlngs not passed");sn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ut=Ot([0,0]),Xt=ie(t),Ze=Xt.getNorthWest().distanceTo(Xt.getSouthWest())*Xt.getNorthEast().distanceTo(Xt.getNorthWest());Ze<1700&&(Ut=zs(t));var Ae=t.length,an=[];for(h=0;h<Ae;h++){var qe=Ot(t[h]);an.push(r.project(Ot([qe.lat-Ut.lat,qe.lng-Ut.lng])))}for(X=et=_t=0,h=0,d=Ae-1;h<Ae;d=h++)y=an[h],P=an[d],V=y.y*P.x-P.y*y.x,et+=(y.x+P.x)*V,_t+=(y.y+P.y)*V,X+=V*3;X===0?Ct=an[0]:Ct=[et/X,_t/X];var nr=r.unproject(Et(Ct));return Ot([nr.lat+Ut.lat,nr.lng+Ut.lng])}function zs(t){for(var r=0,h=0,d=0,y=0;y<t.length;y++){var P=Ot(t[y]);r+=P.lat,h+=P.lng,d++}return Ot([r/d,h/d])}var Wc={__proto__:null,clipPolygon:_l,polygonCenter:ml,centroid:zs};function gl(t,r){if(!r||!t.length)return t.slice();var h=r*r;return t=Xc(t,h),t=Yc(t,h),t}function yl(t,r,h){return Math.sqrt(Rr(t,r,h,!0))}function Jc(t,r,h){return Rr(t,r,h)}function Yc(t,r){var h=t.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,y=new d(h);y[0]=y[h-1]=1,js(t,y,r,0,h-1);var P,V=[];for(P=0;P<h;P++)y[P]&&V.push(t[P]);return V}function js(t,r,h,d,y){var P=0,V,X,et;for(X=d+1;X<=y-1;X++)et=Rr(t[X],t[d],t[y],!0),et>P&&(V=X,P=et);P>h&&(r[V]=1,js(t,r,h,d,V),js(t,r,h,V,y))}function Xc(t,r){for(var h=[t[0]],d=1,y=0,P=t.length;d<P;d++)Qc(t[d],t[y])>r&&(h.push(t[d]),y=d);return y<P-1&&h.push(t[P-1]),h}var vl;function bl(t,r,h,d,y){var P=d?vl:Ti(t,h),V=Ti(r,h),X,et,_t;for(vl=V;;){if(!(P|V))return[t,r];if(P&V)return!1;X=P||V,et=yo(t,r,X,h,y),_t=Ti(et,h),X===P?(t=et,P=_t):(r=et,V=_t)}}function yo(t,r,h,d,y){var P=r.x-t.x,V=r.y-t.y,X=d.min,et=d.max,_t,Ct;return h&8?(_t=t.x+P*(et.y-t.y)/V,Ct=et.y):h&4?(_t=t.x+P*(X.y-t.y)/V,Ct=X.y):h&2?(_t=et.x,Ct=t.y+V*(et.x-t.x)/P):h&1&&(_t=X.x,Ct=t.y+V*(X.x-t.x)/P),new dt(_t,Ct,y)}function Ti(t,r){var h=0;return t.x<r.min.x?h|=1:t.x>r.max.x&&(h|=2),t.y<r.min.y?h|=4:t.y>r.max.y&&(h|=8),h}function Qc(t,r){var h=r.x-t.x,d=r.y-t.y;return h*h+d*d}function Rr(t,r,h,d){var y=r.x,P=r.y,V=h.x-y,X=h.y-P,et=V*V+X*X,_t;return et>0&&(_t=((t.x-y)*V+(t.y-P)*X)/et,_t>1?(y=h.x,P=h.y):_t>0&&(y+=V*_t,P+=X*_t)),V=t.x-y,X=t.y-P,d?V*V+X*X:new dt(y,P)}function sn(t){return!K(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Ll(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),sn(t)}function kl(t,r){var h,d,y,P,V,X,et,_t;if(!t||t.length===0)throw new Error("latlngs not passed");sn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ct=Ot([0,0]),Ut=ie(t),Xt=Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest());Xt<1700&&(Ct=zs(t));var Ze=t.length,Ae=[];for(h=0;h<Ze;h++){var an=Ot(t[h]);Ae.push(r.project(Ot([an.lat-Ct.lat,an.lng-Ct.lng])))}for(h=0,d=0;h<Ze-1;h++)d+=Ae[h].distanceTo(Ae[h+1])/2;if(d===0)_t=Ae[0];else for(h=0,P=0;h<Ze-1;h++)if(V=Ae[h],X=Ae[h+1],y=V.distanceTo(X),P+=y,P>d){et=(P-d)/y,_t=[X.x-et*(X.x-V.x),X.y-et*(X.y-V.y)];break}var qe=r.unproject(Et(_t));return Ot([qe.lat+Ct.lat,qe.lng+Ct.lng])}var tf={__proto__:null,simplify:gl,pointToSegmentDistance:yl,closestPointOnSegment:Jc,clipSegment:bl,_getEdgeIntersection:yo,_getBitCode:Ti,_sqClosestPointOnSegment:Rr,isFlat:sn,_flat:Ll,polylineCenter:kl},Fs={project:function(t){return new dt(t.lng,t.lat)},unproject:function(t){return new Jt(t.y,t.x)},bounds:new Pt([-180,-90],[180,90])},Us={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Pt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,h=this.R,d=t.lat*r,y=this.R_MINOR/h,P=Math.sqrt(1-y*y),V=P*Math.sin(d),X=Math.tan(Math.PI/4-d/2)/Math.pow((1-V)/(1+V),P/2);return d=-h*Math.log(Math.max(X,1e-10)),new dt(t.lng*r*h,d)},unproject:function(t){for(var r=180/Math.PI,h=this.R,d=this.R_MINOR/h,y=Math.sqrt(1-d*d),P=Math.exp(-t.y/h),V=Math.PI/2-2*Math.atan(P),X=0,et=.1,_t;X<15&&Math.abs(et)>1e-7;X++)_t=y*Math.sin(V),_t=Math.pow((1-_t)/(1+_t),y/2),et=Math.PI/2-2*Math.atan(P*_t)-V,V+=et;return new Jt(V*r,t.x*r/h)}},ef={__proto__:null,LonLat:Fs,Mercator:Us,SphericalMercator:St},nf=l({},vt,{code:"EPSG:3395",projection:Us,transformation:function(){var t=.5/(Math.PI*Us.R);return z(t,.5,-t,.5)}()}),wl=l({},vt,{code:"EPSG:4326",projection:Fs,transformation:z(1/180,1,-1/180,.5)}),rf=l({},at,{projection:Fs,transformation:z(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var h=r.lng-t.lng,d=r.lat-t.lat;return Math.sqrt(h*h+d*d)},infinite:!0});at.Earth=vt,at.EPSG3395=nf,at.EPSG3857=H,at.EPSG900913=W,at.EPSG4326=wl,at.Simple=rf;var _n=Bt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[m(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[m(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var h=this.getEvents();r.on(h,this),this.once("remove",function(){r.off(h,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});It.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=m(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=m(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return m(t)in this._layers},eachLayer:function(t,r){for(var h in this._layers)t.call(r,this._layers[h]);return this},_addLayers:function(t){t=t?K(t)?t:[t]:[];for(var r=0,h=t.length;r<h;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[m(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=m(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,h=this._getZoomSpan();for(var d in this._zoomBoundLayers){var y=this._zoomBoundLayers[d].options;t=y.minZoom===void 0?t:Math.min(t,y.minZoom),r=y.maxZoom===void 0?r:Math.max(r,y.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yi=_n.extend({initialize:function(t,r){E(this,r),this._layers={};var h,d;if(t)for(h=0,d=t.length;h<d;h++)this.addLayer(t[h])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),h,d;for(h in this._layers)d=this._layers[h],d[t]&&d[t].apply(d,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var h in this._layers)t.call(r,this._layers[h]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return m(t)}}),of=function(t,r){return new Yi(t,r)},Un=Yi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Yi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Yi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new pe;for(var r in this._layers){var h=this._layers[r];t.extend(h.getBounds?h.getBounds():h.getLatLng())}return t}}),sf=function(t,r){return new Un(t,r)},Xi=Rt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){E(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var h=this._getIconUrl(t);if(!h){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(h,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(d,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(t,r){var h=this.options,d=h[r+"Size"];typeof d=="number"&&(d=[d,d]);var y=Et(d),P=Et(r==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(h.className||""),P&&(t.style.marginLeft=-P.x+"px",t.style.marginTop=-P.y+"px"),y&&(t.style.width=y.x+"px",t.style.height=y.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return At.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function af(t){return new Xi(t)}var Ar=Xi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ar.imagePath!="string"&&(Ar.imagePath=this._detectIconPath()),(this.options.imagePath||Ar.imagePath)+Xi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(h,d,y){var P=d.exec(h);return P&&P[y]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=te("div","leaflet-default-icon-path",document.body),r=ei(t,"background-image")||ei(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),xl=on.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ii(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,h=r._map,d=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,P=rn(r._icon),V=h.getPixelBounds(),X=h.getPixelOrigin(),et=Dt(V.min._subtract(X).add(y),V.max._subtract(X).subtract(y));if(!et.contains(P)){var _t=Et((Math.max(et.max.x,P.x)-et.max.x)/(V.max.x-et.max.x)-(Math.min(et.min.x,P.x)-et.min.x)/(V.min.x-et.min.x),(Math.max(et.max.y,P.y)-et.max.y)/(V.max.y-et.max.y)-(Math.min(et.min.y,P.y)-et.min.y)/(V.min.y-et.min.y)).multiplyBy(d);h.panBy(_t,{animate:!1}),this._draggable._newPos._add(_t),this._draggable._startPos._add(_t),ge(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=mt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(nt(this._panRequest),this._panRequest=mt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,h=r._shadow,d=rn(r._icon),y=r._map.layerPointToLatLng(d);h&&ge(h,d),r._latlng=y,t.latlng=y,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),vo=_n.extend({options:{icon:new Ar,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){E(this,r),this._latlng=Ot(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=Ot(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=t.icon.createIcon(this._icon),d=!1;h!==this._icon&&(this._icon&&this._removeIcon(),d=!0,t.title&&(h.title=t.title),h.tagName==="IMG"&&(h.alt=t.alt||"")),qt(h,r),t.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(h,"focus",this._panOnFocus,this);var y=t.icon.createShadow(this._shadow),P=!1;y!==this._shadow&&(this._removeShadow(),P=!0),y&&(qt(y,r),y.alt=""),this._shadow=y,t.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&P&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&o(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ke(this._icon,t),this._shadow&&Ke(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,h=r.iconSize?Et(r.iconSize):Et(0,0),d=r.iconAnchor?Et(r.iconAnchor):Et(0,0);t.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:h.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lf(t,r){return new vo(t,r)}var ri=_n.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return E(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bo=ri.extend({options:{fill:!0,radius:10},initialize:function(t,r){E(this,r),this._latlng=Ot(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=Ot(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return ri.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,h=this._clickTolerance(),d=[t+h,r+h];this._pxBounds=new Pt(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function uf(t,r){return new bo(t,r)}var Gs=bo.extend({initialize:function(t,r,h){if(typeof r=="number"&&(r=l({},h,{radius:r})),E(this,r),this._latlng=Ot(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new pe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ri.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,h=this._map,d=h.options.crs;if(d.distance===vt.distance){var y=Math.PI/180,P=this._mRadius/vt.R/y,V=h.project([r+P,t]),X=h.project([r-P,t]),et=V.add(X).divideBy(2),_t=h.unproject(et).lat,Ct=Math.acos((Math.cos(P*y)-Math.sin(r*y)*Math.sin(_t*y))/(Math.cos(r*y)*Math.cos(_t*y)))/y;(isNaN(Ct)||Ct===0)&&(Ct=P/Math.cos(Math.PI/180*r)),this._point=et.subtract(h.getPixelOrigin()),this._radius=isNaN(Ct)?0:et.x-h.project([_t,t-Ct]).x,this._radiusY=et.y-V.y}else{var Ut=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Ut).x}this._updateBounds()}});function hf(t,r,h){return new Gs(t,r,h)}var Gn=ri.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){E(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,h=null,d=Rr,y,P,V=0,X=this._parts.length;V<X;V++)for(var et=this._parts[V],_t=1,Ct=et.length;_t<Ct;_t++){y=et[_t-1],P=et[_t];var Ut=d(t,y,P,!0);Ut<r&&(r=Ut,h=d(t,y,P))}return h&&(h.distance=Math.sqrt(r)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=Ot(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new pe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return sn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],h=sn(t),d=0,y=t.length;d<y;d++)h?(r[d]=Ot(t[d]),this._bounds.extend(r[d])):r[d]=this._convertLatLngs(t[d]);return r},_project:function(){var t=new Pt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new dt(t,t);this._rawPxBounds&&(this._pxBounds=new Pt([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,h){var d=t[0]instanceof Jt,y=t.length,P,V;if(d){for(V=[],P=0;P<y;P++)V[P]=this._map.latLngToLayerPoint(t[P]),h.extend(V[P]);r.push(V)}else for(P=0;P<y;P++)this._projectLatlngs(t[P],r,h)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,h,d,y,P,V,X,et;for(h=0,y=0,P=this._rings.length;h<P;h++)for(et=this._rings[h],d=0,V=et.length;d<V-1;d++)X=bl(et[d],et[d+1],t,d,!0),X&&(r[y]=r[y]||[],r[y].push(X[0]),(X[1]!==et[d+1]||d===V-2)&&(r[y].push(X[1]),y++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,h=0,d=t.length;h<d;h++)t[h]=gl(t[h],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var h,d,y,P,V,X,et=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(h=0,P=this._parts.length;h<P;h++)for(X=this._parts[h],d=0,V=X.length,y=V-1;d<V;y=d++)if(!(!r&&d===0)&&yl(t,X[y],X[d])<=et)return!0;return!1}});function cf(t,r){return new Gn(t,r)}Gn._flat=Ll;var Qi=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ml(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=Gn.prototype._convertLatLngs.call(this,t),h=r.length;return h>=2&&r[0]instanceof Jt&&r[0].equals(r[h-1])&&r.pop(),r},_setLatLngs:function(t){Gn.prototype._setLatLngs.call(this,t),sn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return sn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,h=new dt(r,r);if(t=new Pt(t.min.subtract(h),t.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,y=this._rings.length,P;d<y;d++)P=_l(this._rings[d],t,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,h,d,y,P,V,X,et,_t;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(P=0,et=this._parts.length;P<et;P++)for(h=this._parts[P],V=0,_t=h.length,X=_t-1;V<_t;X=V++)d=h[V],y=h[X],d.y>t.y!=y.y>t.y&&t.x<(y.x-d.x)*(t.y-d.y)/(y.y-d.y)+d.x&&(r=!r);return r||Gn.prototype._containsPoint.call(this,t,!0)}});function ff(t,r){return new Qi(t,r)}var Zn=Un.extend({initialize:function(t,r){E(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=K(t)?t:t.features,h,d,y;if(r){for(h=0,d=r.length;h<d;h++)y=r[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var P=this.options;if(P.filter&&!P.filter(t))return this;var V=Lo(t,P);return V?(V.feature=xo(t),V.defaultOptions=V.options,this.resetStyle(V),P.onEachFeature&&P.onEachFeature(t,V),this.addLayer(V)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function Lo(t,r){var h=t.type==="Feature"?t.geometry:t,d=h?h.coordinates:null,y=[],P=r&&r.pointToLayer,V=r&&r.coordsToLatLng||Zs,X,et,_t,Ct;if(!d&&!h)return null;switch(h.type){case"Point":return X=V(d),Ml(P,t,X,r);case"MultiPoint":for(_t=0,Ct=d.length;_t<Ct;_t++)X=V(d[_t]),y.push(Ml(P,t,X,r));return new Un(y);case"LineString":case"MultiLineString":return et=ko(d,h.type==="LineString"?0:1,V),new Gn(et,r);case"Polygon":case"MultiPolygon":return et=ko(d,h.type==="Polygon"?1:2,V),new Qi(et,r);case"GeometryCollection":for(_t=0,Ct=h.geometries.length;_t<Ct;_t++){var Ut=Lo({geometry:h.geometries[_t],type:"Feature",properties:t.properties},r);Ut&&y.push(Ut)}return new Un(y);case"FeatureCollection":for(_t=0,Ct=h.features.length;_t<Ct;_t++){var Xt=Lo(h.features[_t],r);Xt&&y.push(Xt)}return new Un(y);default:throw new Error("Invalid GeoJSON object.")}}function Ml(t,r,h,d){return t?t(r,h):new vo(h,d&&d.markersInheritOptions&&d)}function Zs(t){return new Jt(t[1],t[0],t[2])}function ko(t,r,h){for(var d=[],y=0,P=t.length,V;y<P;y++)V=r?ko(t[y],r-1,h):(h||Zs)(t[y]),d.push(V);return d}function Vs(t,r){return t=Ot(t),t.alt!==void 0?[M(t.lng,r),M(t.lat,r),M(t.alt,r)]:[M(t.lng,r),M(t.lat,r)]}function wo(t,r,h,d){for(var y=[],P=0,V=t.length;P<V;P++)y.push(r?wo(t[P],sn(t[P])?0:r-1,h,d):Vs(t[P],d));return!r&&h&&y.length>0&&y.push(y[0].slice()),y}function tr(t,r){return t.feature?l({},t.feature,{geometry:r}):xo(r)}function xo(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Hs={toGeoJSON:function(t){return tr(this,{type:"Point",coordinates:Vs(this.getLatLng(),t)})}};vo.include(Hs),Gs.include(Hs),bo.include(Hs),Gn.include({toGeoJSON:function(t){var r=!sn(this._latlngs),h=wo(this._latlngs,r?1:0,!1,t);return tr(this,{type:(r?"Multi":"")+"LineString",coordinates:h})}}),Qi.include({toGeoJSON:function(t){var r=!sn(this._latlngs),h=r&&!sn(this._latlngs[0]),d=wo(this._latlngs,h?2:r?1:0,!0,t);return r||(d=[d]),tr(this,{type:(h?"Multi":"")+"Polygon",coordinates:d})}}),Yi.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(h){r.push(h.toGeoJSON(t).geometry.coordinates)}),tr(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var h=r==="GeometryCollection",d=[];return this.eachLayer(function(y){if(y.toGeoJSON){var P=y.toGeoJSON(t);if(h)d.push(P.geometry);else{var V=xo(P);V.type==="FeatureCollection"?d.push.apply(d,V.features):d.push(V)}}}),h?tr(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Pl(t,r){return new Zn(t,r)}var df=Pl,Mo=_n.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,h){this._url=t,this._bounds=ie(r),E(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&zn(this._image),this},bringToBack:function(){return this._map&&jn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ie(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:te("img");if(qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onload=f(this.fire,this,"load"),r.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Pn(this._image,h,r)},_reset:function(){var t=this._image,r=new Pt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=r.getSize();ge(t,r.min),t.style.width=h.x+"px",t.style.height=h.y+"px"},_updateOpacity:function(){Ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),pf=function(t,r,h){return new Mo(t,r,h)},Cl=Mo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:te("video");if(qt(r,"leaflet-image-layer"),this._zoomAnimated&&qt(r,"leaflet-zoom-animated"),this.options.className&&qt(r,this.options.className),r.onselectstart=x,r.onmousemove=x,r.onloadeddata=f(this.fire,this,"load"),t){for(var h=r.getElementsByTagName("source"),d=[],y=0;y<h.length;y++)d.push(h[y].src);this._url=h.length>0?d:[r.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var V=te("source");V.src=this._url[P],r.appendChild(V)}}});function _f(t,r,h){return new Cl(t,r,h)}var El=Mo.extend({_initImage:function(){var t=this._image=this._url;qt(t,"leaflet-image-layer"),this._zoomAnimated&&qt(t,"leaflet-zoom-animated"),this.options.className&&qt(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function mf(t,r,h){return new El(t,r,h)}var En=_n.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof Jt||K(t))?(this._latlng=Ot(t),E(this,r)):(E(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ke(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ke(this._container,0),this._removeTimeout=setTimeout(f(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=Ot(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&zn(this._container),this},bringToBack:function(){return this._map&&jn(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof Un){r=null;var h=this._source._layers;for(var d in h)if(h[d]._map){r=h[d];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=Et(this.options.offset),h=this._getAnchor();this._zoomAnimated?ge(this._container,t.add(h)):r=r.add(t).add(h);var d=this._containerBottom=-r.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=d+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(t,r,h,d){var y=r;return y instanceof t||(y=new t(d).setContent(r)),h&&y.setLatLng(h),y}}),_n.include({_initOverlay:function(t,r,h,d){var y=h;return y instanceof t?(E(y,d),y._source=this):(y=r&&!d?r:new t(d,this),y.setContent(h)),y}});var Po=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,En.prototype.openOn.call(this,t)},onAdd:function(t){En.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ri||this._source.on("preclick",D))},onRemove:function(t){En.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ri||this._source.off("preclick",D))},getEvents:function(){var t=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=te("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=te("div",t+"-content-wrapper",r);if(this._contentNode=te("div",t+"-content",h),j(r),G(this._contentNode),Ht(r,"contextmenu",D),this._tipContainer=te("div",t+"-tip-container",r),this._tip=te("div",t+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=te("a",t+"-close-button",r);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',Ht(d,"click",function(y){Z(y),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var h=t.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),r.width=h+1+"px",r.whiteSpace="",r.height="";var d=t.offsetHeight,y=this.options.maxHeight,P="leaflet-popup-scrolled";y&&d>y?(r.height=y+"px",qt(t,P)):ke(t,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),h=this._getAnchor();ge(this._container,r.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(ei(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+r,d=this._containerWidth,y=new dt(this._containerLeft,-h-this._containerBottom);y._add(rn(this._container));var P=t.layerPointToContainerPoint(y),V=Et(this.options.autoPanPadding),X=Et(this.options.autoPanPaddingTopLeft||V),et=Et(this.options.autoPanPaddingBottomRight||V),_t=t.getSize(),Ct=0,Ut=0;P.x+d+et.x>_t.x&&(Ct=P.x+d-_t.x+et.x),P.x-Ct-X.x<0&&(Ct=P.x-X.x),P.y+h+et.y>_t.y&&(Ut=P.y+h-_t.y+et.y),P.y-Ut-X.y<0&&(Ut=P.y-X.y),(Ct||Ut)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Ct,Ut]))}},_getAnchor:function(){return Et(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gf=function(t,r){return new Po(t,r)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(t,r,h){return this._initOverlay(Po,t,r,h).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),_n.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Po,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Un||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){J(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof ri)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Co=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){En.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){En.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=En.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,h,d=this._map,y=this._container,P=d.latLngToContainerPoint(d.getCenter()),V=d.layerPointToContainerPoint(t),X=this.options.direction,et=y.offsetWidth,_t=y.offsetHeight,Ct=Et(this.options.offset),Ut=this._getAnchor();X==="top"?(r=et/2,h=_t):X==="bottom"?(r=et/2,h=0):X==="center"?(r=et/2,h=_t/2):X==="right"?(r=0,h=_t/2):X==="left"?(r=et,h=_t/2):V.x<P.x?(X="right",r=0,h=_t/2):(X="left",r=et+(Ct.x+Ut.x)*2,h=_t/2),t=t.subtract(Et(r,h,!0)).add(Ct).add(Ut),ke(y,"leaflet-tooltip-right"),ke(y,"leaflet-tooltip-left"),ke(y,"leaflet-tooltip-top"),ke(y,"leaflet-tooltip-bottom"),qt(y,"leaflet-tooltip-"+X),ge(y,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ke(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return Et(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yf=function(t,r){return new Co(t,r)};It.include({openTooltip:function(t,r,h){return this._initOverlay(Co,t,r,h).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),_n.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Co,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[r](h),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Un||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&(Ht(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ht(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var r=t.latlng,h,d;this._tooltip.options.sticky&&t.originalEvent&&(h=this._map.mouseEventToContainerPoint(t.originalEvent),d=this._map.containerPointToLayerPoint(h),r=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(r)}});var Sl=Xi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),h=this.options;if(h.html instanceof Element?(wi(r),r.appendChild(h.html)):r.innerHTML=h.html!==!1?h.html:"",h.bgPos){var d=Et(h.bgPos);r.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function vf(t){return new Sl(t)}Xi.Default=Ar;var Br=_n.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){E(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),_e(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(zn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(jn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof dt?t:new dt(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,h=-t(-1/0,1/0),d=0,y=r.length,P;d<y;d++)P=r[d].style.zIndex,r[d]!==this._container&&P&&(h=t(h,+P));isFinite(h)&&(this.options.zIndex=h+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){Ke(this._container,this.options.opacity);var t=+new Date,r=!1,h=!1;for(var d in this._tiles){var y=this._tiles[d];if(!(!y.current||!y.loaded)){var P=Math.min(1,(t-y.loaded)/200);Ke(y.el,P),P<1?r=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),r&&(nt(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===t?(this._levels[h].el.style.zIndex=r-Math.abs(t-h),this._onUpdateLevel(h)):(_e(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var d=this._levels[t],y=this._map;return d||(d=this._levels[t]={},d.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=r,d.origin=y.project(y.unproject(y.getPixelOrigin()),t).round(),d.zoom=t,this._setZoomTransform(d,y.getCenter(),y.getZoom()),x(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,r,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var d=r.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)_e(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,h,d){var y=Math.floor(t/2),P=Math.floor(r/2),V=h-1,X=new dt(+y,+P);X.z=+V;var et=this._tileCoordsToKey(X),_t=this._tiles[et];return _t&&_t.active?(_t.retain=!0,!0):(_t&&_t.loaded&&(_t.retain=!0),V>d?this._retainParent(y,P,V,d):!1)},_retainChildren:function(t,r,h,d){for(var y=2*t;y<2*t+2;y++)for(var P=2*r;P<2*r+2;P++){var V=new dt(y,P);V.z=h+1;var X=this._tileCoordsToKey(V),et=this._tiles[X];if(et&&et.active){et.retain=!0;continue}else et&&et.loaded&&(et.retain=!0);h+1<d&&this._retainChildren(y,P,h+1,d)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,h,d){var y=Math.round(r);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var P=this.options.updateWhenZooming&&y!==this._tileZoom;(!d||P)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(t),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var h in this._levels)this._setZoomTransform(this._levels[h],t,r)},_setZoomTransform:function(t,r,h){var d=this._map.getZoomScale(h,t.zoom),y=t.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(r,h)).round();At.any3d?Pn(t.el,y,d):ge(t.el,y)},_resetGrid:function(){var t=this._map,r=t.options.crs,h=this._tileSize=this.getTileSize(),d=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],d).x/h.x),Math.ceil(t.project([0,r.wrapLng[1]],d).x/h.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],d).y/h.x),Math.ceil(t.project([r.wrapLat[1],0],d).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,h=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),d=r.getZoomScale(h,this._tileZoom),y=r.project(t,this._tileZoom).floor(),P=r.getSize().divideBy(d*2);return new Pt(y.subtract(P),y.add(P))},_update:function(t){var r=this._map;if(r){var h=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(t),y=this._pxBoundsToTileRange(d),P=y.getCenter(),V=[],X=this.options.keepBuffer,et=new Pt(y.getBottomLeft().subtract([X,-X]),y.getTopRight().add([X,-X]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _t in this._tiles){var Ct=this._tiles[_t].coords;(Ct.z!==this._tileZoom||!et.contains(new dt(Ct.x,Ct.y)))&&(this._tiles[_t].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(t,h);return}for(var Ut=y.min.y;Ut<=y.max.y;Ut++)for(var Xt=y.min.x;Xt<=y.max.x;Xt++){var Ze=new dt(Xt,Ut);if(Ze.z=this._tileZoom,!!this._isValidTile(Ze)){var Ae=this._tiles[this._tileCoordsToKey(Ze)];Ae?Ae.current=!0:V.push(Ze)}}if(V.sort(function(qe,nr){return qe.distanceTo(P)-nr.distanceTo(P)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var an=document.createDocumentFragment();for(Xt=0;Xt<V.length;Xt++)this._addTile(V[Xt],an);this._level.el.appendChild(an)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var h=this._globalTileRange;if(!r.wrapLng&&(t.x<h.min.x||t.x>h.max.x)||!r.wrapLat&&(t.y<h.min.y||t.y>h.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(t);return ie(this.options.bounds).overlaps(d)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,h=this.getTileSize(),d=t.scaleBy(h),y=d.add(h),P=r.unproject(d,t.z),V=r.unproject(y,t.z);return[P,V]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),h=new pe(r[0],r[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),h=new dt(+r[0],+r[1]);return h.z=+r[2],h},_removeTile:function(t){var r=this._tiles[t];r&&(_e(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){qt(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=x,t.onmousemove=x,At.ielt9&&this.options.opacity<1&&Ke(t,this.options.opacity)},_addTile:function(t,r){var h=this._getTilePos(t),d=this._tileCoordsToKey(t),y=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(y),this.createTile.length<2&&mt(f(this._tileReady,this,t,null,y)),ge(y,h),this._tiles[d]={el:y,coords:t,current:!0},r.appendChild(y),this.fire("tileloadstart",{tile:y,coords:t})},_tileReady:function(t,r,h){r&&this.fire("tileerror",{error:r,tile:h,coords:t});var d=this._tileCoordsToKey(t);h=this._tiles[d],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ke(h.el,0),nt(this._fadeFrame),this._fadeFrame=mt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),r||(qt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?mt(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new dt(this._wrapX?b(t.x,this._wrapX):t.x,this._wrapY?b(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new Pt(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function bf(t){return new Br(t)}var er=Br.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=E(this,r),r.detectRetina&&At.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var h=document.createElement("img");return Ht(h,"load",f(this._tileOnLoad,this,r,h)),Ht(h,"error",f(this._tileOnError,this,r,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(t),h},getTileUrl:function(t){var r={r:At.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=h),r["-y"]=h}return U(this._url,l(r,this.options))},_tileOnLoad:function(t,r){At.ielt9?setTimeout(f(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,h){var d=this.options.errorTileUrl;d&&r.getAttribute("src")!==d&&(r.src=d),t(h,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,h=this.options.zoomReverse,d=this.options.zoomOffset;return h&&(t=r-t),t+d},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=x,r.onerror=x,!r.complete)){r.src=F;var h=this._tiles[t].coords;_e(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:h})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",F),Br.prototype._removeTile.call(this,t)},_tileReady:function(t,r,h){if(!(!this._map||h&&h.getAttribute("src")===F))return Br.prototype._tileReady.call(this,t,r,h)}});function Tl(t,r){return new er(t,r)}var Ol=er.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var h=l({},this.defaultWmsParams);for(var d in r)d in this.options||(h[d]=r[d]);r=E(this,r);var y=r.detectRetina&&At.retina?2:1,P=this.getTileSize();h.width=P.x*y,h.height=P.y*y,this.wmsParams=h},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,er.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),h=this._crs,d=Dt(h.project(r[0]),h.project(r[1])),y=d.min,P=d.max,V=(this._wmsVersion>=1.3&&this._crs===wl?[y.y,y.x,P.y,P.x]:[y.x,y.y,P.x,P.y]).join(","),X=er.prototype.getTileUrl.call(this,t);return X+q(this.wmsParams,X,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(t,r){return l(this.wmsParams,t),r||this.redraw(),this}});function Lf(t,r){return new Ol(t,r)}er.WMS=Ol,Tl.wms=Lf;var Vn=_n.extend({options:{padding:.1},initialize:function(t){E(this,t),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var h=this._map.getZoomScale(r,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,r),P=d.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(t,r));At.any3d?Pn(this._container,P,h):ge(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),h=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new Pt(h,h.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rl=Vn.extend({options:{tolerance:0},getEvents:function(){var t=Vn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ht(t,"mousemove",this._onMouseMove,this),Ht(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ht(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){nt(this._redrawRequest),delete this._ctx,_e(this._container),o(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var t=this._bounds,r=this._container,h=t.getSize(),d=At.retina?2:1;ge(r,t.min),r.width=d*h.x,r.height=d*h.y,r.style.width=h.x+"px",r.style.height=h.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Vn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[m(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,h=r.next,d=r.prev;h?h.prev=d:this._drawLast=d,d?d.next=h:this._drawFirst=h,delete t._order,delete this._layers[m(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),h=[],d,y;for(y=0;y<r.length;y++){if(d=Number(r[y]),isNaN(d))return;h.push(d)}t.options._dashArray=h}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||mt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Pt,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var h=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)t=d.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var h,d,y,P,V=t._parts,X=V.length,et=this._ctx;if(X){for(et.beginPath(),h=0;h<X;h++){for(d=0,y=V[h].length;d<y;d++)P=V[h][d],et[d?"lineTo":"moveTo"](P.x,P.y);r&&et.closePath()}this._fillStroke(et,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,h=this._ctx,d=Math.max(Math.round(t._radius),1),y=(Math.max(Math.round(t._radiusY),1)||d)/d;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(r.x,r.y/y,d,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,t)}},_fillStroke:function(t,r){var h=r.options;h.fill&&(t.globalAlpha=h.fillOpacity,t.fillStyle=h.fillColor||h.color,t.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=h.opacity,t.lineWidth=h.weight,t.strokeStyle=h.color,t.lineCap=h.lineCap,t.lineJoin=h.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),h,d,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(h))&&(d=h);this._fireEvent(d?[d]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(ke(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var h,d,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(r)&&(d=h);d!==this._hoveredLayer&&(this._handleMouseOut(t),d&&(qt(this._container,"leaflet-interactive"),this._fireEvent([d],t,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,h){this._map._fireDOMEvent(r,h||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var h=r.next,d=r.prev;if(h)h.prev=d;else return;d?d.next=h:h&&(this._drawFirst=h),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var h=r.next,d=r.prev;if(d)d.next=h;else return;h?h.prev=d:d&&(this._drawLast=d),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function Al(t){return At.canvas?new Rl(t):null}var Dr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kf={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Dr("shape");qt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Dr("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;_e(r),t.removeInteractiveTarget(r),delete this._layers[m(t)]},_updateStyle:function(t){var r=t._stroke,h=t._fill,d=t.options,y=t._container;y.stroked=!!d.stroke,y.filled=!!d.fill,d.stroke?(r||(r=t._stroke=Dr("stroke")),y.appendChild(r),r.weight=d.weight+"px",r.color=d.color,r.opacity=d.opacity,d.dashArray?r.dashStyle=K(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=d.lineCap.replace("butt","flat"),r.joinstyle=d.lineJoin):r&&(y.removeChild(r),t._stroke=null),d.fill?(h||(h=t._fill=Dr("fill")),y.appendChild(h),h.color=d.fillColor||d.color,h.opacity=d.fillOpacity):h&&(y.removeChild(h),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),h=Math.round(t._radius),d=Math.round(t._radiusY||h);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+h+","+d+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){zn(t._container)},_bringToBack:function(t){jn(t._container)}},Eo=At.vml?Dr:st,Ir=Vn.extend({_initContainer:function(){this._container=Eo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Eo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),o(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vn.prototype._update.call(this);var t=this._bounds,r=t.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,h.setAttribute("width",r.x),h.setAttribute("height",r.y)),ge(h,t.min),h.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Eo("path");t.options.className&&qt(r,t.options.className),t.options.interactive&&qt(r,"leaflet-interactive"),this._updateStyle(t),this._layers[m(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){_e(t._path),t.removeInteractiveTarget(t._path),delete this._layers[m(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,h=t.options;r&&(h.stroke?(r.setAttribute("stroke",h.color),r.setAttribute("stroke-opacity",h.opacity),r.setAttribute("stroke-width",h.weight),r.setAttribute("stroke-linecap",h.lineCap),r.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?r.setAttribute("stroke-dasharray",h.dashArray):r.removeAttribute("stroke-dasharray"),h.dashOffset?r.setAttribute("stroke-dashoffset",h.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),h.fill?(r.setAttribute("fill",h.fillColor||h.color),r.setAttribute("fill-opacity",h.fillOpacity),r.setAttribute("fill-rule",h.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,ht(t._parts,r))},_updateCircle:function(t){var r=t._point,h=Math.max(Math.round(t._radius),1),d=Math.max(Math.round(t._radiusY),1)||h,y="a"+h+","+d+" 0 1,0 ",P=t._empty()?"M0 0":"M"+(r.x-h)+","+r.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(t,P)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){zn(t._path)},_bringToBack:function(t){jn(t._path)}});At.vml&&Ir.include(kf);function Bl(t){return At.svg||At.vml?new Ir(t):null}It.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&Al(t)||Bl(t)}});var Dl=Qi.extend({initialize:function(t,r){Qi.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ie(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function wf(t,r){return new Dl(t,r)}Ir.create=Eo,Ir.pointsToPath=ht,Zn.geometryToLayer=Lo,Zn.coordsToLatLng=Zs,Zn.coordsToLatLngs=ko,Zn.latLngToCoords=Vs,Zn.latLngsToCoords=wo,Zn.getFeature=tr,Zn.asFeature=xo,It.mergeOptions({boxZoom:!0});var Il=on.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mi(),Ci(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ht(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new Pt(this._point,this._startPoint),h=r.getSize();ge(this._box,r.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(_e(this._box),ke(this._container,"leaflet-crosshair")),Pi(),Er(),o(document,{contextmenu:J,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var r=new pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",Il),It.mergeOptions({doubleClickZoom:!0});var Nl=on.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,h=r.getZoom(),d=r.options.zoomDelta,y=t.originalEvent.shiftKey?h-d:h+d;r.options.doubleClickZoom==="center"?r.setZoom(y):r.setZoomAround(t.containerPoint,y)}});It.addInitHook("addHandler","doubleClickZoom",Nl),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zl=on.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ii(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ie(this._map.options.maxBounds);this._offsetLimit=Dt(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),h=this._initialWorldOffset,d=this._draggable._newPos.x,y=(d-r+h)%t+r-h,P=(d+r+h)%t-r-h,V=Math.abs(y+h)<Math.abs(P+h)?y:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(t){var r=this._map,h=r.options,d=!h.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),d)r.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,V=h.easeLinearity,X=y.multiplyBy(V/P),et=X.distanceTo([0,0]),_t=Math.min(h.inertiaMaxSpeed,et),Ct=X.multiplyBy(_t/et),Ut=_t/(h.inertiaDeceleration*V),Xt=Ct.multiplyBy(-Ut/2).round();!Xt.x&&!Xt.y?r.fire("moveend"):(Xt=r._limitOffset(Xt,r.options.maxBounds),mt(function(){r.panBy(Xt,{duration:Ut,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});It.addInitHook("addHandler","dragging",zl),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jl=on.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ht(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),o(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,h=t.scrollTop||r.scrollTop,d=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(d,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},h=this.keyCodes,d,y;for(d=0,y=h.left.length;d<y;d++)r[h.left[d]]=[-1*t,0];for(d=0,y=h.right.length;d<y;d++)r[h.right[d]]=[t,0];for(d=0,y=h.down.length;d<y;d++)r[h.down[d]]=[0,t];for(d=0,y=h.up.length;d<y;d++)r[h.up[d]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},h=this.keyCodes,d,y;for(d=0,y=h.zoomIn.length;d<y;d++)r[h.zoomIn[d]]=t;for(d=0,y=h.zoomOut.length;d<y;d++)r[h.zoomOut[d]]=-t},_addHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){o(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,h=this._map,d;if(r in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(d=this._panKeys[r],t.shiftKey&&(d=Et(d).multiplyBy(3)),h.options.maxBounds&&(d=h._limitOffset(Et(d),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(d)));h.panTo(y)}else h.panBy(d)}else if(r in this._zoomKeys)h.setZoom(h.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;J(t)}}});It.addInitHook("addHandler","keyboard",jl),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fl=on.extend({addHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){o(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=xt(t),h=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var d=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),d),J(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),h=this._map.options.zoomSnap||0;t._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,P=h?Math.ceil(y/h)*h:y,V=t._limitZoom(r+(this._delta>0?P:-P))-r;this._delta=0,this._startTime=null,V&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+V):t.setZoomAround(this._lastMousePos,r+V))}});It.addInitHook("addHandler","scrollWheelZoom",Fl);var xf=600;It.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var Ul=on.extend({addHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new dt(r.clientX,r.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Ht(document,"touchend",Z),Ht(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),xf),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){o(document,"touchend",Z),o(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),o(document,"touchend touchcancel contextmenu",this._cancel,this),o(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new dt(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var h=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});h._simulated=!0,r.target.dispatchEvent(h)}});It.addInitHook("addHandler","tapHold",Ul),It.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var Gl=on.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),o(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var h=r.mouseEventToContainerPoint(t.touches[0]),d=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(h.add(d)._divideBy(2))),this._startDist=h.distanceTo(d),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),Z(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,h=r.mouseEventToContainerPoint(t.touches[0]),d=r.mouseEventToContainerPoint(t.touches[1]),y=h.distanceTo(d)/this._startDist;if(this._zoom=r.getScaleZoom(y,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&y<1||this._zoom>r.getMaxZoom()&&y>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var P=h._add(d)._divideBy(2)._subtract(this._centerPoint);if(y===1&&P.x===0&&P.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),nt(this._animRequest);var V=f(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=mt(V,this,!0),Z(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,nt(this._animRequest),o(document,"touchmove",this._onTouchMove,this),o(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});It.addInitHook("addHandler","touchZoom",Gl),It.BoxZoom=Il,It.DoubleClickZoom=Nl,It.Drag=zl,It.Keyboard=jl,It.ScrollWheelZoom=Fl,It.TapHold=Ul,It.TouchZoom=Gl,s.Bounds=Pt,s.Browser=At,s.CRS=at,s.Canvas=Rl,s.Circle=Gs,s.CircleMarker=bo,s.Class=Rt,s.Control=me,s.DivIcon=Sl,s.DivOverlay=En,s.DomEvent=$t,s.DomUtil=Ds,s.Draggable=ii,s.Evented=Bt,s.FeatureGroup=Un,s.GeoJSON=Zn,s.GridLayer=Br,s.Handler=on,s.Icon=Xi,s.ImageOverlay=Mo,s.LatLng=Jt,s.LatLngBounds=pe,s.Layer=_n,s.LayerGroup=Yi,s.LineUtil=tf,s.Map=It,s.Marker=vo,s.Mixin=$c,s.Path=ri,s.Point=dt,s.PolyUtil=Wc,s.Polygon=Qi,s.Polyline=Gn,s.Popup=Po,s.PosAnimation=he,s.Projection=ef,s.Rectangle=Dl,s.Renderer=Vn,s.SVG=Ir,s.SVGOverlay=El,s.TileLayer=er,s.Tooltip=Co,s.Transformation=Yt,s.Util=gt,s.VideoOverlay=Cl,s.bind=f,s.bounds=Dt,s.canvas=Al,s.circle=hf,s.circleMarker=uf,s.control=Re,s.divIcon=vf,s.extend=l,s.featureGroup=sf,s.geoJSON=Pl,s.geoJson=df,s.gridLayer=bf,s.icon=af,s.imageOverlay=pf,s.latLng=Ot,s.latLngBounds=ie,s.layerGroup=of,s.map=ce,s.marker=lf,s.point=Et,s.polygon=ff,s.polyline=cf,s.popup=gf,s.rectangle=wf,s.setOptions=E,s.stamp=m,s.svg=Bl,s.svgOverlay=mf,s.tileLayer=Tl,s.tooltip=yf,s.transformation=z,s.version=a,s.videoOverlay=_f;var Mf=window.L;s.noConflict=function(){return window.L=Mf,this},window.L=s})})(Gu,Gu.exports);const mg=fc("store",()=>{const e=de(null),i=de(null),s=de(null),a=de([]),l=de(!1),u=en(()=>{var x;return(x=i.value)==null?void 0:x.claims});function f(){var x;l.value=!0,(x=s.value)==null||x.pm.enableDraw("Poly")}function p(){var x,M;l.value=!1,(x=s.value)==null||x.pm.disableDraw("Poly"),(M=s.value)==null||M.off("pm:create")}function m(){return f(),new Promise((x,M)=>{var B;(B=s.value)==null||B.once("pm:create",R=>{const E=R.layer.toGeoJSON();x(E.geometry),p()})})}function g(){var x;f(),(x=s.value)==null||x.once("pm:create",async M=>{const B=M.layer.toGeoJSON();await Bn.zoneAPI.create(B.geometry),p(),await b()})}async function b(){a.value=await Bn.zoneAPI.all()}return{user:e,userDataFromToken:i,map:s,zones:a,drawing:l,userClaims:u,enableDraw:f,disableDraw:p,drawZone:g,drawArea:m,requestZones:b}}),Ln=mg;var Oa=(e=>(e.LOGIN="login",e.REGISTER="register",e.ZONE="zone",e.SETTINGS="settings",e))(Oa||{});const vi=fc("dialogStore",()=>{const e=de(null),i=de(!1);function s(M){e.value=M}function a(){e.value=null,l.value=null,u.value=null,f.value=!1,p.value=null,m.value=null}const l=de(null),u=de(null),f=de(!1),p=de(null),m=de(null);function g(M,B,R){l.value=M,u.value=B,R&&(p.value=R),s("zone")}function b(){s("settings")}async function x(M=!1){if(f.value=!f.value,u.value.layer.pm.toggleEdit(),M){Ln().requestZones();return}const B=u.value.layer.options.zoneInfo;B.geoJSON=u.value.layer.toGeoJSON(),await Bn.zoneAPI.update(B)}return{dialogType:e,showRegisterDialog:i,selectedZone:l,selectedZonePolygon:u,zoneEditing:f,selectedArea:p,selectedParkingSpace:m,openDialog:s,closeDialog:a,openZoneDialog:g,openSettingsDialog:b,toggleEditingZone:x}}),gg=Ge({__name:"DialogContainer",setup(e){const i=vi(),s=Ln();return(a,l)=>Ya((Kt(),ve("div",{class:"dialog-container",onClick:l[0]||(l[0]=(...u)=>jt(i).closeDialog&&jt(i).closeDialog(...u))},[Xa(a.$slots,"default",{},void 0,!0)],512)),[[d_,!jt(i).zoneEditing&&!jt(s).drawing]])}});const Ye=(e,i)=>{const s=e.__vccOpts||e;for(const[a,l]of i)s[a]=l;return s},yg=Ye(gg,[["__scopeId","data-v-431c34b6"]]);var Jn=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DANGER="danger",e))(Jn||{});const vg=Ge({__name:"ButtonComponent",props:{label:{},callback:{},type:{default:Jn.PRIMARY}},setup(e){const i=e;async function s(){await i.callback()}return(a,l)=>(Kt(),ve("div",{class:Ui(["button-component",a.type])},[ne("button",{onClick:s},qn(a.label),1)],2))}});const We=Ye(vg,[["__scopeId","data-v-e8c0451a"]]),bg={class:"floating-buttons"},Lg=Ge({__name:"FloatingButtons",setup(e){const i=Ln(),s=vi();return(a,l)=>(Kt(),ve("div",bg,[jt(s).zoneEditing?bn("",!0):(Kt(),Be(We,{key:0,label:jt(i).drawing?"Cancel":"Add Zone",callback:jt(i).drawing?jt(i).disableDraw:jt(i).drawZone},null,8,["label","callback"])),jt(s).zoneEditing?(Kt(),Be(We,{key:1,label:"Cancel",callback:()=>jt(s).toggleEditingZone(!0)},null,8,["callback"])):bn("",!0),jt(s).zoneEditing?(Kt(),Be(We,{key:2,label:"Finish",callback:jt(s).toggleEditingZone},null,8,["callback"])):bn("",!0)]))}});const kg=Ye(Lg,[["__scopeId","data-v-c03c86da"]]),wg={class:"input-component"},xg=["placeholder","disabled"],Mg=Ge({__name:"InputComponent",props:qh({label:{},placeholder:{},disabled:{type:Boolean}},{modelValue:{}}),emits:["update:modelValue"],setup(e){const i=Kh(e,"modelValue");return(s,a)=>(Kt(),ve("div",wg,[ne("label",null,qn(s.label),1),Ya(ne("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),placeholder:s.placeholder,disabled:s.disabled},null,8,xg),[[h_,i.value]])]))}});const je=Ye(Mg,[["__scopeId","data-v-f3b14f34"]]),Pg={class:"enum-select-buttons"},Cg={class:"select-items"},Eg=["onClick"],Sg=Ge({__name:"SelectButtons",props:qh({label:{},selectValues:{}},{modelValue:{}}),emits:["update:modelValue"],setup(e){const i=Kh(e,"modelValue");return(s,a)=>(Kt(),ve("div",Pg,[ne("label",null,qn(s.label),1),ne("div",Cg,[(Kt(!0),ve(Ce,null,Jo(s.selectValues,l=>(Kt(),ve("div",{class:Ui(["select-item",{selected:i.value===l}]),key:l,onClick:u=>i.value=l},qn(l),11,Eg))),128))])]))}});const Tg=Ye(Sg,[["__scopeId","data-v-40b56cc0"]]);const Og={},Rg={class:"dialog-box"};function Ag(e,i){return Kt(),ve("div",Rg,[Xa(e.$slots,"default",{},void 0,!0)])}const Es=Ye(Og,[["render",Ag],["__scopeId","data-v-b1c32f00"]]),Bg={class:"zone-dialog"},Dg={class:"add-area-form"},Ig={class:"combined-input"},Ng={class:"buttons"},zg={class:"zone-info"},jg={class:"tabs"},Fg=["onClick"],Ug={key:0,class:"parking-spaces"},Gg=["onClick"],Zg={class:"buttons"},Vg=Ge({__name:"ZoneModalDialog",setup(e){const i=vi(),s=Ln(),a=de(!1),l=de({name:"",address:"",numberOfSpaces:"10",type:"",geoJSON:null,workingHours:"08 - 16"});async function u(){await Bn.zoneAPI.delete(i.selectedZone.guid),i.closeDialog(),await s.requestZones()}async function f(){const m=await s.drawArea();l.value.geoJSON=m}async function p(){await Bn.zoneAPI.addArea(i.selectedZone.guid,l.value),await s.requestZones()}return $n(()=>i.selectedArea,(m,g)=>{if(m){const x=m.parkingSpaces.filter(M=>M.vehicle===null).reduce((M,B)=>M.number<B.number?M:B);i.selectedParkingSpace=x}}),(m,g)=>(Kt(),Be(Es,null,{default:yi(()=>{var b,x;return[ne("div",Bg,[ne("h1",null,qn((b=jt(i).selectedZone)==null?void 0:b.name),1),a.value?(Kt(),ve(Ce,{key:0},[ne("div",Dg,[Zt(Tg,{label:"Select","select-values":["lot","underground","garage"],modelValue:l.value.type,"onUpdate:modelValue":g[0]||(g[0]=M=>l.value.type=M)},null,8,["modelValue"]),Zt(je,{label:"Name",placeholder:"Area Name",modelValue:l.value.name,"onUpdate:modelValue":g[1]||(g[1]=M=>l.value.name=M)},null,8,["modelValue"]),Zt(je,{label:"Address",placeholder:"Area Address",modelValue:l.value.address,"onUpdate:modelValue":g[2]||(g[2]=M=>l.value.address=M)},null,8,["modelValue"]),Zt(je,{label:"Area Parking spots",modelValue:l.value.numberOfSpaces,"onUpdate:modelValue":g[3]||(g[3]=M=>l.value.numberOfSpaces=M)},null,8,["modelValue"]),Zt(je,{label:"Area Parking spots",modelValue:l.value.workingHours,"onUpdate:modelValue":g[4]||(g[4]=M=>l.value.workingHours=M)},null,8,["modelValue"]),ne("div",Ig,[Zt(je,{label:"GeoJSON",disabled:!0,placeholder:l.value.geoJSON?"Area GeoJSON added":"Draw Area"},null,8,["placeholder"]),Zt(We,{label:"Draw Area",callback:f})])]),ne("div",Ng,[Zt(We,{label:"Cancel",callback:()=>a.value=!1,type:jt(Jn).DANGER},null,8,["callback","type"]),Zt(We,{label:"Add",callback:p,type:jt(Jn).PRIMARY},null,8,["type"])])],64)):(Kt(),ve(Ce,{key:1},[ne("div",zg,[ne("div",jg,[(Kt(!0),ve(Ce,null,Jo((x=jt(i).selectedZone)==null?void 0:x.parkingAreas,M=>{var B;return Kt(),ve("div",{class:Ui(["tab",{selected:M.guid===((B=jt(i).selectedArea)==null?void 0:B.guid),underground:M.type==="underground",lot:M.type==="lot",garage:M.type==="garage"}]),key:M.guid,onClick:R=>jt(i).selectedArea=M},qn(M.name),11,Fg)}),128))]),jt(i).selectedArea?(Kt(),ve("div",Ug,[(Kt(!0),ve(Ce,null,Jo(jt(i).selectedArea.parkingSpaces,M=>{var B;return Kt(),ve("div",{class:Ui(["parking-space",{selected:M.guid===((B=jt(i).selectedParkingSpace)==null?void 0:B.guid),free:M.vehicle===null,occupied:M.vehicle!==null}]),key:M.guid,onClick:R=>jt(i).selectedParkingSpace=M},qn(M.number),11,Gg)}),128))])):bn("",!0)]),ne("div",Zg,[Zt(We,{label:"Delete",type:jt(Jn).DANGER,callback:u},null,8,["type"]),Zt(We,{label:"Edit",callback:jt(i).toggleEditingZone},null,8,["callback"]),Zt(We,{label:"Add area",callback:()=>a.value=!0},null,8,["callback"])])],64))])]}),_:1}))}});const Hg=Ye(Vg,[["__scopeId","data-v-29fcb247"]]),Kg={class:"settings profile"},qg=ne("h1",null,"Profile Settings",-1),$g={class:"items"},Wg={class:"buttons"},Jg=Ge({__name:"ProfileSettings",setup(e){const i=Ln(),s=de(""),a=de(""),l=de(""),u=de(""),f=de("");async function p(){if(u.value!==f.value)return alert("Passwords do not match");const m={firstName:s.value,lastName:a.value,homeAddress:l.value};u.value&&(m.password=u.value),await Bn.authAPI.updateUserData(m)}return gs(()=>{i.user&&(s.value=i.user.firstName,a.value=i.user.lastName,l.value=i.user.homeAddress)}),(m,g)=>(Kt(),ve("div",Kg,[qg,ne("div",$g,[Zt(je,{label:"First name",modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=b=>s.value=b)},null,8,["modelValue"]),Zt(je,{label:"Last name",modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=b=>a.value=b)},null,8,["modelValue"]),Zt(je,{label:"Home address",modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=b=>l.value=b)},null,8,["modelValue"]),Zt(je,{label:"Password",modelValue:u.value,"onUpdate:modelValue":g[3]||(g[3]=b=>u.value=b)},null,8,["modelValue"]),Zt(je,{label:"Confirm password",modelValue:f.value,"onUpdate:modelValue":g[4]||(g[4]=b=>f.value=b)},null,8,["modelValue"])]),ne("div",Wg,[Zt(We,{label:"Save Changes",callback:p})])]))}});const Yg={},Xg={class:"settings vehicle"},Qg=ne("h1",null,"Vehicle Settings",-1),ty=ne("div",{class:"items"},null,-1),ey=[Qg,ty];function ny(e,i){return Kt(),ve("div",Xg,ey)}const iy=Ye(Yg,[["render",ny]]);const ry={},oy={class:"settings ticket"},sy=ne("h1",null,"Ticket Settings",-1),ay=ne("div",{class:"items"},null,-1),ly=[sy,ay];function uy(e,i){return Kt(),ve("div",oy,ly)}const hy=Ye(ry,[["render",uy]]),cy={class:"settings-dialog"},fy={class:"tabs"},dy=["onClick"],py={class:"tab-view"},_y=Ge({__name:"SettingsDialog",setup(e){const i=de([{name:"Profile"},{name:"Vehicles"},{name:"Tickets"}]),s=de(i.value[0].name);return(a,l)=>(Kt(),Be(Es,null,{default:yi(()=>[ne("div",cy,[ne("div",fy,[(Kt(!0),ve(Ce,null,Jo(i.value,u=>(Kt(),ve("div",{class:"tab",key:u.name,onClick:f=>s.value=u.name},qn(u.name),9,dy))),128))]),ne("div",py,[s.value==="Profile"?(Kt(),Be(Jg,{key:0})):bn("",!0),s.value==="Vehicles"?(Kt(),Be(iy,{key:1})):bn("",!0),s.value==="Tickets"?(Kt(),Be(hy,{key:2})):bn("",!0)])])]),_:1}))}});/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const sr=typeof window<"u";function my(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const fe=Object.assign;function oa(e,i){const s={};for(const a in i){const l=i[a];s[a]=kn(l)?l.map(e):e(l)}return s}const Wr=()=>{},kn=Array.isArray,gy=/\/$/,yy=e=>e.replace(gy,"");function sa(e,i,s="/"){let a,l={},u="",f="";const p=i.indexOf("#");let m=i.indexOf("?");return p<m&&p>=0&&(m=-1),m>-1&&(a=i.slice(0,m),u=i.slice(m+1,p>-1?p:i.length),l=e(u)),p>-1&&(a=a||i.slice(0,p),f=i.slice(p,i.length)),a=ky(a??i,s),{fullPath:a+(u&&"?")+u+f,path:a,query:l,hash:f}}function vy(e,i){const s=i.query?e(i.query):"";return i.path+(s&&"?")+s+(i.hash||"")}function Zu(e,i){return!i||!e.toLowerCase().startsWith(i.toLowerCase())?e:e.slice(i.length)||"/"}function by(e,i,s){const a=i.matched.length-1,l=s.matched.length-1;return a>-1&&a===l&&dr(i.matched[a],s.matched[l])&&Nc(i.params,s.params)&&e(i.query)===e(s.query)&&i.hash===s.hash}function dr(e,i){return(e.aliasOf||e)===(i.aliasOf||i)}function Nc(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(!Ly(e[s],i[s]))return!1;return!0}function Ly(e,i){return kn(e)?Vu(e,i):kn(i)?Vu(i,e):e===i}function Vu(e,i){return kn(i)?e.length===i.length&&e.every((s,a)=>s===i[a]):e.length===1&&e[0]===i}function ky(e,i){if(e.startsWith("/"))return e;if(!e)return i;const s=i.split("/"),a=e.split("/"),l=a[a.length-1];(l===".."||l===".")&&a.push("");let u=s.length-1,f,p;for(f=0;f<a.length;f++)if(p=a[f],p!==".")if(p==="..")u>1&&u--;else break;return s.slice(0,u).join("/")+"/"+a.slice(f-(f===a.length?1:0)).join("/")}var oo;(function(e){e.pop="pop",e.push="push"})(oo||(oo={}));var Jr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Jr||(Jr={}));function wy(e){if(!e)if(sr){const i=document.querySelector("base");e=i&&i.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),yy(e)}const xy=/^[^#]+#/;function My(e,i){return e.replace(xy,"#")+i}function Py(e,i){const s=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:i.behavior,left:a.left-s.left-(i.left||0),top:a.top-s.top-(i.top||0)}}const Ss=()=>({left:window.pageXOffset,top:window.pageYOffset});function Cy(e){let i;if("el"in e){const s=e.el,a=typeof s=="string"&&s.startsWith("#"),l=typeof s=="string"?a?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!l)return;i=Py(l,e)}else i=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(i):window.scrollTo(i.left!=null?i.left:window.pageXOffset,i.top!=null?i.top:window.pageYOffset)}function Hu(e,i){return(history.state?history.state.position-i:-1)+e}const Ra=new Map;function Ey(e,i){Ra.set(e,i)}function Sy(e){const i=Ra.get(e);return Ra.delete(e),i}let Ty=()=>location.protocol+"//"+location.host;function zc(e,i){const{pathname:s,search:a,hash:l}=i,u=e.indexOf("#");if(u>-1){let p=l.includes(e.slice(u))?e.slice(u).length:1,m=l.slice(p);return m[0]!=="/"&&(m="/"+m),Zu(m,"")}return Zu(s,e)+a+l}function Oy(e,i,s,a){let l=[],u=[],f=null;const p=({state:M})=>{const B=zc(e,location),R=s.value,E=i.value;let q=0;if(M){if(s.value=B,i.value=M,f&&f===R){f=null;return}q=E?M.position-E.position:0}else a(B);l.forEach(I=>{I(s.value,R,{delta:q,type:oo.pop,direction:q?q>0?Jr.forward:Jr.back:Jr.unknown})})};function m(){f=s.value}function g(M){l.push(M);const B=()=>{const R=l.indexOf(M);R>-1&&l.splice(R,1)};return u.push(B),B}function b(){const{history:M}=window;M.state&&M.replaceState(fe({},M.state,{scroll:Ss()}),"")}function x(){for(const M of u)M();u=[],window.removeEventListener("popstate",p),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",p),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:m,listen:g,destroy:x}}function Ku(e,i,s,a=!1,l=!1){return{back:e,current:i,forward:s,replaced:a,position:window.history.length,scroll:l?Ss():null}}function Ry(e){const{history:i,location:s}=window,a={value:zc(e,s)},l={value:i.state};l.value||u(a.value,{back:null,current:a.value,forward:null,position:i.length-1,replaced:!0,scroll:null},!0);function u(m,g,b){const x=e.indexOf("#"),M=x>-1?(s.host&&document.querySelector("base")?e:e.slice(x))+m:Ty()+e+m;try{i[b?"replaceState":"pushState"](g,"",M),l.value=g}catch(B){console.error(B),s[b?"replace":"assign"](M)}}function f(m,g){const b=fe({},i.state,Ku(l.value.back,m,l.value.forward,!0),g,{position:l.value.position});u(m,b,!0),a.value=m}function p(m,g){const b=fe({},l.value,i.state,{forward:m,scroll:Ss()});u(b.current,b,!0);const x=fe({},Ku(a.value,m,null),{position:b.position+1},g);u(m,x,!1),a.value=m}return{location:a,state:l,push:p,replace:f}}function Ay(e){e=wy(e);const i=Ry(e),s=Oy(e,i.state,i.location,i.replace);function a(u,f=!0){f||s.pauseListeners(),history.go(u)}const l=fe({location:"",base:e,go:a,createHref:My.bind(null,e)},i,s);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>i.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>i.state.value}),l}function By(e){return typeof e=="string"||e&&typeof e=="object"}function jc(e){return typeof e=="string"||typeof e=="symbol"}const ui={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fc=Symbol("");var qu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qu||(qu={}));function pr(e,i){return fe(new Error,{type:e,[Fc]:!0},i)}function Hn(e,i){return e instanceof Error&&Fc in e&&(i==null||!!(e.type&i))}const $u="[^/]+?",Dy={sensitive:!1,strict:!1,start:!0,end:!0},Iy=/[.+*?^${}()[\]/\\]/g;function Ny(e,i){const s=fe({},Dy,i),a=[];let l=s.start?"^":"";const u=[];for(const g of e){const b=g.length?[]:[90];s.strict&&!g.length&&(l+="/");for(let x=0;x<g.length;x++){const M=g[x];let B=40+(s.sensitive?.25:0);if(M.type===0)x||(l+="/"),l+=M.value.replace(Iy,"\\$&"),B+=40;else if(M.type===1){const{value:R,repeatable:E,optional:q,regexp:I}=M;u.push({name:R,repeatable:E,optional:q});const U=I||$u;if(U!==$u){B+=10;try{new RegExp(`(${U})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${R}" (${U}): `+T.message)}}let K=E?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;x||(K=q&&g.length<2?`(?:/${K})`:"/"+K),q&&(K+="?"),l+=K,B+=20,q&&(B+=-8),E&&(B+=-20),U===".*"&&(B+=-50)}b.push(B)}a.push(b)}if(s.strict&&s.end){const g=a.length-1;a[g][a[g].length-1]+=.7000000000000001}s.strict||(l+="/?"),s.end?l+="$":s.strict&&(l+="(?:/|$)");const f=new RegExp(l,s.sensitive?"":"i");function p(g){const b=g.match(f),x={};if(!b)return null;for(let M=1;M<b.length;M++){const B=b[M]||"",R=u[M-1];x[R.name]=B&&R.repeatable?B.split("/"):B}return x}function m(g){let b="",x=!1;for(const M of e){(!x||!b.endsWith("/"))&&(b+="/"),x=!1;for(const B of M)if(B.type===0)b+=B.value;else if(B.type===1){const{value:R,repeatable:E,optional:q}=B,I=R in g?g[R]:"";if(kn(I)&&!E)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const U=kn(I)?I.join("/"):I;if(!U)if(q)M.length<2&&(b.endsWith("/")?b=b.slice(0,-1):x=!0);else throw new Error(`Missing required param "${R}"`);b+=U}}return b||"/"}return{re:f,score:a,keys:u,parse:p,stringify:m}}function zy(e,i){let s=0;for(;s<e.length&&s<i.length;){const a=i[s]-e[s];if(a)return a;s++}return e.length<i.length?e.length===1&&e[0]===40+40?-1:1:e.length>i.length?i.length===1&&i[0]===40+40?1:-1:0}function jy(e,i){let s=0;const a=e.score,l=i.score;for(;s<a.length&&s<l.length;){const u=zy(a[s],l[s]);if(u)return u;s++}if(Math.abs(l.length-a.length)===1){if(Wu(a))return 1;if(Wu(l))return-1}return l.length-a.length}function Wu(e){const i=e[e.length-1];return e.length>0&&i[i.length-1]<0}const Fy={type:0,value:""},Uy=/[a-zA-Z0-9_]/;function Gy(e){if(!e)return[[]];if(e==="/")return[[Fy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function i(B){throw new Error(`ERR (${s})/"${g}": ${B}`)}let s=0,a=s;const l=[];let u;function f(){u&&l.push(u),u=[]}let p=0,m,g="",b="";function x(){g&&(s===0?u.push({type:0,value:g}):s===1||s===2||s===3?(u.length>1&&(m==="*"||m==="+")&&i(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:g,regexp:b,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):i("Invalid state to consume buffer"),g="")}function M(){g+=m}for(;p<e.length;){if(m=e[p++],m==="\\"&&s!==2){a=s,s=4;continue}switch(s){case 0:m==="/"?(g&&x(),f()):m===":"?(x(),s=1):M();break;case 4:M(),s=a;break;case 1:m==="("?s=2:Uy.test(m)?M():(x(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&p--);break;case 2:m===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+m:s=3:b+=m;break;case 3:x(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&p--,b="";break;default:i("Unknown state");break}}return s===2&&i(`Unfinished custom RegExp for param "${g}"`),x(),f(),l}function Zy(e,i,s){const a=Ny(Gy(e.path),s),l=fe(a,{record:e,parent:i,children:[],alias:[]});return i&&!l.record.aliasOf==!i.record.aliasOf&&i.children.push(l),l}function Vy(e,i){const s=[],a=new Map;i=Xu({strict:!1,end:!0,sensitive:!1},i);function l(b){return a.get(b)}function u(b,x,M){const B=!M,R=Hy(b);R.aliasOf=M&&M.record;const E=Xu(i,b),q=[R];if("alias"in b){const K=typeof b.alias=="string"?[b.alias]:b.alias;for(const T of K)q.push(fe({},R,{components:M?M.record.components:R.components,path:T,aliasOf:M?M.record:R}))}let I,U;for(const K of q){const{path:T}=K;if(x&&T[0]!=="/"){const F=x.record.path,$=F[F.length-1]==="/"?"":"/";K.path=x.record.path+(T&&$+T)}if(I=Zy(K,x,E),M?M.alias.push(I):(U=U||I,U!==I&&U.alias.push(I),B&&b.name&&!Yu(I)&&f(b.name)),R.children){const F=R.children;for(let $=0;$<F.length;$++)u(F[$],I,M&&M.children[$])}M=M||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&m(I)}return U?()=>{f(U)}:Wr}function f(b){if(jc(b)){const x=a.get(b);x&&(a.delete(b),s.splice(s.indexOf(x),1),x.children.forEach(f),x.alias.forEach(f))}else{const x=s.indexOf(b);x>-1&&(s.splice(x,1),b.record.name&&a.delete(b.record.name),b.children.forEach(f),b.alias.forEach(f))}}function p(){return s}function m(b){let x=0;for(;x<s.length&&jy(b,s[x])>=0&&(b.record.path!==s[x].record.path||!Uc(b,s[x]));)x++;s.splice(x,0,b),b.record.name&&!Yu(b)&&a.set(b.record.name,b)}function g(b,x){let M,B={},R,E;if("name"in b&&b.name){if(M=a.get(b.name),!M)throw pr(1,{location:b});E=M.record.name,B=fe(Ju(x.params,M.keys.filter(U=>!U.optional).map(U=>U.name)),b.params&&Ju(b.params,M.keys.map(U=>U.name))),R=M.stringify(B)}else if("path"in b)R=b.path,M=s.find(U=>U.re.test(R)),M&&(B=M.parse(R),E=M.record.name);else{if(M=x.name?a.get(x.name):s.find(U=>U.re.test(x.path)),!M)throw pr(1,{location:b,currentLocation:x});E=M.record.name,B=fe({},x.params,b.params),R=M.stringify(B)}const q=[];let I=M;for(;I;)q.unshift(I.record),I=I.parent;return{name:E,path:R,params:B,matched:q,meta:qy(q)}}return e.forEach(b=>u(b)),{addRoute:u,resolve:g,removeRoute:f,getRoutes:p,getRecordMatcher:l}}function Ju(e,i){const s={};for(const a of i)a in e&&(s[a]=e[a]);return s}function Hy(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ky(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ky(e){const i={},s=e.props||!1;if("component"in e)i.default=s;else for(const a in e.components)i[a]=typeof s=="object"?s[a]:s;return i}function Yu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qy(e){return e.reduce((i,s)=>fe(i,s.meta),{})}function Xu(e,i){const s={};for(const a in e)s[a]=a in i?i[a]:e[a];return s}function Uc(e,i){return i.children.some(s=>s===e||Uc(e,s))}const Gc=/#/g,$y=/&/g,Wy=/\//g,Jy=/=/g,Yy=/\?/g,Zc=/\+/g,Xy=/%5B/g,Qy=/%5D/g,Vc=/%5E/g,tv=/%60/g,Hc=/%7B/g,ev=/%7C/g,Kc=/%7D/g,nv=/%20/g;function cl(e){return encodeURI(""+e).replace(ev,"|").replace(Xy,"[").replace(Qy,"]")}function iv(e){return cl(e).replace(Hc,"{").replace(Kc,"}").replace(Vc,"^")}function Aa(e){return cl(e).replace(Zc,"%2B").replace(nv,"+").replace(Gc,"%23").replace($y,"%26").replace(tv,"`").replace(Hc,"{").replace(Kc,"}").replace(Vc,"^")}function rv(e){return Aa(e).replace(Jy,"%3D")}function ov(e){return cl(e).replace(Gc,"%23").replace(Yy,"%3F")}function sv(e){return e==null?"":ov(e).replace(Wy,"%2F")}function is(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function av(e){const i={};if(e===""||e==="?")return i;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let l=0;l<a.length;++l){const u=a[l].replace(Zc," "),f=u.indexOf("="),p=is(f<0?u:u.slice(0,f)),m=f<0?null:is(u.slice(f+1));if(p in i){let g=i[p];kn(g)||(g=i[p]=[g]),g.push(m)}else i[p]=m}return i}function Qu(e){let i="";for(let s in e){const a=e[s];if(s=rv(s),a==null){a!==void 0&&(i+=(i.length?"&":"")+s);continue}(kn(a)?a.map(u=>u&&Aa(u)):[a&&Aa(a)]).forEach(u=>{u!==void 0&&(i+=(i.length?"&":"")+s,u!=null&&(i+="="+u))})}return i}function lv(e){const i={};for(const s in e){const a=e[s];a!==void 0&&(i[s]=kn(a)?a.map(l=>l==null?null:""+l):a==null?a:""+a)}return i}const uv=Symbol(""),th=Symbol(""),fl=Symbol(""),qc=Symbol(""),Ba=Symbol("");function Fr(){let e=[];function i(a){return e.push(a),()=>{const l=e.indexOf(a);l>-1&&e.splice(l,1)}}function s(){e=[]}return{add:i,list:()=>e.slice(),reset:s}}function fi(e,i,s,a,l){const u=a&&(a.enterCallbacks[l]=a.enterCallbacks[l]||[]);return()=>new Promise((f,p)=>{const m=x=>{x===!1?p(pr(4,{from:s,to:i})):x instanceof Error?p(x):By(x)?p(pr(2,{from:i,to:x})):(u&&a.enterCallbacks[l]===u&&typeof x=="function"&&u.push(x),f())},g=e.call(a&&a.instances[l],i,s,m);let b=Promise.resolve(g);e.length<3&&(b=b.then(m)),b.catch(x=>p(x))})}function aa(e,i,s,a){const l=[];for(const u of e)for(const f in u.components){let p=u.components[f];if(!(i!=="beforeRouteEnter"&&!u.instances[f]))if(hv(p)){const g=(p.__vccOpts||p)[i];g&&l.push(fi(g,s,a,u,f))}else{let m=p();l.push(()=>m.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${u.path}"`));const b=my(g)?g.default:g;u.components[f]=b;const M=(b.__vccOpts||b)[i];return M&&fi(M,s,a,u,f)()}))}}return l}function hv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function eh(e){const i=Rn(fl),s=Rn(qc),a=en(()=>i.resolve(jt(e.to))),l=en(()=>{const{matched:m}=a.value,{length:g}=m,b=m[g-1],x=s.matched;if(!b||!x.length)return-1;const M=x.findIndex(dr.bind(null,b));if(M>-1)return M;const B=nh(m[g-2]);return g>1&&nh(b)===B&&x[x.length-1].path!==B?x.findIndex(dr.bind(null,m[g-2])):M}),u=en(()=>l.value>-1&&pv(s.params,a.value.params)),f=en(()=>l.value>-1&&l.value===s.matched.length-1&&Nc(s.params,a.value.params));function p(m={}){return dv(m)?i[jt(e.replace)?"replace":"push"](jt(e.to)).catch(Wr):Promise.resolve()}return{route:a,href:en(()=>a.value.href),isActive:u,isExactActive:f,navigate:p}}const cv=Ge({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eh,setup(e,{slots:i}){const s=so(eh(e)),{options:a}=Rn(fl),l=en(()=>({[ih(e.activeClass,a.linkActiveClass,"router-link-active")]:s.isActive,[ih(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const u=i.default&&i.default(s);return e.custom?u:il("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:l.value},u)}}}),fv=cv;function dv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const i=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(i))return}return e.preventDefault&&e.preventDefault(),!0}}function pv(e,i){for(const s in i){const a=i[s],l=e[s];if(typeof a=="string"){if(a!==l)return!1}else if(!kn(l)||l.length!==a.length||a.some((u,f)=>u!==l[f]))return!1}return!0}function nh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ih=(e,i,s)=>e??i??s,_v=Ge({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:i,slots:s}){const a=Rn(Ba),l=en(()=>e.route||a.value),u=Rn(th,0),f=en(()=>{let g=jt(u);const{matched:b}=l.value;let x;for(;(x=b[g])&&!x.components;)g++;return g}),p=en(()=>l.value.matched[f.value]);Fo(th,en(()=>f.value+1)),Fo(uv,p),Fo(Ba,l);const m=de();return $n(()=>[m.value,p.value,e.name],([g,b,x],[M,B,R])=>{b&&(b.instances[x]=g,B&&B!==b&&g&&g===M&&(b.leaveGuards.size||(b.leaveGuards=B.leaveGuards),b.updateGuards.size||(b.updateGuards=B.updateGuards))),g&&b&&(!B||!dr(b,B)||!M)&&(b.enterCallbacks[x]||[]).forEach(E=>E(g))},{flush:"post"}),()=>{const g=l.value,b=e.name,x=p.value,M=x&&x.components[b];if(!M)return rh(s.default,{Component:M,route:g});const B=x.props[b],R=B?B===!0?g.params:typeof B=="function"?B(g):B:null,q=il(M,fe({},R,i,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(x.instances[b]=null)},ref:m}));return rh(s.default,{Component:q,route:g})||q}}});function rh(e,i){if(!e)return null;const s=e(i);return s.length===1?s[0]:s}const mv=_v;function gv(e){const i=Vy(e.routes,e),s=e.parseQuery||av,a=e.stringifyQuery||Qu,l=e.history,u=Fr(),f=Fr(),p=Fr(),m=xd(ui);let g=ui;sr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=oa.bind(null,at=>""+at),x=oa.bind(null,sv),M=oa.bind(null,is);function B(at,vt){let bt,St;return jc(at)?(bt=i.getRecordMatcher(at),St=vt):St=at,i.addRoute(St,bt)}function R(at){const vt=i.getRecordMatcher(at);vt&&i.removeRoute(vt)}function E(){return i.getRoutes().map(at=>at.record)}function q(at){return!!i.getRecordMatcher(at)}function I(at,vt){if(vt=fe({},vt||m.value),typeof at=="string"){const W=sa(s,at,vt.path),st=i.resolve({path:W.path},vt),ht=l.createHref(W.fullPath);return fe(W,st,{params:M(st.params),hash:is(W.hash),redirectedFrom:void 0,href:ht})}let bt;if("path"in at)bt=fe({},at,{path:sa(s,at.path,vt.path).path});else{const W=fe({},at.params);for(const st in W)W[st]==null&&delete W[st];bt=fe({},at,{params:x(W)}),vt.params=x(vt.params)}const St=i.resolve(bt,vt),Yt=at.hash||"";St.params=b(M(St.params));const z=vy(a,fe({},at,{hash:iv(Yt),path:St.path})),H=l.createHref(z);return fe({fullPath:z,hash:Yt,query:a===Qu?lv(at.query):at.query||{}},St,{redirectedFrom:void 0,href:H})}function U(at){return typeof at=="string"?sa(s,at,m.value.path):fe({},at)}function K(at,vt){if(g!==at)return pr(8,{from:vt,to:at})}function T(at){return ot(at)}function F(at){return T(fe(U(at),{replace:!0}))}function $(at){const vt=at.matched[at.matched.length-1];if(vt&&vt.redirect){const{redirect:bt}=vt;let St=typeof bt=="function"?bt(at):bt;return typeof St=="string"&&(St=St.includes("?")||St.includes("#")?St=U(St):{path:St},St.params={}),fe({query:at.query,hash:at.hash,params:"path"in St?{}:at.params},St)}}function ot(at,vt){const bt=g=I(at),St=m.value,Yt=at.state,z=at.force,H=at.replace===!0,W=$(bt);if(W)return ot(fe(U(W),{state:typeof W=="object"?fe({},Yt,W.state):Yt,force:z,replace:H}),vt||bt);const st=bt;st.redirectedFrom=vt;let ht;return!z&&by(a,St,bt)&&(ht=pr(16,{to:st,from:St}),Pt(St,St,!0,!1)),(ht?Promise.resolve(ht):ut(st,St)).catch(pt=>Hn(pt)?Hn(pt,2)?pt:Et(pt):dt(pt,st,St)).then(pt=>{if(pt){if(Hn(pt,2))return ot(fe({replace:H},U(pt.to),{state:typeof pt.to=="object"?fe({},Yt,pt.to.state):Yt,force:z}),vt||st)}else pt=nt(st,St,!0,H,Yt);return mt(st,St,pt),pt})}function tt(at,vt){const bt=K(at,vt);return bt?Promise.reject(bt):Promise.resolve()}function it(at){const vt=ie.values().next().value;return vt&&typeof vt.runWithContext=="function"?vt.runWithContext(at):at()}function ut(at,vt){let bt;const[St,Yt,z]=yv(at,vt);bt=aa(St.reverse(),"beforeRouteLeave",at,vt);for(const W of St)W.leaveGuards.forEach(st=>{bt.push(fi(st,at,vt))});const H=tt.bind(null,at,vt);return bt.push(H),Ot(bt).then(()=>{bt=[];for(const W of u.list())bt.push(fi(W,at,vt));return bt.push(H),Ot(bt)}).then(()=>{bt=aa(Yt,"beforeRouteUpdate",at,vt);for(const W of Yt)W.updateGuards.forEach(st=>{bt.push(fi(st,at,vt))});return bt.push(H),Ot(bt)}).then(()=>{bt=[];for(const W of z)if(W.beforeEnter)if(kn(W.beforeEnter))for(const st of W.beforeEnter)bt.push(fi(st,at,vt));else bt.push(fi(W.beforeEnter,at,vt));return bt.push(H),Ot(bt)}).then(()=>(at.matched.forEach(W=>W.enterCallbacks={}),bt=aa(z,"beforeRouteEnter",at,vt),bt.push(H),Ot(bt))).then(()=>{bt=[];for(const W of f.list())bt.push(fi(W,at,vt));return bt.push(H),Ot(bt)}).catch(W=>Hn(W,8)?W:Promise.reject(W))}function mt(at,vt,bt){p.list().forEach(St=>it(()=>St(at,vt,bt)))}function nt(at,vt,bt,St,Yt){const z=K(at,vt);if(z)return z;const H=vt===ui,W=sr?history.state:{};bt&&(St||H?l.replace(at.fullPath,fe({scroll:H&&W&&W.scroll},Yt)):l.push(at.fullPath,Yt)),m.value=at,Pt(at,vt,bt,H),Et()}let gt;function Rt(){gt||(gt=l.listen((at,vt,bt)=>{if(!Jt.listening)return;const St=I(at),Yt=$(St);if(Yt){ot(fe(Yt,{replace:!0}),St).catch(Wr);return}g=St;const z=m.value;sr&&Ey(Hu(z.fullPath,bt.delta),Ss()),ut(St,z).catch(H=>Hn(H,12)?H:Hn(H,2)?(ot(H.to,St).then(W=>{Hn(W,20)&&!bt.delta&&bt.type===oo.pop&&l.go(-1,!1)}).catch(Wr),Promise.reject()):(bt.delta&&l.go(-bt.delta,!1),dt(H,St,z))).then(H=>{H=H||nt(St,z,!1),H&&(bt.delta&&!Hn(H,8)?l.go(-bt.delta,!1):bt.type===oo.pop&&Hn(H,20)&&l.go(-1,!1)),mt(St,z,H)}).catch(Wr)}))}let Mt=Fr(),Lt=Fr(),Bt;function dt(at,vt,bt){Et(at);const St=Lt.list();return St.length?St.forEach(Yt=>Yt(at,vt,bt)):console.error(at),Promise.reject(at)}function ee(){return Bt&&m.value!==ui?Promise.resolve():new Promise((at,vt)=>{Mt.add([at,vt])})}function Et(at){return Bt||(Bt=!at,Rt(),Mt.list().forEach(([vt,bt])=>at?bt(at):vt()),Mt.reset()),at}function Pt(at,vt,bt,St){const{scrollBehavior:Yt}=e;if(!sr||!Yt)return Promise.resolve();const z=!bt&&Sy(Hu(at.fullPath,0))||(St||!bt)&&history.state&&history.state.scroll||null;return Wa().then(()=>Yt(at,vt,z)).then(H=>H&&Cy(H)).catch(H=>dt(H,at,vt))}const Dt=at=>l.go(at);let pe;const ie=new Set,Jt={currentRoute:m,listening:!0,addRoute:B,removeRoute:R,hasRoute:q,getRoutes:E,resolve:I,options:e,push:T,replace:F,go:Dt,back:()=>Dt(-1),forward:()=>Dt(1),beforeEach:u.add,beforeResolve:f.add,afterEach:p.add,onError:Lt.add,isReady:ee,install(at){const vt=this;at.component("RouterLink",fv),at.component("RouterView",mv),at.config.globalProperties.$router=vt,Object.defineProperty(at.config.globalProperties,"$route",{enumerable:!0,get:()=>jt(m)}),sr&&!pe&&m.value===ui&&(pe=!0,T(l.location).catch(Yt=>{}));const bt={};for(const Yt in ui)Object.defineProperty(bt,Yt,{get:()=>m.value[Yt],enumerable:!0});at.provide(fl,vt),at.provide(qc,xh(bt)),at.provide(Ba,m);const St=at.unmount;ie.add(at),at.unmount=function(){ie.delete(at),ie.size<1&&(g=ui,gt&&gt(),gt=null,m.value=ui,pe=!1,Bt=!1),St()}}};function Ot(at){return at.reduce((vt,bt)=>vt.then(()=>it(bt)),Promise.resolve())}return Jt}function yv(e,i){const s=[],a=[],l=[],u=Math.max(i.matched.length,e.matched.length);for(let f=0;f<u;f++){const p=i.matched[f];p&&(e.matched.find(g=>dr(g,p))?a.push(p):s.push(p));const m=e.matched[f];m&&(i.matched.find(g=>dr(g,m))||l.push(m))}return[s,a,l]}const vv={beforeMount(e,i){e.clickOutsideEvent=s=>{e==s.target||e.contains(s.target)||i.value(s)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}},bv=e=>(ds("data-v-0172fb7c"),e=e(),ps(),e),Lv={id:"avatar"},kv=bv(()=>ne("img",{src:"https://picsum.photos/200",alt:"avatar"},null,-1)),wv=[kv],xv={key:0,class:"dropdown"},Mv=Ge({__name:"AvatarComponent",setup(e){const i=vi(),s=de(!1);function a(){s.value=!s.value}function l(){s.value=!1}function u(){Bn.authAPI.logout()}return(f,p)=>Ya((Kt(),ve("div",Lv,[ne("div",{class:"avatar",onClick:a},wv),Zt(rl,null,{default:yi(()=>[s.value?(Kt(),ve("div",xv,[ne("div",{class:"dropdown-item",onClick:p[0]||(p[0]=(...m)=>jt(i).openSettingsDialog&&jt(i).openSettingsDialog(...m))}," Settings "),ne("div",{class:"dropdown-item",onClick:u}," Logout ")])):bn("",!0)]),_:1})])),[[jt(vv),l]])}});const Pv=Ye(Mv,[["__scopeId","data-v-0172fb7c"]]),Cv={id:"layout"},Ev=Ge({__name:"LayoutComponent",setup(e){const i=Ln();return(s,a)=>(Kt(),ve("div",Cv,[ne("nav",null,[ne("div",null,qn(jt(i).user?jt(i).user.email:"logged out"),1),Zt(Pv)]),Xa(s.$slots,"default",{},void 0,!0)]))}});const Sv=Ye(Ev,[["__scopeId","data-v-3d3329ce"]]),Tv=e=>(ds("data-v-367b0036"),e=e(),ps(),e),Ov=Tv(()=>ne("div",{id:"map"},null,-1)),Rv=Ge({__name:"HomeView",setup(e){const i=Ln(),s=vi();async function a(){var f;if(i.zones.length===0)return;const u=window.L;(f=i.map)==null||f.eachLayer(p=>{var m;p._url||(m=i.map)==null||m.removeLayer(p)}),i.zones.forEach(p=>{const m=u.geoJSON(p.geoJSON,{zoneInfo:p,style:{color:Vr.ZONE_COLOR}}).addTo(i.map);p.parkingAreas.forEach(g=>{const b=g.type===Ta.GARAGE?Vr.GARAGE_AREA_COLOR:g.type===Ta.LOT?Vr.LOT_AREA_COLOR:Vr.UNDERGROUND_AREA_COLOR;u.geoJSON(g.geoJSON,{areaInfo:g,style:{color:b}}).addTo(i.map).on("click",M=>{console.log(g.name,M),s.openZoneDialog(p,M,g)})}),console.log("zone",p),m.on("click",g=>{console.log(p.name,g),s.openZoneDialog(p,g)})})}function l(){const u=window.L;i.map=u.map("map").setView([43.1421256,20.5084578],13),u.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(i.map)}return $n(()=>i.zones,()=>{a()}),gs(async()=>{l(),i.user&&(await i.requestZones(),a())}),(u,f)=>(Kt(),Be(Sv,{class:"home"},{default:yi(()=>[Ov]),_:1}))}});const Av=Ye(Rv,[["__scopeId","data-v-367b0036"]]),Ts=gv({history:Ay("/peter-parker-frontend/"),routes:[{path:"/",name:"home",component:Av,meta:{authRequired:!1}}]});Ts.beforeEach((e,i,s)=>{e.matched.some(a=>a.meta.authRequired)?es.get("refresh-token")?s():s({name:"login"}):s()});const Bv=e=>(ds("data-v-892a9a2f"),e=e(),ps(),e),Dv={class:"login-dialog"},Iv=Bv(()=>ne("h1",null,"Login",-1)),Nv=Ge({__name:"LoginDialog",setup(e){const i=vi(),s=de(""),a=de("");async function l(){try{await Bn.authAPI.login(s.value,a.value),Ts.push("/")}catch{}}return(u,f)=>(Kt(),Be(Es,null,{default:yi(()=>[ne("div",Dv,[Iv,Zt(je,{label:"Email",modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=p=>s.value=p)},null,8,["modelValue"]),Zt(je,{label:"Password",modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=p=>a.value=p)},null,8,["modelValue"]),Zt(We,{label:"Login",callback:l,type:jt(Jn).PRIMARY},null,8,["type"]),Zt(We,{label:"Go to register",callback:()=>jt(i).showRegisterDialog=!0,type:jt(Jn).SECONDARY},null,8,["callback","type"])])]),_:1}))}});const zv=Ye(Nv,[["__scopeId","data-v-892a9a2f"]]),jv=e=>(ds("data-v-dcd1d13d"),e=e(),ps(),e),Fv={class:"register-dialog"},Uv=jv(()=>ne("h1",null,"Register",-1)),Gv=Ge({__name:"RegisterDialog",setup(e){const i=vi(),s=de({email:"",password:"",passwordConfirmation:"",firstName:"",lastName:""});async function a(){try{await Bn.authAPI.register(s.value),Ts.push("/home")}catch{}}return(l,u)=>(Kt(),Be(Es,null,{default:yi(()=>[ne("div",Fv,[Uv,Zt(je,{label:"First Name",modelValue:s.value.firstName,"onUpdate:modelValue":u[0]||(u[0]=f=>s.value.firstName=f)},null,8,["modelValue"]),Zt(je,{label:"Last Name",modelValue:s.value.lastName,"onUpdate:modelValue":u[1]||(u[1]=f=>s.value.lastName=f)},null,8,["modelValue"]),Zt(je,{label:"Email",modelValue:s.value.email,"onUpdate:modelValue":u[2]||(u[2]=f=>s.value.email=f)},null,8,["modelValue"]),Zt(je,{label:"Password",modelValue:s.value.password,"onUpdate:modelValue":u[3]||(u[3]=f=>s.value.password=f)},null,8,["modelValue"]),Zt(je,{label:"Confirm Password",modelValue:s.value.passwordConfirmation,"onUpdate:modelValue":u[4]||(u[4]=f=>s.value.passwordConfirmation=f)},null,8,["modelValue"]),Zt(We,{label:"Register",callback:a,type:jt(Jn).PRIMARY},null,8,["type"]),Zt(We,{label:"Go to login",callback:()=>jt(i).showRegisterDialog=!1,type:jt(Jn).SECONDARY},null,8,["callback","type"])])]),_:1}))}});const Zv=Ye(Gv,[["__scopeId","data-v-dcd1d13d"]]),Vv=Ge({__name:"App",setup(e){const i=vi(),s=Ln();return(a,l)=>{const u=rp("RouterView");return Kt(),ve(Ce,null,[Zt(u),jt(i).dialogType||!jt(s).user?(Kt(),Be(yg,{key:0},{default:yi(()=>[!jt(s).user&&jt(i).showRegisterDialog?(Kt(),Be(Zv,{key:0})):jt(s).user?(Kt(),ve(Ce,{key:2},[jt(i).dialogType===jt(Oa).ZONE?(Kt(),Be(Hg,{key:0,onClick:l[0]||(l[0]=Eu(()=>{},["stop"]))})):bn("",!0),jt(i).dialogType===jt(Oa).SETTINGS?(Kt(),Be(_y,{key:1,onClick:l[1]||(l[1]=Eu(()=>{},["stop"]))})):bn("",!0)],64)):(Kt(),Be(zv,{key:1}))]),_:1})):bn("",!0),Zt(kg)],64)}}});(()=>{var e={9705:(a,l,u)=>{var f=u(1540);function p(m){var g=[1/0,1/0,-1/0,-1/0];return f.coordEach(m,function(b){g[0]>b[0]&&(g[0]=b[0]),g[1]>b[1]&&(g[1]=b[1]),g[2]<b[0]&&(g[2]=b[0]),g[3]<b[1]&&(g[3]=b[1])}),g}p.default=p,l.Z=p},4102:(a,l)=>{function u(I,U,K){K===void 0&&(K={});var T={type:"Feature"};return(K.id===0||K.id)&&(T.id=K.id),K.bbox&&(T.bbox=K.bbox),T.properties=U||{},T.geometry=I,T}function f(I,U,K){if(K===void 0&&(K={}),!I)throw new Error("coordinates is required");if(!Array.isArray(I))throw new Error("coordinates must be an Array");if(I.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!q(I[0])||!q(I[1]))throw new Error("coordinates must contain numbers");return u({type:"Point",coordinates:I},U,K)}function p(I,U,K){K===void 0&&(K={});for(var T=0,F=I;T<F.length;T++){var $=F[T];if($.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var ot=0;ot<$[$.length-1].length;ot++)if($[$.length-1][ot]!==$[0][ot])throw new Error("First and last Position are not equivalent.")}return u({type:"Polygon",coordinates:I},U,K)}function m(I,U,K){if(K===void 0&&(K={}),I.length<2)throw new Error("coordinates must be an array of two or more positions");return u({type:"LineString",coordinates:I},U,K)}function g(I,U){U===void 0&&(U={});var K={type:"FeatureCollection"};return U.id&&(K.id=U.id),U.bbox&&(K.bbox=U.bbox),K.features=I,K}function b(I,U,K){return K===void 0&&(K={}),u({type:"MultiLineString",coordinates:I},U,K)}function x(I,U,K){return K===void 0&&(K={}),u({type:"MultiPoint",coordinates:I},U,K)}function M(I,U,K){return K===void 0&&(K={}),u({type:"MultiPolygon",coordinates:I},U,K)}function B(I,U){U===void 0&&(U="kilometers");var K=l.factors[U];if(!K)throw new Error(U+" units is invalid");return I*K}function R(I,U){U===void 0&&(U="kilometers");var K=l.factors[U];if(!K)throw new Error(U+" units is invalid");return I/K}function E(I){return 180*(I%(2*Math.PI))/Math.PI}function q(I){return!isNaN(I)&&I!==null&&!Array.isArray(I)}Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:100*l.earthRadius,centimetres:100*l.earthRadius,degrees:l.earthRadius/111325,feet:3.28084*l.earthRadius,inches:39.37*l.earthRadius,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:1e3*l.earthRadius,millimetres:1e3*l.earthRadius,nauticalmiles:l.earthRadius/1852,radians:1,yards:1.0936*l.earthRadius},l.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},l.feature=u,l.geometry=function(I,U,K){switch(I){case"Point":return f(U).geometry;case"LineString":return m(U).geometry;case"Polygon":return p(U).geometry;case"MultiPoint":return x(U).geometry;case"MultiLineString":return b(U).geometry;case"MultiPolygon":return M(U).geometry;default:throw new Error(I+" is invalid")}},l.point=f,l.points=function(I,U,K){return K===void 0&&(K={}),g(I.map(function(T){return f(T,U)}),K)},l.polygon=p,l.polygons=function(I,U,K){return K===void 0&&(K={}),g(I.map(function(T){return p(T,U)}),K)},l.lineString=m,l.lineStrings=function(I,U,K){return K===void 0&&(K={}),g(I.map(function(T){return m(T,U)}),K)},l.featureCollection=g,l.multiLineString=b,l.multiPoint=x,l.multiPolygon=M,l.geometryCollection=function(I,U,K){return K===void 0&&(K={}),u({type:"GeometryCollection",geometries:I},U,K)},l.round=function(I,U){if(U===void 0&&(U=0),U&&!(U>=0))throw new Error("precision must be a positive number");var K=Math.pow(10,U||0);return Math.round(I*K)/K},l.radiansToLength=B,l.lengthToRadians=R,l.lengthToDegrees=function(I,U){return E(R(I,U))},l.bearingToAzimuth=function(I){var U=I%360;return U<0&&(U+=360),U},l.radiansToDegrees=E,l.degreesToRadians=function(I){return I%360*Math.PI/180},l.convertLength=function(I,U,K){if(U===void 0&&(U="kilometers"),K===void 0&&(K="kilometers"),!(I>=0))throw new Error("length must be a positive number");return B(R(I,U),K)},l.convertArea=function(I,U,K){if(U===void 0&&(U="meters"),K===void 0&&(K="kilometers"),!(I>=0))throw new Error("area must be a positive number");var T=l.areaFactors[U];if(!T)throw new Error("invalid original units");var F=l.areaFactors[K];if(!F)throw new Error("invalid final units");return I/T*F},l.isNumber=q,l.isObject=function(I){return!!I&&I.constructor===Object},l.validateBBox=function(I){if(!I)throw new Error("bbox is required");if(!Array.isArray(I))throw new Error("bbox must be an Array");if(I.length!==4&&I.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");I.forEach(function(U){if(!q(U))throw new Error("bbox must only contain numbers")})},l.validateId=function(I){if(!I)throw new Error("id is required");if(["string","number"].indexOf(typeof I)===-1)throw new Error("id must be a number or a string")}},1540:(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var f=u(4102);function p(R,E,q){if(R!==null)for(var I,U,K,T,F,$,ot,tt,it=0,ut=0,mt=R.type,nt=mt==="FeatureCollection",gt=mt==="Feature",Rt=nt?R.features.length:1,Mt=0;Mt<Rt;Mt++){F=(tt=!!(ot=nt?R.features[Mt].geometry:gt?R.geometry:R)&&ot.type==="GeometryCollection")?ot.geometries.length:1;for(var Lt=0;Lt<F;Lt++){var Bt=0,dt=0;if((T=tt?ot.geometries[Lt]:ot)!==null){$=T.coordinates;var ee=T.type;switch(it=!q||ee!=="Polygon"&&ee!=="MultiPolygon"?0:1,ee){case null:break;case"Point":if(E($,ut,Mt,Bt,dt)===!1)return!1;ut++,Bt++;break;case"LineString":case"MultiPoint":for(I=0;I<$.length;I++){if(E($[I],ut,Mt,Bt,dt)===!1)return!1;ut++,ee==="MultiPoint"&&Bt++}ee==="LineString"&&Bt++;break;case"Polygon":case"MultiLineString":for(I=0;I<$.length;I++){for(U=0;U<$[I].length-it;U++){if(E($[I][U],ut,Mt,Bt,dt)===!1)return!1;ut++}ee==="MultiLineString"&&Bt++,ee==="Polygon"&&dt++}ee==="Polygon"&&Bt++;break;case"MultiPolygon":for(I=0;I<$.length;I++){for(dt=0,U=0;U<$[I].length;U++){for(K=0;K<$[I][U].length-it;K++){if(E($[I][U][K],ut,Mt,Bt,dt)===!1)return!1;ut++}dt++}Bt++}break;case"GeometryCollection":for(I=0;I<T.geometries.length;I++)if(p(T.geometries[I],E,q)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(R,E){var q;switch(R.type){case"FeatureCollection":for(q=0;q<R.features.length&&E(R.features[q].properties,q)!==!1;q++);break;case"Feature":E(R.properties,0)}}function g(R,E){if(R.type==="Feature")E(R,0);else if(R.type==="FeatureCollection")for(var q=0;q<R.features.length&&E(R.features[q],q)!==!1;q++);}function b(R,E){var q,I,U,K,T,F,$,ot,tt,it,ut=0,mt=R.type==="FeatureCollection",nt=R.type==="Feature",gt=mt?R.features.length:1;for(q=0;q<gt;q++){for(F=mt?R.features[q].geometry:nt?R.geometry:R,ot=mt?R.features[q].properties:nt?R.properties:{},tt=mt?R.features[q].bbox:nt?R.bbox:void 0,it=mt?R.features[q].id:nt?R.id:void 0,T=($=!!F&&F.type==="GeometryCollection")?F.geometries.length:1,U=0;U<T;U++)if((K=$?F.geometries[U]:F)!==null)switch(K.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(E(K,ut,ot,tt,it)===!1)return!1;break;case"GeometryCollection":for(I=0;I<K.geometries.length;I++)if(E(K.geometries[I],ut,ot,tt,it)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(E(null,ut,ot,tt,it)===!1)return!1;ut++}}function x(R,E){b(R,function(q,I,U,K,T){var F,$=q===null?null:q.type;switch($){case null:case"Point":case"LineString":case"Polygon":return E(f.feature(q,U,{bbox:K,id:T}),I,0)!==!1&&void 0}switch($){case"MultiPoint":F="Point";break;case"MultiLineString":F="LineString";break;case"MultiPolygon":F="Polygon"}for(var ot=0;ot<q.coordinates.length;ot++){var tt={type:F,coordinates:q.coordinates[ot]};if(E(f.feature(tt,U),I,ot)===!1)return!1}})}function M(R,E){x(R,function(q,I,U){var K=0;if(q.geometry){var T=q.geometry.type;if(T!=="Point"&&T!=="MultiPoint"){var F,$=0,ot=0,tt=0;return p(q,function(it,ut,mt,nt,gt){if(F===void 0||I>$||nt>ot||gt>tt)return F=it,$=I,ot=nt,tt=gt,void(K=0);var Rt=f.lineString([F,it],q.properties);if(E(Rt,I,U,gt,K)===!1)return!1;K++,F=it})!==!1&&void 0}}})}function B(R,E){if(!R)throw new Error("geojson is required");x(R,function(q,I,U){if(q.geometry!==null){var K=q.geometry.type,T=q.geometry.coordinates;switch(K){case"LineString":if(E(q,I,U,0,0)===!1)return!1;break;case"Polygon":for(var F=0;F<T.length;F++)if(E(f.lineString(T[F],q.properties),I,U,F)===!1)return!1}}})}l.coordAll=function(R){var E=[];return p(R,function(q){E.push(q)}),E},l.coordEach=p,l.coordReduce=function(R,E,q,I){var U=q;return p(R,function(K,T,F,$,ot){U=T===0&&q===void 0?K:E(U,K,T,F,$,ot)},I),U},l.featureEach=g,l.featureReduce=function(R,E,q){var I=q;return g(R,function(U,K){I=K===0&&q===void 0?U:E(I,U,K)}),I},l.findPoint=function(R,E){if(E=E||{},!f.isObject(E))throw new Error("options is invalid");var q,I=E.featureIndex||0,U=E.multiFeatureIndex||0,K=E.geometryIndex||0,T=E.coordIndex||0,F=E.properties;switch(R.type){case"FeatureCollection":I<0&&(I=R.features.length+I),F=F||R.features[I].properties,q=R.features[I].geometry;break;case"Feature":F=F||R.properties,q=R.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":q=R;break;default:throw new Error("geojson is invalid")}if(q===null)return null;var $=q.coordinates;switch(q.type){case"Point":return f.point($,F,E);case"MultiPoint":return U<0&&(U=$.length+U),f.point($[U],F,E);case"LineString":return T<0&&(T=$.length+T),f.point($[T],F,E);case"Polygon":return K<0&&(K=$.length+K),T<0&&(T=$[K].length+T),f.point($[K][T],F,E);case"MultiLineString":return U<0&&(U=$.length+U),T<0&&(T=$[U].length+T),f.point($[U][T],F,E);case"MultiPolygon":return U<0&&(U=$.length+U),K<0&&(K=$[U].length+K),T<0&&(T=$[U][K].length-T),f.point($[U][K][T],F,E)}throw new Error("geojson is invalid")},l.findSegment=function(R,E){if(E=E||{},!f.isObject(E))throw new Error("options is invalid");var q,I=E.featureIndex||0,U=E.multiFeatureIndex||0,K=E.geometryIndex||0,T=E.segmentIndex||0,F=E.properties;switch(R.type){case"FeatureCollection":I<0&&(I=R.features.length+I),F=F||R.features[I].properties,q=R.features[I].geometry;break;case"Feature":F=F||R.properties,q=R.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":q=R;break;default:throw new Error("geojson is invalid")}if(q===null)return null;var $=q.coordinates;switch(q.type){case"Point":case"MultiPoint":return null;case"LineString":return T<0&&(T=$.length+T-1),f.lineString([$[T],$[T+1]],F,E);case"Polygon":return K<0&&(K=$.length+K),T<0&&(T=$[K].length+T-1),f.lineString([$[K][T],$[K][T+1]],F,E);case"MultiLineString":return U<0&&(U=$.length+U),T<0&&(T=$[U].length+T-1),f.lineString([$[U][T],$[U][T+1]],F,E);case"MultiPolygon":return U<0&&(U=$.length+U),K<0&&(K=$[U].length+K),T<0&&(T=$[U][K].length-T-1),f.lineString([$[U][K][T],$[U][K][T+1]],F,E)}throw new Error("geojson is invalid")},l.flattenEach=x,l.flattenReduce=function(R,E,q){var I=q;return x(R,function(U,K,T){I=K===0&&T===0&&q===void 0?U:E(I,U,K,T)}),I},l.geomEach=b,l.geomReduce=function(R,E,q){var I=q;return b(R,function(U,K,T,F,$){I=K===0&&q===void 0?U:E(I,U,K,T,F,$)}),I},l.lineEach=B,l.lineReduce=function(R,E,q){var I=q;return B(R,function(U,K,T,F){I=K===0&&q===void 0?U:E(I,U,K,T,F)}),I},l.propEach=m,l.propReduce=function(R,E,q){var I=q;return m(R,function(U,K){I=K===0&&q===void 0?U:E(I,U,K)}),I},l.segmentEach=M,l.segmentReduce=function(R,E,q){var I=q,U=!1;return M(R,function(K,T,F,$,ot){I=U===!1&&q===void 0?K:E(I,K,T,F,$,ot),U=!0}),I}},5975:(a,l,u)=>{u(7107);var f=u(2492),p=u.n(f);const m=JSON.parse('{"tooltips":{"placeMarker":"Click to place marker","firstVertex":"Click to place first vertex","continueLine":"Click to continue drawing","finishLine":"Click any existing marker to finish","finishPoly":"Click first marker to finish","finishRect":"Click to finish","startCircle":"Click to place circle center","finishCircle":"Click to finish circle","placeCircleMarker":"Click to place circle marker","placeText":"Click to place text"},"actions":{"finish":"Finish","cancel":"Cancel","removeLastVertex":"Remove Last Vertex"},"buttonTitles":{"drawMarkerButton":"Draw Marker","drawPolyButton":"Draw Polygons","drawLineButton":"Draw Polyline","drawCircleButton":"Draw Circle","drawRectButton":"Draw Rectangle","editButton":"Edit Layers","dragButton":"Drag Layers","cutButton":"Cut Layers","deleteButton":"Remove Layers","drawCircleMarkerButton":"Draw Circle Marker","snappingButton":"Snap dragged marker to other layers and vertices","pinningButton":"Pin shared vertices together","rotateButton":"Rotate Layers","drawTextButton":"Draw Text","scaleButton":"Scale Layers","autoTracingButton":"Auto trace Line"},"measurements":{"totalLength":"Length","segmentLength":"Segment length","area":"Area","radius":"Radius","perimeter":"Perimeter","height":"Height","width":"Width","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),g=JSON.parse('{"tooltips":{"placeMarker":"Platziere den Marker mit Klick","firstVertex":"Platziere den ersten Marker mit Klick","continueLine":"Klicke, um weiter zu zeichnen","finishLine":"Beende mit Klick auf existierenden Marker","finishPoly":"Beende mit Klick auf ersten Marker","finishRect":"Beende mit Klick","startCircle":"Platziere das Kreiszentrum mit Klick","finishCircle":"Beende den Kreis mit Klick","placeCircleMarker":"Platziere den Kreismarker mit Klick","placeText":"Platziere den Text mit Klick"},"actions":{"finish":"Beenden","cancel":"Abbrechen","removeLastVertex":"Letzten Vertex lschen"},"buttonTitles":{"drawMarkerButton":"Marker zeichnen","drawPolyButton":"Polygon zeichnen","drawLineButton":"Polyline zeichnen","drawCircleButton":"Kreis zeichnen","drawRectButton":"Rechteck zeichnen","editButton":"Layer editieren","dragButton":"Layer bewegen","cutButton":"Layer schneiden","deleteButton":"Layer lschen","drawCircleMarkerButton":"Kreismarker zeichnen","snappingButton":"Bewegter Layer an andere Layer oder Vertexe einhacken","pinningButton":"Vertexe an der gleichen Position verknpfen","rotateButton":"Layer drehen","drawTextButton":"Text zeichnen","scaleButton":"Layer skalieren","autoTracingButton":"Linie automatisch nachzeichen"},"measurements":{"totalLength":"Lnge","segmentLength":"Segment Lnge","area":"Flche","radius":"Radius","perimeter":"Umfang","height":"Hhe","width":"Breite","coordinates":"Position","coordinatesMarker":"Position Marker"}}'),b=JSON.parse(`{"tooltips":{"placeMarker":"Clicca per posizionare un Marker","firstVertex":"Clicca per posizionare il primo vertice","continueLine":"Clicca per continuare a disegnare","finishLine":"Clicca qualsiasi marker esistente per terminare","finishPoly":"Clicca il primo marker per terminare","finishRect":"Clicca per terminare","startCircle":"Clicca per posizionare il punto centrale del cerchio","finishCircle":"Clicca per terminare il cerchio","placeCircleMarker":"Clicca per posizionare un Marker del cherchio"},"actions":{"finish":"Termina","cancel":"Annulla","removeLastVertex":"Rimuovi l'ultimo vertice"},"buttonTitles":{"drawMarkerButton":"Disegna Marker","drawPolyButton":"Disegna Poligoni","drawLineButton":"Disegna Polilinea","drawCircleButton":"Disegna Cerchio","drawRectButton":"Disegna Rettangolo","editButton":"Modifica Livelli","dragButton":"Sposta Livelli","cutButton":"Ritaglia Livelli","deleteButton":"Elimina Livelli","drawCircleMarkerButton":"Disegna Marker del Cerchio","snappingButton":"Snap ha trascinato il pennarello su altri strati e vertici","pinningButton":"Pin condiviso vertici insieme"}}`),x=JSON.parse('{"tooltips":{"placeMarker":"Klik untuk menempatkan marker","firstVertex":"Klik untuk menempatkan vertex pertama","continueLine":"Klik untuk meneruskan digitasi","finishLine":"Klik pada sembarang marker yang ada untuk mengakhiri","finishPoly":"Klik marker pertama untuk mengakhiri","finishRect":"Klik untuk mengakhiri","startCircle":"Klik untuk menempatkan titik pusat lingkaran","finishCircle":"Klik untuk mengakhiri lingkaran","placeCircleMarker":"Klik untuk menempatkan penanda lingkarann"},"actions":{"finish":"Selesai","cancel":"Batal","removeLastVertex":"Hilangkan Vertex Terakhir"},"buttonTitles":{"drawMarkerButton":"Digitasi Marker","drawPolyButton":"Digitasi Polygon","drawLineButton":"Digitasi Polyline","drawCircleButton":"Digitasi Lingkaran","drawRectButton":"Digitasi Segi Empat","editButton":"Edit Layer","dragButton":"Geser Layer","cutButton":"Potong Layer","deleteButton":"Hilangkan Layer","drawCircleMarkerButton":"Digitasi Penanda Lingkaran","snappingButton":"Jepretkan penanda yang ditarik ke lapisan dan simpul lain","pinningButton":"Sematkan simpul bersama bersama"}}'),M=JSON.parse('{"tooltips":{"placeMarker":"Adaug un punct","firstVertex":"Apas aici pentru a aduga primul Vertex","continueLine":"Apas aici pentru a continua desenul","finishLine":"Apas pe orice obiect pentru a finisa desenul","finishPoly":"Apas pe primul obiect pentru a finisa","finishRect":"Apas pentru a finisa","startCircle":"Apas pentru a desena un cerc","finishCircle":"Apas pentru a finisa un cerc","placeCircleMarker":"Adaug un punct"},"actions":{"finish":"Termin","cancel":"Anuleaz","removeLastVertex":"terge ultimul Vertex"},"buttonTitles":{"drawMarkerButton":"Adaug o bulin","drawPolyButton":"Deseneaz un poligon","drawLineButton":"Deseneaz o linie","drawCircleButton":"Deseneaz un cerc","drawRectButton":"Deseneaz un dreptunghi","editButton":"Editeaz straturile","dragButton":"Mut straturile","cutButton":"Taie straturile","deleteButton":"terge straturile","drawCircleMarkerButton":"Deseneaz marcatorul cercului","snappingButton":"Fixai marcatorul glisat pe alte straturi i vrfuri","pinningButton":"Fixai vrfurile partajate mpreun"}}'),B=JSON.parse('{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":"     ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   "}}'),R=JSON.parse('{"tooltips":{"placeMarker":"Presiona para colocar un marcador","firstVertex":"Presiona para colocar el primer vrtice","continueLine":"Presiona para continuar dibujando","finishLine":"Presiona cualquier marcador existente para finalizar","finishPoly":"Presiona el primer marcador para finalizar","finishRect":"Presiona para finalizar","startCircle":"Presiona para colocar el centro del crculo","finishCircle":"Presiona para finalizar el crculo","placeCircleMarker":"Presiona para colocar un marcador de crculo"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Eliminar ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Dibujar Marcador","drawPolyButton":"Dibujar Polgono","drawLineButton":"Dibujar Lnea","drawCircleButton":"Dibujar Crculo","drawRectButton":"Dibujar Rectngulo","editButton":"Editar Capas","dragButton":"Arrastrar Capas","cutButton":"Cortar Capas","deleteButton":"Eliminar Capas","drawCircleMarkerButton":"Dibujar Marcador de Crculo","snappingButton":"El marcador de Snap arrastrado a otras capas y vrtices","pinningButton":"Fijar juntos los vrtices compartidos"}}'),E=JSON.parse('{"tooltips":{"placeMarker":"Klik om een marker te plaatsen","firstVertex":"Klik om het eerste punt te plaatsen","continueLine":"Klik om te blijven tekenen","finishLine":"Klik op een bestaand punt om te beindigen","finishPoly":"Klik op het eerst punt om te beindigen","finishRect":"Klik om te beindigen","startCircle":"Klik om het middelpunt te plaatsen","finishCircle":"Klik om de cirkel te beindigen","placeCircleMarker":"Klik om een marker te plaatsen"},"actions":{"finish":"Bewaar","cancel":"Annuleer","removeLastVertex":"Verwijder laatste punt"},"buttonTitles":{"drawMarkerButton":"Plaats Marker","drawPolyButton":"Teken een vlak","drawLineButton":"Teken een lijn","drawCircleButton":"Teken een cirkel","drawRectButton":"Teken een vierkant","editButton":"Bewerk","dragButton":"Verplaats","cutButton":"Knip","deleteButton":"Verwijder","drawCircleMarkerButton":"Plaats Marker","snappingButton":"Snap gesleepte marker naar andere lagen en hoekpunten","pinningButton":"Speld gedeelde hoekpunten samen"}}'),q=JSON.parse(`{"tooltips":{"placeMarker":"Cliquez pour placer un marqueur","firstVertex":"Cliquez pour placer le premier sommet","continueLine":"Cliquez pour continuer  dessiner","finishLine":"Cliquez sur n'importe quel marqueur pour terminer","finishPoly":"Cliquez sur le premier marqueur pour terminer","finishRect":"Cliquez pour terminer","startCircle":"Cliquez pour placer le centre du cercle","finishCircle":"Cliquez pour finir le cercle","placeCircleMarker":"Cliquez pour placer le marqueur circulaire"},"actions":{"finish":"Terminer","cancel":"Annuler","removeLastVertex":"Retirer le dernier sommet"},"buttonTitles":{"drawMarkerButton":"Placer des marqueurs","drawPolyButton":"Dessiner des polygones","drawLineButton":"Dessiner des polylignes","drawCircleButton":"Dessiner un cercle","drawRectButton":"Dessiner un rectangle","editButton":"diter des calques","dragButton":"Dplacer des calques","cutButton":"Couper des calques","deleteButton":"Supprimer des calques","drawCircleMarkerButton":"Dessiner un marqueur circulaire","snappingButton":"Glisser le marqueur vers d'autres couches et sommets","pinningButton":"pingler ensemble les sommets partags","rotateButton":"Tourner des calques"}}`),I=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),U=JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":""}}'),K={en:m,de:g,it:b,id:x,ro:M,ru:B,es:R,nl:E,fr:q,pt_br:JSON.parse('{"tooltips":{"placeMarker":"Clique para posicionar o marcador","firstVertex":"Clique para posicionar o primeiro vrtice","continueLine":"Clique para continuar desenhando","finishLine":"Clique em qualquer marcador existente para finalizar","finishPoly":"Clique no primeiro ponto para fechar o polgono","finishRect":"Clique para finalizar","startCircle":"Clique para posicionar o centro do crculo","finishCircle":"Clique para fechar o crculo","placeCircleMarker":"Clique para posicionar o marcador circular"},"actions":{"finish":"Finalizar","cancel":"Cancelar","removeLastVertex":"Remover ltimo vrtice"},"buttonTitles":{"drawMarkerButton":"Desenhar um marcador","drawPolyButton":"Desenhar um polgono","drawLineButton":"Desenhar uma polilinha","drawCircleButton":"Desenhar um crculo","drawRectButton":"Desenhar um retngulo","editButton":"Editar camada(s)","dragButton":"Mover camada(s)","cutButton":"Recortar camada(s)","deleteButton":"Remover camada(s)","drawCircleMarkerButton":"Marcador de crculos de desenho","snappingButton":"Marcador arrastado para outras camadas e vrtices","pinningButton":"Vrtices compartilhados de pinos juntos"}}'),zh:I,zh_tw:U,pl:JSON.parse('{"tooltips":{"placeMarker":"Kliknij, aby ustawi znacznik","firstVertex":"Kliknij, aby ustawi pierwszy punkt","continueLine":"Kliknij, aby kontynuowa rysowanie","finishLine":"Kliknij dowolny punkt, aby zakoczy","finishPoly":"Kliknij pierwszy punkt, aby zakoczy","finishRect":"Kliknij, aby zakoczy","startCircle":"Kliknij, aby ustawi rodek koa","finishCircle":"Kliknij, aby zakoczy rysowanie koa","placeCircleMarker":"Kliknij, aby ustawi okrgy znacznik"},"actions":{"finish":"Zakocz","cancel":"Anuluj","removeLastVertex":"Usu ostatni punkt"},"buttonTitles":{"drawMarkerButton":"Narysuj znacznik","drawPolyButton":"Narysuj wielokt","drawLineButton":"Narysuj ciek","drawCircleButton":"Narysuj koo","drawRectButton":"Narysuj prostokt","editButton":"Edytuj","dragButton":"Przesu","cutButton":"Wytnij","deleteButton":"Usu","drawCircleMarkerButton":"Narysuj okrgy znacznik","snappingButton":"Snap przecignity marker na inne warstwy i wierzchoki","pinningButton":"Sworze wsplne wierzchoki razem"}}'),sv:JSON.parse('{"tooltips":{"placeMarker":"Klicka fr att placera markr","firstVertex":"Klicka fr att placera frsta hrnet","continueLine":"Klicka fr att fortstta rita","finishLine":"Klicka p en existerande punkt fr att slutfra","finishPoly":"Klicka p den frsta punkten fr att slutfra","finishRect":"Klicka fr att slutfra","startCircle":"Klicka fr att placera cirkelns centrum","finishCircle":"Klicka fr att slutfra cirkeln","placeCircleMarker":"Klicka fr att placera cirkelmarkr"},"actions":{"finish":"Slutfr","cancel":"Avbryt","removeLastVertex":"Ta bort sista hrnet"},"buttonTitles":{"drawMarkerButton":"Rita Markr","drawPolyButton":"Rita Polygoner","drawLineButton":"Rita Linje","drawCircleButton":"Rita Cirkel","drawRectButton":"Rita Rektangel","editButton":"Redigera Lager","dragButton":"Dra Lager","cutButton":"Klipp i Lager","deleteButton":"Ta bort Lager","drawCircleMarkerButton":"Rita Cirkelmarkr","snappingButton":"Snpp dra markren till andra lager och hrn","pinningButton":"Fst delade hrn tillsammans"}}'),el:JSON.parse('{"tooltips":{"placeMarker":"     ","firstVertex":"       ","continueLine":"      ","finishLine":"        ","finishPoly":"       ","finishRect":"    ","startCircle":"      ","finishCircle":"      ","placeCircleMarker":"      "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"        ","pinningButton":"   "}}'),hu:JSON.parse('{"tooltips":{"placeMarker":"Kattintson a jell elhelyezshez","firstVertex":"Kattintson az els pont elhelyezshez","continueLine":"Kattintson a kvetkez pont elhelyezshez","finishLine":"A befejezshez kattintson egy meglv pontra","finishPoly":"A befejezshez kattintson az els pontra","finishRect":"Kattintson a befejezshez","startCircle":"Kattintson a kr kzppontjnak elhelyezshez","finishCircle":"Kattintson a kr befejezshez","placeCircleMarker":"Kattintson a krjell elhelyezshez"},"actions":{"finish":"Befejezs","cancel":"Mgse","removeLastVertex":"Utols pont eltvoltsa"},"buttonTitles":{"drawMarkerButton":"Jell rajzolsa","drawPolyButton":"Poligon rajzolsa","drawLineButton":"Vonal rajzolsa","drawCircleButton":"Kr rajzolsa","drawRectButton":"Ngyzet rajzolsa","editButton":"Elemek szerkesztse","dragButton":"Elemek mozgatsa","cutButton":"Elemek vgsa","deleteButton":"Elemek trlse","drawCircleMarkerButton":"Kr jell rajzolsa","snappingButton":"Kapcsolja a jelltt msik elemhez vagy ponthoz","pinningButton":"Kzs pontok sszektse"}}'),da:JSON.parse('{"tooltips":{"placeMarker":"Tryk for at placere en markr","firstVertex":"Tryk for at placere det frste punkt","continueLine":"Tryk for at fortstte linjen","finishLine":"Tryk p et eksisterende punkt for at afslutte","finishPoly":"Tryk p det frste punkt for at afslutte","finishRect":"Tryk for at afslutte","startCircle":"Tryk for at placere cirklens center","finishCircle":"Tryk for at afslutte cirklen","placeCircleMarker":"Tryk for at placere en cirkelmarkr"},"actions":{"finish":"Afslut","cancel":"Afbryd","removeLastVertex":"Fjern sidste punkt"},"buttonTitles":{"drawMarkerButton":"Placer markr","drawPolyButton":"Tegn polygon","drawLineButton":"Tegn linje","drawCircleButton":"Tegn cirkel","drawRectButton":"Tegn firkant","editButton":"Rediger","dragButton":"Trk","cutButton":"Klip","deleteButton":"Fjern","drawCircleMarkerButton":"Tegn cirkelmarkr","snappingButton":"Fastgr trukket markr til andre elementer","pinningButton":"Sammenlg delte elementer"}}'),no:JSON.parse('{"tooltips":{"placeMarker":"Klikk for  plassere punkt","firstVertex":"Klikk for  plassere frste punkt","continueLine":"Klikk for  tegne videre","finishLine":"Klikk p et eksisterende punkt for  fullfre","finishPoly":"Klikk frste punkt for  fullfre","finishRect":"Klikk for  fullfre","startCircle":"Klikk for  sette sirkel midtpunkt","finishCircle":"Klikk for  fullfre sirkel","placeCircleMarker":"Klikk for  plassere sirkel"},"actions":{"finish":"Fullfr","cancel":"Kanseller","removeLastVertex":"Fjern forrige punkt"},"buttonTitles":{"drawMarkerButton":"Tegn Punkt","drawPolyButton":"Tegn Flate","drawLineButton":"Tegn Linje","drawCircleButton":"Tegn Sirkel","drawRectButton":"Tegn rektangel","editButton":"Rediger Objekter","dragButton":"Dra Objekter","cutButton":"Kutt Objekter","deleteButton":"Fjern Objekter","drawCircleMarkerButton":"Tegn sirkel-punkt","snappingButton":"Fest dratt punkt til andre objekter og punkt","pinningButton":"Pin delte punkt sammen"}}'),fa:JSON.parse('{"tooltips":{"placeMarker":"   ","firstVertex":"    ","continueLine":"   ","finishLine":"      ","finishPoly":"     ","finishRect":"  ","startCircle":"    ","finishCircle":"    ","placeCircleMarker":"    ","placeText":"   "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"      ","rotateButton":" ","drawTextButton":" "}}'),ua:JSON.parse(`{"tooltips":{"placeMarker":",   ","firstVertex":",    ","continueLine":",   ","finishLine":" -    ","finishPoly":"  ,  ","finishRect":",  ","startCircle":",    ","finishCircle":",   ","placeCircleMarker":",    "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"'   "}}`),tr:JSON.parse('{"tooltips":{"placeMarker":"areti yerletirmek iin tklayn","firstVertex":"lk tepe noktasn yerletirmek iin tklayn","continueLine":"izime devam etmek iin tklayn","finishLine":"Bitirmek iin mevcut herhangi bir iaretiyi tklayn","finishPoly":"Bitirmek iin ilk iaretiyi tklayn","finishRect":"Bitirmek iin tklayn","startCircle":"Daire merkezine yerletirmek iin tklayn","finishCircle":"Daireyi bitirmek iin tklayn","placeCircleMarker":"Daire iaretisi yerletirmek iin tklayn"},"actions":{"finish":"Bitir","cancel":"ptal","removeLastVertex":"Son keyi kaldr"},"buttonTitles":{"drawMarkerButton":"izim aretisi","drawPolyButton":"okgenler iz","drawLineButton":"oklu izgi iz","drawCircleButton":"ember iz","drawRectButton":"Dikdrtgen iz","editButton":"Katmanlar dzenle","dragButton":"Katmanlar srkle","cutButton":"Katmanlar kes","deleteButton":"Katmanlar kaldr","drawCircleMarkerButton":"Daire iaretisi iz","snappingButton":"Srklenen iaretiyi dier katmanlara ve kelere yaptr","pinningButton":"Paylalan keleri birbirine sabitle"}}'),cz:JSON.parse('{"tooltips":{"placeMarker":"Kliknutm vytvote znaku","firstVertex":"Kliknutm vytvote prvn objekt","continueLine":"Kliknutm pokraujte v kreslen","finishLine":"Kliknut na libovolnou existujc znaku pro dokonen","finishPoly":"Vyberte prvn bod pro dokonen","finishRect":"Kliknte pro dokonen","startCircle":"Kliknutm pidejte sted kruhu","finishCircle":",   ","placeCircleMarker":"Kliknutm nastavte polomr"},"actions":{"finish":"Dokonit","cancel":"Zruit","removeLastVertex":"Zruit posledn akci"},"buttonTitles":{"drawMarkerButton":"Pidat znaku","drawPolyButton":"Nakreslit polygon","drawLineButton":"Nakreslit kivku","drawCircleButton":"Nakreslit kruh","drawRectButton":"Nakreslit obdlnk","editButton":"Upravit vrstvu","dragButton":"Peneste vrstvu","cutButton":"Vyjmout vrstvu","deleteButton":"Smazat vrstvu","drawCircleMarkerButton":"Pidat kruhovou znaku","snappingButton":"Navzat tanou znaku k dalm vrstvm a vrcholm","pinningButton":"Spojit spolen body dohromady"}}'),ja:JSON.parse('{"tooltips":{"placeMarker":"","firstVertex":"","continueLine":"","finishLine":"","finishPoly":"","finishRect":"","startCircle":"","finishCircle":"","placeCircleMarker":"","placeText":""},"actions":{"finish":"","cancel":"","removeLastVertex":""},"buttonTitles":{"drawMarkerButton":"","drawPolyButton":"","drawLineButton":"","drawCircleButton":"","drawRectButton":"","editButton":"","dragButton":"","cutButton":"","deleteButton":"","drawCircleMarkerButton":"","snappingButton":"","pinningButton":"","rotateButton":"","drawTextButton":""}}'),fi:JSON.parse('{"tooltips":{"placeMarker":"Klikkaa asettaaksesi merkin","firstVertex":"Klikkaa asettaakseni ensimmisen osuuden","continueLine":"Klikkaa jatkaaksesi piirtmist","finishLine":"Klikkaa olemassa olevaa merkki lopettaaksesi","finishPoly":"Klikkaa ensimmist merkki lopettaaksesi","finishRect":"Klikkaa lopettaaksesi","startCircle":"Klikkaa asettaaksesi ympyrn keskipisteen","finishCircle":"Klikkaa lopettaaksesi ympyrn","placeCircleMarker":"Klikkaa asettaaksesi ympyrmerkin","placeText":"Klikkaa asettaaksesi tekstin"},"actions":{"finish":"Valmis","cancel":"Peruuta","removeLastVertex":"Poista viimeinen osuus"},"buttonTitles":{"drawMarkerButton":"Piirr merkkej","drawPolyButton":"Piirr monikulmioita","drawLineButton":"Piirr viivoja","drawCircleButton":"Piirr ympyr","drawRectButton":"Piirr neliskulmioita","editButton":"Muokkaa","dragButton":"Siirr","cutButton":"Leikkaa","deleteButton":"Poista","drawCircleMarkerButton":"Piirr ympyrmerkki","snappingButton":"Kiinnit siirrettv merkki toisiin muotoihin","pinningButton":"Kiinnit jaetut muodot yhteen","rotateButton":"Knn","drawTextButton":"Piirr teksti"}}'),ko:JSON.parse('{"tooltips":{"placeMarker":"  ","firstVertex":"   ","continueLine":"  ","finishLine":"   ","finishPoly":"   ","finishRect":" ","startCircle":"    ","finishCircle":"  ","placeCircleMarker":"   ","placeText":"  "},"actions":{"finish":"","cancel":"","removeLastVertex":"  "},"buttonTitles":{"drawMarkerButton":" ","drawPolyButton":" ","drawLineButton":" ","drawCircleButton":" ","drawRectButton":" ","editButton":" ","dragButton":" ","cutButton":" ","deleteButton":" ","drawCircleMarkerButton":"  ","snappingButton":"       ","pinningButton":"   ","rotateButton":" ","drawTextButton":" "}}')};function T(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function F(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?T(Object(c),!0).forEach(function(_){$(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):T(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function $(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}const ot={_globalEditModeEnabled:!1,enableGlobalEditMode:function(n){var o=F({},n);this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(function(c){c.pm.enable(o)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayers={},this.map.on("layeradd",this._layerAdded,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode:function(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(function(n){n.pm.disable()}),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled:function(){return this.globalEditModeEnabled()},globalEditModeEnabled:function(){return this._globalEditModeEnabled},toggleGlobalEditMode:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.globalOptions;this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(n)},handleLayerAdditionInGlobalEditMode:function(){var n=this._addedLayers;for(var o in this._addedLayers={},n){var c=n[o];this._isRelevantForEdit(c)&&this.globalEditModeEnabled()&&c.pm.enable(F({},this.globalOptions))}},_layerAdded:function(n){var o=n.layer;this._addedLayers[L.stamp(o)]=o},_isRelevantForEdit:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowEditing}},tt={_globalDragModeEnabled:!1,enableGlobalDragMode:function(){var n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},n.forEach(function(o){o.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode:function(){var n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,n.forEach(function(o){o.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled:function(){return!!this._globalDragModeEnabled},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode:function(){var n=this._addedLayersDrag;for(var o in this._addedLayersDrag={},n){var c=n[o];this._isRelevantForDrag(c)&&this.globalDragModeEnabled()&&c.pm.enableLayerDrag()}},_layerAddedDrag:function(n){var o=n.layer;this._addedLayersDrag[L.stamp(o)]=o},_isRelevantForDrag:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.draggable}},it={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode:function(){var n=this;this._globalRemovalModeEnabled=!0,this.map.eachLayer(function(o){n._isRelevantForRemoval(o)&&(o.pm.disable(),o.on("click",n.removeLayer,n))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.reinitGlobalRemovalMode,100,this)),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode:function(){var n=this;this._globalRemovalModeEnabled=!1,this.map.eachLayer(function(o){o.off("click",n.removeLayer,n)}),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled:function(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled:function(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode:function(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},reinitGlobalRemovalMode:function(n){var o=n.layer;this._isRelevantForRemoval(o)&&this.globalRemovalModeEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode())},removeLayer:function(n){var o=n.target;this._isRelevantForRemoval(o)&&!o.pm.dragging()&&(o.removeFrom(this.map.pm._getContainingLayer()),o.remove(),o instanceof L.LayerGroup?(this._fireRemoveLayerGroup(o),this._fireRemoveLayerGroup(this.map,o)):(o.pm._fireRemove(o),o.pm._fireRemove(this.map,o)))},_isRelevantForRemoval:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRemoval}},ut={_globalRotateModeEnabled:!1,enableGlobalRotateMode:function(){var n=this;this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(function(o){return o instanceof L.Polyline}).forEach(function(o){n._isRelevantForRotate(o)&&o.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this._reinitGlobalRotateMode,100,this)),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode:function(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(function(n){return n instanceof L.Polyline}).forEach(function(n){n.pm.disableRotate()}),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled:function(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode:function(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_reinitGlobalRotateMode:function(n){var o=n.layer;this._isRelevantForRotate(o)&&this.globalRotateModeEnabled()&&(this.disableGlobalRotateMode(),this.enableGlobalRotateMode())},_isRelevantForRotate:function(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRotation}};function mt(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function nt(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?mt(Object(c),!0).forEach(function(_){gt(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):mt(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function gt(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}var Rt={_fireDrawStart:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},n,o)},_fireDrawEnd:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:drawend",{shape:this._shape},n,o)},_fireCreate:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Draw",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._map,"pm:create",{shape:this._shape,marker:n,layer:n},o,c)},_fireCenterPlaced:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Draw",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=n==="Draw"?this._layer:void 0,_=n!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:c,layer:_,latlng:this._layer.getLatLng()},n,o)},_fireCut:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Draw",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(n,"pm:cut",{shape:this._shape,layer:o,originalLayer:c},_,k)},_fireEdit:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._layer,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(n,"pm:edit",{layer:this._layer,shape:this.getShape()},o,c)},_fireEnable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},n,o)},_fireDisable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},n,o)},_fireUpdate:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},n,o)},_fireMarkerDragStart:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o},c,_)},_fireMarkerDrag:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o},c,_)},_fireMarkerDragEnd:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:o,intersectionReset:c},_,k)},_fireDragStart:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},n,o)},_fireDrag:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:drag",nt(nt({},n),{},{shape:this.getShape()}),o,c)},_fireDragEnd:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},n,o)},_fireDragEnable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},n,o)},_fireDragDisable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},n,o)},_fireRemove:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:remove",{layer:o,shape:this.getShape()},c,_)},_fireVertexAdded:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Edit",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:n,indexPath:o,latlng:c,shape:this.getShape()},_,k)},_fireVertexRemoved:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:n,indexPath:o,shape:this.getShape()},c,_)},_fireVertexClick:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:n,indexPath:o,shape:this.getShape()},c,_)},_fireIntersect:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:intersect",{layer:this._layer,intersection:n,shape:this.getShape()},o,c)},_fireLayerReset:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:n,indexPath:o,shape:this.getShape()},c,_)},_fireChange:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:n,shape:this.getShape()},o,c)},_fireTextChange:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Edit",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:n,shape:this.getShape()},o,c)},_fireTextFocus:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},n,o)},_fireTextBlur:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Edit",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},n,o)},_fireSnapDrag:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:snapdrag",o,c,_)},_fireSnap:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:snap",o,c,_)},_fireUnsnap:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Snapping",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:unsnap",o,c,_)},_fireRotationEnable:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},c,_)},_fireRotationDisable:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Rotation",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(n,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},o,c)},_fireRotationStart:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Rotation",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:o},c,_)},_fireRotation:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this._rotationLayer,k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Rotation",S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(n,"pm:rotate",{layer:_,helpLayer:this._layer,startAngle:this._startAngle,angle:_.pm.getAngle(),angleDiff:o,oldLatLngs:c,newLatLngs:_.getLatLngs()},k,S)},_fireRotationEnd:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Rotation",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(n,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:o,angle:this._rotationLayer.pm.getAngle(),originLatLngs:c,newLatLngs:this._rotationLayer.getLatLngs()},_,k)},_fireActionClick:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Toolbar",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this._map,"pm:actionclick",{text:n.text,action:n,btnName:o,button:c},_,k)},_fireButtonClick:function(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Toolbar",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(this._map,"pm:buttonclick",{btnName:n,button:o},c,_)},_fireLangChange:function(n,o,c,_){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"Global",S=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};this.__fire(this.map,"pm:langchange",{oldLang:n,activeLang:o,fallback:c,translations:_},k,S)},_fireGlobalDragModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:n,map:this.map},o,c)},_fireGlobalEditModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:n,map:this.map},o,c)},_fireGlobalRemovalModeToggled:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global",c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:n,map:this.map},o,c)},_fireGlobalCutModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},n,o)},_fireGlobalDrawModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},n,o)},_fireGlobalRotateModeToggled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},n,o)},_fireRemoveLayerGroup:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Edit",_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};this.__fire(n,"pm:remove",{layer:o,shape:void 0},c,_)},_fireKeyeventEvent:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Global",k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};this.__fire(this.map,"pm:keyevent",{event:n,eventType:o,focusOn:c},_,k)},__fire:function(n,o,c,_){var k=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};c=p()(c,k,{source:_}),L.PM.Utils._fireEvent(n,o,c)}};const Mt=Rt,Lt={_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener:function(n){this.map=n,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this)},_onKeyListener:function(n){var o="document";this.map.getContainer().contains(n.target)&&(o="map");var c={event:n,eventType:n.type,focusOn:o};this._lastEvents[n.type]=c,this._lastEvents.current=c,this.map.pm._fireKeyeventEvent(n,n.type,o)},_onBlur:function(n){n.altKey=!1;var o={event:n,eventType:n.type,focusOn:"document"};this._lastEvents[n.type]=o,this._lastEvents.current=o},getLastKeyEvent:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"current";return this._lastEvents[n]},isShiftKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.shiftKey},isAltKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.altKey},isCtrlKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.ctrlKey},isMetaKeyPressed:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.metaKey},getPressedKey:function(){var n;return(n=this._lastEvents.current)===null||n===void 0?void 0:n.event.key}};var Bt=u(7361),dt=u.n(Bt),ee=u(8721),Et=u.n(ee);function Pt(n){var o=L.PM.activeLang;return Et()(K,o)||(o="en"),dt()(K[o],n)}function Dt(n){for(var o=0;o<n.length;o+=1){var c=n[o];if(Array.isArray(c)){if(Dt(c))return!0}else if(c!=null&&c!=="")return!0}return!1}function pe(n){return n.reduce(function(o,c){if(c.length!==0){var _=Array.isArray(c)?pe(c):c;Array.isArray(_)?_.length!==0&&o.push(_):o.push(_)}return o},[])}function ie(n,o,c){for(var _,k,S,D=6378137,G=63567523142e-4,j=.0033528106647474805,Z=n.lng,J=n.lat,lt=c,rt=Math.PI,yt=o*rt/180,xt=Math.sin(yt),zt=Math.cos(yt),$t=(1-j)*Math.tan(J*rt/180),he=1/Math.sqrt(1+$t*$t),It=$t*he,ce=Math.atan2($t,zt),me=he*xt,Re=1-me*me,pn=Re*(D*D-G*G)/(G*G),mo=1+pn/16384*(4096+pn*(pn*(320-175*pn)-768)),Ei=pn/1024*(256+pn*(pn*(74-47*pn)-128)),Fn=lt/(G*mo),Or=2*Math.PI;Math.abs(Fn-Or)>1e-12;)_=Math.cos(2*ce+Fn),Or=Fn,Fn=lt/(G*mo)+Ei*(k=Math.sin(Fn))*(_+Ei/4*((S=Math.cos(Fn))*(2*_*_-1)-Ei/6*_*(4*k*k-3)*(4*_*_-3)));var go=It*k-he*S*zt,Is=Math.atan2(It*S+he*k*zt,(1-j)*Math.sqrt(me*me+go*go)),Si=j/16*Re*(4+j*(4-3*Re)),Ns=Z+180*(Math.atan2(k*xt,he*S-It*k*zt)-(1-Si)*j*me*(Fn+Si*k*(_+Si*S*(2*_*_-1))))/rt,on=180*Is/rt;return L.latLng(Ns,on)}function Jt(n,o,c,_){for(var k,S,D=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],G=[],j=0;j<c;j+=1){if(D)k=ie(n,360*j/c+_,o),S=L.latLng(k.lng,k.lat);else{var Z=n.lat+Math.cos(2*j*Math.PI/c)*o,J=n.lng+Math.sin(2*j*Math.PI/c)*o;S=L.latLng(Z,J)}G.push(S)}return G}function Ot(n,o,c,_){var k=function(S,D,G){var j=S.latLngToContainerPoint(D),Z=S.latLngToContainerPoint(G),J=180*Math.atan2(Z.y-j.y,Z.x-j.x)/Math.PI+90;return J+(J<0?360:0)}(n,o,c);return function(S,D,G){D=(D+360)%360;var j=Math.PI/180,Z=180/Math.PI,J=6378137,lt=S.lng*j,rt=S.lat*j,yt=D*j,xt=Math.sin(rt),zt=Math.cos(rt),$t=Math.cos(G/J),he=Math.sin(G/J),It=Math.asin(xt*$t+zt*he*Math.cos(yt)),ce=lt+Math.atan2(Math.sin(yt)*he*zt,$t-xt*Math.sin(It));return ce=(ce*=Z)>180?ce-360:ce<-180?ce+360:ce,L.latLng([It*Z,ce])}(o,k,_)}function at(n,o){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"asc";if(!o||Object.keys(o).length===0)return function(j,Z){return j-Z};for(var _,k=Object.keys(o),S=k.length-1,D={};S>=0;)_=k[S],D[_.toLowerCase()]=o[_],S-=1;function G(j){return j instanceof L.Marker?"Marker":j instanceof L.Circle?"Circle":j instanceof L.CircleMarker?"CircleMarker":j instanceof L.Rectangle?"Rectangle":j instanceof L.Polygon?"Polygon":j instanceof L.Polyline?"Line":void 0}return function(j,Z){var J,lt;if(n==="instanceofShape"){if(J=G(j.layer).toLowerCase(),lt=G(Z.layer).toLowerCase(),!J||!lt)return 0}else{if(!j.hasOwnProperty(n)||!Z.hasOwnProperty(n))return 0;J=j[n].toLowerCase(),lt=Z[n].toLowerCase()}var rt=J in D?D[J]:Number.MAX_SAFE_INTEGER,yt=lt in D?D[lt]:Number.MAX_SAFE_INTEGER,xt=0;return rt<yt?xt=-1:rt>yt&&(xt=1),c==="desc"?-1*xt:xt}}function vt(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.getLatLngs();return n instanceof L.Polygon?L.polygon(o).getLatLngs():L.polyline(o).getLatLngs()}function bt(n,o){var c,_;if((c=o.options.crs)!==null&&c!==void 0&&(_=c.projection)!==null&&_!==void 0&&_.MAX_LATITUDE){var k,S,D=(k=o.options.crs)===null||k===void 0||(S=k.projection)===null||S===void 0?void 0:S.MAX_LATITUDE;n.lat=Math.max(Math.min(D,n.lat),-D)}return n}function St(n){return n.options.renderer||n._map&&(n._map._getPaneRenderer(n.options.pane)||n._map.options.renderer||n._map._renderer)||n._renderer}const Yt=L.Class.extend({includes:[ot,tt,it,ut,Mt],initialize:function(n){this.map=n,this.Draw=new L.PM.Draw(n),this.Toolbar=new L.PM.Toolbar(n),this.Keyboard=Lt,this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(n)},setLang:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en",o=arguments.length>1?arguments[1]:void 0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en",_=L.PM.activeLang;o&&(K[n]=p()(K[c],o)),L.PM.activeLang=n,this.map.pm.Toolbar.reinit(),this._fireLangChange(_,n,c,K[n])},addControls:function(n){this.Toolbar.addControls(n)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon",o=arguments.length>1?arguments[1]:void 0;n==="Poly"&&(n="Polygon"),this.Draw.enable(n,o)},disableDraw:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Polygon";n==="Poly"&&(n="Polygon"),this.Draw.disable(n)},setPathOptions:function(n){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=c.ignoreShapes||[],k=c.merge||!1;this.map.pm.Draw.shapes.forEach(function(S){_.indexOf(S)===-1&&o.map.pm.Draw[S].setPathOptions(n,k)})},getGlobalOptions:function(){return this.globalOptions},setGlobalOptions:function(n){var o=this,c=p()(this.globalOptions,n),_=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.editable!=!!c.editable&&(this.map.pm.Draw.CircleMarker.disable(),_=!0),this.map.pm.Draw.shapes.forEach(function(k){o.map.pm.Draw[k].setOptions(c)}),_&&this.map.pm.Draw.CircleMarker.enable(),L.PM.Utils.findLayers(this.map).forEach(function(k){k.pm.setOptions(c)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=c,this.applyGlobalOptions()},applyGlobalOptions:function(){L.PM.Utils.findLayers(this.map).forEach(function(n){n.pm.enabled()&&n.pm.applyOptions()})},globalDrawModeEnabled:function(){return!!this.Draw.getActiveShape()},globalCutModeEnabled:function(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode:function(n){return this.Draw.Cut.enable(n)},toggleGlobalCutMode:function(n){return this.Draw.Cut.toggle(n)},disableGlobalCutMode:function(){return this.Draw.Cut.disable()},getGeomanLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=L.PM.Utils.findLayers(this.map);if(!n)return o;var c=L.featureGroup();return c._pmTempLayer=!0,o.forEach(function(_){c.addLayer(_)}),c},getGeomanDrawLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=L.PM.Utils.findLayers(this.map).filter(function(_){return _._drawnByGeoman===!0});if(!n)return o;var c=L.featureGroup();return c._pmTempLayer=!0,o.forEach(function(_){c.addLayer(_)}),c},_getContainingLayer:function(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple:function(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents:function(n){this._touchEventCounter===0&&(L.DomEvent.on(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents:function(n){this._touchEventCounter===1&&(L.DomEvent.off(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove:function(n){St(this.map)._onMouseMove(this._createMouseEvent("mousemove",n))},_canvasTouchClick:function(n){var o="";n.type==="touchstart"||n.type==="pointerdown"?o="mousedown":n.type==="touchend"||n.type==="pointerup"?o="mouseup":n.type!=="touchcancel"&&n.type!=="pointercancel"||(o="mouseup"),o&&St(this.map)._onClick(this._createMouseEvent(o,n))},_createMouseEvent:function(n,o){var c,_=o.touches[0]||o.changedTouches[0];try{c=new MouseEvent(n,{bubbles:o.bubbles,cancelable:o.cancelable,view:o.view,detail:_.detail,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY,ctrlKey:o.ctrlKey,altKey:o.altKey,shiftKey:o.shiftKey,metaKey:o.metaKey,button:o.button,relatedTarget:o.relatedTarget})}catch{(c=document.createEvent("MouseEvents")).initMouseEvent(n,o.bubbles,o.cancelable,o.view,_.detail,_.screenX,_.screenY,_.clientX,_.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget)}return c}}),z=L.Control.extend({includes:[Mt],options:{position:"topleft",disableByOtherButtons:!0},initialize:function(n){this._button=L.Util.extend({},this.options,n)},onAdd:function(n){return this._map=n,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(n){return this._button.toggleStatus=typeof n=="boolean"?n:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},disable:function(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable:function(){this._button.disabled=!1,this._updateDisabled()},_triggerClick:function(n){n&&n.preventDefault(),this._button.disabled||(this._button.onClick(n,{button:this,event:n}),this._clicked(n),this._button.afterClick(n,{button:this,event:n}))},_makeButton:function(n){var o=this,c=this.options.position.indexOf("right")>-1?"pos-right":"",_=L.DomUtil.create("div","button-container  ".concat(c),this._container);n.title&&_.setAttribute("title",n.title);var k=L.DomUtil.create("a","leaflet-buttons-control-button",_);k.setAttribute("role","button"),k.setAttribute("tabindex","0"),k.href="#";var S=L.DomUtil.create("div","leaflet-pm-actions-container ".concat(c),_),D=n.actions,G={cancel:{text:Pt("actions.cancel"),onClick:function(){this._triggerClick()}},finishMode:{text:Pt("actions.finish"),onClick:function(){this._triggerClick()}},removeLastVertex:{text:Pt("actions.removeLastVertex"),onClick:function(){this._map.pm.Draw[n.jsClass]._removeLastVertex()}},finish:{text:Pt("actions.finish"),onClick:function(Z){this._map.pm.Draw[n.jsClass]._finishShape(Z)}}};D.forEach(function(Z){var J,lt=typeof Z=="string"?Z:Z.name;if(G[lt])J=G[lt];else{if(!Z.text)return;J=Z}var rt=L.DomUtil.create("a","leaflet-pm-action ".concat(c," action-").concat(lt),S);rt.setAttribute("role","button"),rt.setAttribute("tabindex","0"),rt.href="#",rt.innerHTML=J.text,L.DomEvent.disableClickPropagation(rt),L.DomEvent.on(rt,"click",L.DomEvent.stop),!n.disabled&&J.onClick&&(L.DomEvent.addListener(rt,"click",function(yt){yt.preventDefault();var xt="",zt=o._map.pm.Toolbar.buttons;for(var $t in zt)if(zt[$t]._button===n){xt=$t;break}o._fireActionClick(J,xt,n)},o),L.DomEvent.addListener(rt,"click",J.onClick,o))}),n.toggleStatus&&L.DomUtil.addClass(_,"active");var j=L.DomUtil.create("div","control-icon",k);return n.iconUrl&&j.setAttribute("src",n.iconUrl),n.className&&L.DomUtil.addClass(j,n.className),L.DomEvent.disableClickPropagation(k),L.DomEvent.on(k,"click",L.DomEvent.stop),n.disabled||(L.DomEvent.addListener(k,"click",this._onBtnClick,this),L.DomEvent.addListener(k,"click",this._triggerClick,this)),n.disabled&&(L.DomUtil.addClass(k,"pm-disabled"),k.setAttribute("aria-disabled","true")),_},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus&&this._button.cssToggle!==!1?(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")):(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")))},_onBtnClick:function(){this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);var n="",o=this._map.pm.Toolbar.buttons;for(var c in o)if(o[c]._button===this._button){n=c;break}this._fireButtonClick(n,this._button)},_clicked:function(){this._button.doToggle&&this.toggle()},_updateDisabled:function(){if(this._container){var n="pm-disabled",o=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(o,n),o.setAttribute("aria-disabled","true"),L.DomEvent.off(o,"click",this._triggerClick,this),L.DomEvent.off(o,"click",this._onBtnClick,this)):(L.DomUtil.removeClass(o,n),o.setAttribute("aria-disabled","false"),L.DomEvent.on(o,"click",this._triggerClick,this),L.DomEvent.on(o,"click",this._onBtnClick,this))}}});function H(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function W(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?H(Object(c),!0).forEach(function(_){st(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):H(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function st(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}function ht(n){return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ht(n)}L.Control.PMButton=z;const pt=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize:function(n){this.init(n)},reinit:function(){var n=this.isVisible;this.removeControls(),this._defineButtons(),n&&this.addControls()},init:function(n){this.map=n,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer:function(n){var o="".concat(n,"Container");return this[o]||(this[o]=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-".concat(n," leaflet-bar leaflet-control"))),this[o]},getButtons:function(){return this.buttons},addControls:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;typeof n.editPolygon<"u"&&(n.editMode=n.editPolygon),typeof n.deleteLayer<"u"&&(n.removalMode=n.deleteLayer),L.Util.setOptions(this,n),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle:function(){var n=this.getButtons(),o={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(var c in n){var _=n[c];L.Util.setOptions(_,{className:o.geomanIcons[c]})}},removeControls:function(){var n=this.getButtons();for(var o in n)n[o].remove();this.isVisible=!1},toggleControls:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(n)},_addButton:function(n,o){return this.buttons[n]=o,this.options[n]=this.options[n]||!1,this.buttons[n]},triggerClickOnToggledButtons:function(n){for(var o in this.buttons){var c=this.buttons[o];c._button.disableByOtherButtons&&c!==n&&c.toggled()&&c._triggerClick()}},toggleButton:function(n,o){var c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return n==="editPolygon"&&(n="editMode"),n==="deleteLayer"&&(n="removalMode"),c&&this.triggerClickOnToggledButtons(this.buttons[n]),!!this.buttons[n]&&this.buttons[n].toggle(o)},_defineButtons:function(){var n=this,o={className:"control-icon leaflet-pm-icon-marker",title:Pt("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},c={title:Pt("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},_={className:"control-icon leaflet-pm-icon-polyline",title:Pt("buttonTitles.drawLineButton"),jsClass:"Line",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},k={title:Pt("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},S={title:Pt("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},D={title:Pt("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},G={title:Pt("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},j={title:Pt("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:Pt("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},J={title:Pt("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},lt={title:Pt("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:function(){},afterClick:function(){n.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},rt={className:"control-icon leaflet-pm-icon-text",title:Pt("buttonTitles.drawTextButton"),jsClass:"Text",onClick:function(){},afterClick:function(yt,xt){n.map.pm.Draw[xt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(o)),this._addButton("drawPolyline",new L.Control.PMButton(_)),this._addButton("drawRectangle",new L.Control.PMButton(D)),this._addButton("drawPolygon",new L.Control.PMButton(c)),this._addButton("drawCircle",new L.Control.PMButton(k)),this._addButton("drawCircleMarker",new L.Control.PMButton(S)),this._addButton("drawText",new L.Control.PMButton(rt)),this._addButton("editMode",new L.Control.PMButton(G)),this._addButton("dragMode",new L.Control.PMButton(j)),this._addButton("cutPolygon",new L.Control.PMButton(Z)),this._addButton("removalMode",new L.Control.PMButton(J)),this._addButton("rotateMode",new L.Control.PMButton(lt))},_showHideButtons:function(){if(this.isVisible){this.removeControls(),this.isVisible=!0;var n=this.getButtons(),o=[];for(var c in this.options.drawControls===!1&&(o=o.concat(Object.keys(n).filter(function(k){return!n[k]._button.tool}))),this.options.editControls===!1&&(o=o.concat(Object.keys(n).filter(function(k){return n[k]._button.tool==="edit"}))),this.options.optionsControls===!1&&(o=o.concat(Object.keys(n).filter(function(k){return n[k]._button.tool==="options"}))),this.options.customControls===!1&&(o=o.concat(Object.keys(n).filter(function(k){return n[k]._button.tool==="custom"}))),n)if(this.options[c]&&o.indexOf(c)===-1){var _=n[c]._button.tool;_||(_="draw"),n[c].setPosition(this._getBtnPosition(_)),n[c].addTo(this.map)}}},_getBtnPosition:function(n){return this.options.positions&&this.options.positions[n]?this.options.positions[n]:this.options.position},setBlockPosition:function(n,o){this.options.positions[n]=o,this._showHideButtons(),this.changeControlOrder()},getBlockPositions:function(){return this.options.positions},copyDrawControl:function(n,o){if(!o)throw new TypeError("Button has no name");ht(o)!=="object"&&(o={name:o});var c=this._btnNameMapping(n);if(!o.name)throw new TypeError("Button has no name");if(this.buttons[o.name])throw new TypeError("Button with this name already exists");var _=this.map.pm.Draw.createNewDrawInstance(o.name,c);return o=W(W({},this.buttons[c]._button),o),{drawInstance:_,control:this.createCustomControl(o)}},createCustomControl:function(n){var o,c;if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");n.onClick||(n.onClick=function(){}),n.afterClick||(n.afterClick=function(){}),n.toggle!==!1&&(n.toggle=!0),n.block&&(n.block=n.block.toLowerCase()),n.block&&n.block!=="draw"||(n.block=""),n.className?n.className.indexOf("control-icon")===-1&&(n.className="control-icon ".concat(n.className)):n.className="control-icon";var _={tool:n.block,className:n.className,title:n.title||"",jsClass:n.name,onClick:n.onClick,afterClick:n.afterClick,doToggle:n.toggle,toggleStatus:!1,disableOtherButtons:(o=n.disableOtherButtons)===null||o===void 0||o,disableByOtherButtons:(c=n.disableByOtherButtons)===null||c===void 0||c,cssToggle:n.toggle,position:this.options.position,actions:n.actions||[],disabled:!!n.disabled};this.options[n.name]!==!1&&(this.options[n.name]=!0);var k=this._addButton(n.name,new L.Control.PMButton(_));return this.changeControlOrder(),k},changeControlOrder:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=this._shapeMapping(),c=[];n.forEach(function(Z){o[Z]?c.push(o[Z]):c.push(Z)});var _=this.getButtons(),k={};c.forEach(function(Z){_[Z]&&(k[Z]=_[Z])});var S=Object.keys(_).filter(function(Z){return!_[Z]._button.tool});S.forEach(function(Z){c.indexOf(Z)===-1&&(k[Z]=_[Z])});var D=Object.keys(_).filter(function(Z){return _[Z]._button.tool==="edit"});D.forEach(function(Z){c.indexOf(Z)===-1&&(k[Z]=_[Z])});var G=Object.keys(_).filter(function(Z){return _[Z]._button.tool==="options"});G.forEach(function(Z){c.indexOf(Z)===-1&&(k[Z]=_[Z])});var j=Object.keys(_).filter(function(Z){return _[Z]._button.tool==="custom"});j.forEach(function(Z){c.indexOf(Z)===-1&&(k[Z]=_[Z])}),Object.keys(_).forEach(function(Z){c.indexOf(Z)===-1&&(k[Z]=_[Z])}),this.map.pm.Toolbar.buttons=k,this._showHideButtons()},getControlOrder:function(){var n=this.getButtons(),o=[];for(var c in n)o.push(c);return o},changeActionsOfControl:function(n,o){var c=this._btnNameMapping(n);if(!c)throw new TypeError("No name passed");if(!o)throw new TypeError("No actions passed");if(!this.buttons[c])throw new TypeError("Button with this name not exists");this.buttons[c]._button.actions=o,this.changeControlOrder()},setButtonDisabled:function(n,o){var c=this._btnNameMapping(n);o?this.buttons[c].disable():this.buttons[c].enable()},_shapeMapping:function(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping:function(n){var o=this._shapeMapping();return o[n]?o[n]:n}});function wt(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function O(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?wt(Object(c),!0).forEach(function(_){v(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):wt(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function v(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}var w={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents:function(n){var o=this;n.forEach(function(c){Array.isArray(c)?o._assignEvents(c):(c.off("drag",o._handleSnapping,o),c.on("drag",o._handleSnapping,o),c.off("dragend",o._cleanupSnapping,o),c.on("dragend",o._cleanupSnapping,o))})},_cleanupSnapping:function(n){n&&(n.target._snapped=!1),delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(o){o.remove()})},_handleThrottleSnapping:function(){this.throttledList&&this._createSnapList()},_handleSnapping:function(n){var o=this,c=n.target;if(c._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),this._map.pm.Keyboard.isAltKeyPressed()||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;var _=this._calcClosestLayer(c.getLatLng(),this._snapList);if(Object.keys(_).length===0)return!1;var k,S=_.layer instanceof L.Marker||_.layer instanceof L.CircleMarker||!this.options.snapSegment;k=S?_.latlng:this._checkPrioritiySnapping(_);var D=this.options.snapDistance,G={marker:c,shape:this._shape,snapLatLng:k,segment:_.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:_.layer,distance:_.distance};if(this._fireSnapDrag(G.marker,G),this._fireSnapDrag(this._layer,G),_.distance<D){c._orgLatLng=c.getLatLng(),c.setLatLng(k),c._snapped=!0,c._snapInfo=G;var j=this._snapLatLng||{},Z=k||{};j.lat===Z.lat&&j.lng===Z.lng||(o._snapLatLng=k,o._fireSnap(c,G),o._fireSnap(o._layer,G))}else this._snapLatLng&&(this._unsnap(G),c._snapped=!1,c._snapInfo=void 0,this._fireUnsnap(G.marker,G),this._fireUnsnap(this._layer,G));return!0},_createSnapList:function(){var n=this,o=[],c=[],_=this._map;_.off("pm:remove",this._handleSnapLayerRemoval,this),_.on("pm:remove",this._handleSnapLayerRemoval,this),_.eachLayer(function(k){if((k instanceof L.Polyline||k instanceof L.Marker||k instanceof L.CircleMarker||k instanceof L.ImageOverlay)&&k.options.snapIgnore!==!0){if(k.options.snapIgnore===void 0&&(!L.PM.optIn&&k.options.pmIgnore===!0||L.PM.optIn&&k.options.pmIgnore!==!1))return;(k instanceof L.Circle||k instanceof L.CircleMarker)&&k.pm&&k.pm._hiddenPolyCircle?o.push(k.pm._hiddenPolyCircle):k instanceof L.ImageOverlay&&(k=L.rectangle(k.getBounds())),o.push(k);var S=L.polyline([],{color:"red",pmIgnore:!0});S._pmTempLayer=!0,c.push(S),(k instanceof L.Circle||k instanceof L.CircleMarker)&&c.push(S)}}),o=(o=(o=o.filter(function(k){return n._layer!==k})).filter(function(k){return k._latlng||k._latlngs&&Dt(k._latlngs)})).filter(function(k){return!k._pmTempLayer}),this._otherSnapLayers?(this._otherSnapLayers.forEach(function(){var k=L.polyline([],{color:"red",pmIgnore:!0});k._pmTempLayer=!0,c.push(k)}),this._snapList=o.concat(this._otherSnapLayers)):this._snapList=o,this.debugIndicatorLines=c},_handleSnapLayerRemoval:function(n){var o=n.layer,c=this._snapList.findIndex(function(_){return _._leaflet_id===o._leaflet_id});this._snapList.splice(c,1)},_calcClosestLayer:function(n,o){return this._calcClosestLayers(n,o,1)[0]},_calcClosestLayers:function(n,o){var c=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=[],S={};o.forEach(function(G,j){if(!G._parentCopy||G._parentCopy!==c._layer){var Z=c._calcLayerDistances(n,G);if(Z.distance=Math.floor(Z.distance),c.debugIndicatorLines){if(!c.debugIndicatorLines[j]){var J=L.polyline([],{color:"red",pmIgnore:!0});J._pmTempLayer=!0,c.debugIndicatorLines[j]=J}c.debugIndicatorLines[j].setLatLngs([n,Z.latlng])}_===1&&(S.distance===void 0||Z.distance<=S.distance)?(Z.distance<S.distance&&(k=[]),(S=Z).layer=G,k.push(S)):_!==1&&(S={},(S=Z).layer=G,k.push(S))}}),_!==1&&(k=k.sort(function(G,j){return G.distance-j.distance})),_===-1&&(_=k.length);var D=this._getClosestLayerByPriority(k,_);return L.Util.isArray(D)?D:[D]},_calcLayerDistances:function(n,o){var c=this._map,_=o instanceof L.Marker||o instanceof L.CircleMarker,k=o instanceof L.Polygon,S=n;if(_){var D=o.getLatLng();return{latlng:O({},D),distance:this._getDistance(c,D,S)}}return this._calcLatLngDistances(S,o.getLatLngs(),c,k)},_calcLatLngDistances:function(n,o,c){var _,k,S,D=this,G=arguments.length>3&&arguments[3]!==void 0&&arguments[3],j=function J(lt){lt.forEach(function(rt,yt){if(Array.isArray(rt))J(rt);else if(D.options.snapSegment){var xt,zt=rt;xt=G?yt+1===lt.length?0:yt+1:yt+1===lt.length?void 0:yt+1;var $t=lt[xt];if($t){var he=D._getDistanceToSegment(c,n,zt,$t);(k===void 0||he<k)&&(k=he,S=[zt,$t])}}else{var It=D._getDistance(c,n,rt);(k===void 0||It<k)&&(k=It,_=rt)}})};if(j(o),this.options.snapSegment){var Z=this._getClosestPointOnSegment(c,n,S[0],S[1]);return{latlng:O({},Z),segment:S,distance:k}}return{latlng:_,distance:k}},_getClosestLayerByPriority:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;n=n.sort(function(D,G){return D._leaflet_id-G._leaflet_id});var c=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],_=this._map.pm.globalOptions.snappingOrder||[],k=0,S={};return _.concat(c).forEach(function(D){S[D]||(k+=1,S[D]=k)}),n.sort(at("instanceofShape",S)),o===1?n[0]||{}:n.slice(0,o)},_checkPrioritiySnapping:function(n){var o=this._map,c=n.segment[0],_=n.segment[1],k=n.latlng,S=this._getDistance(o,c,k),D=this._getDistance(o,_,k),G=S<D?c:_,j=S<D?S:D;if(this.options.snapMiddle){var Z=L.PM.Utils.calcMiddleLatLng(o,c,_),J=this._getDistance(o,Z,k);J<S&&J<D&&(G=Z,j=J)}return O({},j<this.options.snapDistance?G:k)},_unsnap:function(){delete this._snapLatLng},_getClosestPointOnSegment:function(n,o,c,_){var k=n.getMaxZoom();k===1/0&&(k=n.getZoom());var S=n.project(o,k),D=n.project(c,k),G=n.project(_,k),j=L.LineUtil.closestPointOnSegment(S,D,G);return n.unproject(j,k)},_getDistanceToSegment:function(n,o,c,_){var k=n.latLngToLayerPoint(o),S=n.latLngToLayerPoint(c),D=n.latLngToLayerPoint(_);return L.LineUtil.pointToSegmentDistance(k,S,D)},_getDistance:function(n,o,c){return n.latLngToLayerPoint(o).distanceTo(n.latLngToLayerPoint(c))}};const C=w,A=L.Class.extend({includes:[C,Mt],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,editable:!1,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1},setOptions:function(n){L.Util.setOptions(this,n),this.setStyle(this.options)},setStyle:function(){},getOptions:function(){return this.options},initialize:function(n){var o=this,c=new L.Icon.Default;c.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=c,this._map=n,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(function(_){o[_]=new L.PM.Draw[_](o._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions:function(n){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.options.pathOptions=o?p()(this.options.pathOptions,n):n},getShapes:function(){return this.shapes},getShape:function(){return this._shape},enable:function(n,o){if(!n)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[n].enable(o)},disable:function(){var n=this;this.shapes.forEach(function(o){n[o].disable()})},addControls:function(){var n=this;this.shapes.forEach(function(o){n[o].addButton()})},getActiveShape:function(){var n,o=this;return this.shapes.forEach(function(c){o[c]._enabled&&(n=c)}),n},_setGlobalDrawMode:function(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();var n=L.PM.Utils.findLayers(this._map);this._enabled?n.forEach(function(o){L.PM.Utils.disablePopup(o)}):n.forEach(function(o){L.PM.Utils.enablePopup(o)})},createNewDrawInstance:function(n,o){var c=this._getShapeFromBtnName(o);if(this[n])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[c])throw new TypeError("There is no class L.PM.Draw.".concat(c));return this[n]=new L.PM.Draw[c](this._map),this[n].toolbarButtonName=n,this[n]._shape=n,this.shapes.push(n),this[o]&&this[n].setOptions(this[o].options),this[n].setOptions(this[n].options),this[n]},_getShapeFromBtnName:function(n){var o={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return o[n]?o[n]:this[n]?this[n]._shape:n},_finishLayer:function(n){n.pm&&(n.pm.setOptions(this.options),n.pm._shape=this._shape,n.pm._map=this._map),this._addDrawnLayerProp(n)},_addDrawnLayerProp:function(n){n._drawnByGeoman=!0},_setPane:function(n,o){o==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":o==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":o==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer:function(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}});A.Marker=A.extend({initialize:function(n){this._map=n,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(n){var o=this;L.Util.setOptions(this,n),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(function(c){o.isRelevantMarker(c)&&c.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var n=this;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},isRelevantMarker:function(n){return n instanceof L.Marker&&n.pm&&!n._pmTempLayer&&!n.pm._initTextMarker},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker:function(n){if(n.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),c=new L.Marker(o,this.options.markerStyle);this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable?c.pm.enable():c.dragging&&c.dragging.disable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},setStyle:function(){var n,o;(n=this.options.markerStyle)!==null&&n!==void 0&&n.icon&&((o=this._hintMarker)===null||o===void 0||o.setIcon(this.options.markerStyle.icon))}});var N=63710088e-1,Y={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*N,kilometers:6371.0088,kilometres:6371.0088,meters:N,metres:N,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:N/1852,radians:1,yards:6967335223679999e-9};function Q(n,o,c){c===void 0&&(c={});var _={type:"Feature"};return(c.id===0||c.id)&&(_.id=c.id),c.bbox&&(_.bbox=c.bbox),_.properties=o||{},_.geometry=n,_}function ft(n,o,c){if(c===void 0&&(c={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ae(n[0])||!ae(n[1]))throw new Error("coordinates must contain numbers");return Q({type:"Point",coordinates:n},o,c)}function kt(n,o,c){if(c===void 0&&(c={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");return Q({type:"LineString",coordinates:n},o,c)}function Tt(n,o){o===void 0&&(o={});var c={type:"FeatureCollection"};return o.id&&(c.id=o.id),o.bbox&&(c.bbox=o.bbox),c.features=n,c}function Ft(n,o){o===void 0&&(o="kilometers");var c=Y[o];if(!c)throw new Error(o+" units is invalid");return n*c}function Vt(n,o){o===void 0&&(o="kilometers");var c=Y[o];if(!c)throw new Error(o+" units is invalid");return n/c}function le(n){return 180*(n%(2*Math.PI))/Math.PI}function Gt(n){return n%360*Math.PI/180}function ae(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Qt(n){var o,c,_={type:"FeatureCollection",features:[]};if((c=n.type==="Feature"?n.geometry:n).type==="LineString")o=[c.coordinates];else if(c.type==="MultiLineString")o=c.coordinates;else if(c.type==="MultiPolygon")o=[].concat.apply([],c.coordinates);else{if(c.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");o=c.coordinates}return o.forEach(function(k){o.forEach(function(S){for(var D=0;D<k.length-1;D++)for(var G=D;G<S.length-1;G++)if(!(k===S&&(Math.abs(D-G)===1||D===0&&G===k.length-2&&k[D][0]===k[k.length-1][0]&&k[D][1]===k[k.length-1][1]))){var j=ue(k[D][0],k[D][1],k[D+1][0],k[D+1][1],S[G][0],S[G][1],S[G+1][0],S[G+1][1]);j&&_.features.push(ft([j[0],j[1]]))}})}),_}function ue(n,o,c,_,k,S,D,G){var j,Z,J,lt,rt={x:null,y:null,onLine1:!1,onLine2:!1};return(j=(G-S)*(c-n)-(D-k)*(_-o))===0?rt.x!==null&&rt.y!==null&&rt:(lt=(c-n)*(Z=o-S)-(_-o)*(J=n-k),Z=((D-k)*Z-(G-S)*J)/j,J=lt/j,rt.x=n+Z*(c-n),rt.y=o+Z*(_-o),Z>=0&&Z<=1&&(rt.onLine1=!0),J>=0&&J<=1&&(rt.onLine2=!0),!(!rt.onLine1||!rt.onLine2)&&[rt.x,rt.y])}function Le(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function Ie(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Le(Object(c),!0).forEach(function(_){Ne(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):Le(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function Ne(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}function nn(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function Xe(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?nn(Object(c),!0).forEach(function(_){Fe(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):nn(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function Fe(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}function Qe(n,o){var c=Object.keys(n);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(n);o&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(n,k).enumerable})),c.push.apply(c,_)}return c}function dn(n){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Qe(Object(c),!0).forEach(function(_){In(n,_,c[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):Qe(Object(c)).forEach(function(_){Object.defineProperty(n,_,Object.getOwnPropertyDescriptor(c,_))})}return n}function In(n,o,c){return o in n?Object.defineProperty(n,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[o]=c,n}function ze(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Te(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function wn(n){return n.type==="Feature"?n.geometry:n}function Gi(n,o){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function vr(n,o,c){if(n!==null)for(var _,k,S,D,G,j,Z,J,lt=0,rt=0,yt=n.type,xt=yt==="FeatureCollection",zt=yt==="Feature",$t=xt?n.features.length:1,he=0;he<$t;he++){G=(J=!!(Z=xt?n.features[he].geometry:zt?n.geometry:n)&&Z.type==="GeometryCollection")?Z.geometries.length:1;for(var It=0;It<G;It++){var ce=0,me=0;if((D=J?Z.geometries[It]:Z)!==null){j=D.coordinates;var Re=D.type;switch(lt=!c||Re!=="Polygon"&&Re!=="MultiPolygon"?0:1,Re){case null:break;case"Point":if(o(j,rt,he,ce,me)===!1)return!1;rt++,ce++;break;case"LineString":case"MultiPoint":for(_=0;_<j.length;_++){if(o(j[_],rt,he,ce,me)===!1)return!1;rt++,Re==="MultiPoint"&&ce++}Re==="LineString"&&ce++;break;case"Polygon":case"MultiLineString":for(_=0;_<j.length;_++){for(k=0;k<j[_].length-lt;k++){if(o(j[_][k],rt,he,ce,me)===!1)return!1;rt++}Re==="MultiLineString"&&ce++,Re==="Polygon"&&me++}Re==="Polygon"&&ce++;break;case"MultiPolygon":for(_=0;_<j.length;_++){for(me=0,k=0;k<j[_].length;k++){for(S=0;S<j[_][k].length-lt;S++){if(o(j[_][k][S],rt,he,ce,me)===!1)return!1;rt++}me++}ce++}break;case"GeometryCollection":for(_=0;_<D.geometries.length;_++)if(vr(D.geometries[_],o,c)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function bi(n,o){if(n.type==="Feature")o(n,0);else if(n.type==="FeatureCollection")for(var c=0;c<n.features.length&&o(n.features[c],c)!==!1;c++);}function Os(n,o){var c,_,k,S,D,G,j,Z,J,lt,rt=0,yt=n.type==="FeatureCollection",xt=n.type==="Feature",zt=yt?n.features.length:1;for(c=0;c<zt;c++){for(G=yt?n.features[c].geometry:xt?n.geometry:n,Z=yt?n.features[c].properties:xt?n.properties:{},J=yt?n.features[c].bbox:xt?n.bbox:void 0,lt=yt?n.features[c].id:xt?n.id:void 0,D=(j=!!G&&G.type==="GeometryCollection")?G.geometries.length:1,k=0;k<D;k++)if((S=j?G.geometries[k]:G)!==null)switch(S.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(o(S,rt,Z,J,lt)===!1)return!1;break;case"GeometryCollection":for(_=0;_<S.geometries.length;_++)if(o(S.geometries[_],rt,Z,J,lt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(o(null,rt,Z,J,lt)===!1)return!1;rt++}}function br(n,o){Os(n,function(c,_,k,S,D){var G,j=c===null?null:c.type;switch(j){case null:case"Point":case"LineString":case"Polygon":return o(Q(c,k,{bbox:S,id:D}),_,0)!==!1&&void 0}switch(j){case"MultiPoint":G="Point";break;case"MultiLineString":G="LineString";break;case"MultiPolygon":G="Polygon"}for(var Z=0;Z<c.coordinates.length;Z++){var J=c.coordinates[Z];if(o(Q({type:G,coordinates:J},k),_,Z)===!1)return!1}})}A.Line=A.extend({initialize:function(n){this._map=n,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(n){L.Util.setOptions(this,n),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],Ie(Ie({},this.options.templineStyle),{},{pmIgnore:!1})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_syncHintLine:function(){var n=this._layer.getLatLngs();if(n.length>0){var o=n[n.length-1];this._hintline.setLatLngs([o,this._hintMarker.getLatLng()])}},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());var c=this._layer._defaultShape().slice();c.push(this._hintMarker.getLatLng()),this._change(c)},hasSelfIntersection:function(){return Qt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection:function(n,o){var c=L.polyline(this._layer.getLatLngs());n&&(o||(o=this._hintMarker.getLatLng()),c.addLatLng(o));var _=Qt(c.toGeoJSON(15));this._doesSelfIntersect=_.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"#f00000ff"}):this._hintline.isEmpty()||this._hintline.setStyle(this.options.hintlineStyle)},_createVertex:function(n){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,n.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),c=this._layer.getLatLngs(),_=c[c.length-1];if(o.equals(c[0])||c.length>0&&o.equals(_))this._finishShape();else{this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:o,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(o);var k=this._createMarker(o);this._setTooltipText(),this._setHintLineAfterNewVertex(o),this._fireVertexAdded(k,void 0,o,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(n)}}},_setHintLineAfterNewVertex:function(n){this._hintline.setLatLngs([n,n])},_removeLastVertex:function(){var n=this._markers;if(n.length<=1)this.disable();else{var o=this._layer.getLatLngs(),c=n[n.length-1],_=L.PM.Utils.findDeepMarkerIndex(n,c).indexPath;n.pop(),this._layerGroup.removeLayer(c);var k=n[n.length-1],S=o.indexOf(k.getLatLng());o=o.slice(0,S+1),this._layer.setLatLngs(o),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(c,_,"Draw"),this._change(this._layer.getLatLngs())}},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var n=this._layer.getLatLngs();if(!(n.length<=1)){var o=L.polyline(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),this._fireCreate(o),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}}},_createMarker:function(n){var o=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._markers.push(o),o.on("click",this._finishShape,this),o},_setTooltipText:function(){var n="";n=Pt(this._layer.getLatLngs().flat().length<=1?"tooltips.continueLine":"tooltips.finishLine"),this._hintMarker.setTooltipContent(n)},_change:function(n){this._fireChange(n,"Draw")},setStyle:function(){var n,o;(n=this._layer)===null||n===void 0||n.setStyle(this.options.templineStyle),(o=this._hintline)===null||o===void 0||o.setStyle(this.options.hintlineStyle)}}),A.Polygon=A.Line.extend({initialize:function(n){this._map=n,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable:function(n){L.PM.Draw.Line.prototype.enable.call(this,n),this._layer.pm._shape="Polygon"},_createMarker:function(n){var o=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this._layerGroup.addLayer(o),this._markers.push(o),this._layer.getLatLngs().flat().length===1?(o.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(o)-1,this.options.snappable&&this._cleanupSnapping()):o.on("click",function(){return 1}),o},_setTooltipText:function(){var n="";n=Pt(this._layer.getLatLngs().flat().length<=2?"tooltips.continueLine":"tooltips.finishPoly"),this._hintMarker.setTooltipContent(n)},_finishShape:function(){if((this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var n=this._layer.getLatLngs();if(!(n.length<=2)){var o=L.polygon(n,this.options.pathOptions);this._setPane(o,"layerPane"),this._finishLayer(o),o.addTo(this._map.pm._getContainingLayer()),this._fireCreate(o),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}}}),A.Rectangle=A.extend({initialize:function(n){this._map=n,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(n){if(L.Util.setOptions(this,n),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(var o=0;o<2;o+=1){var c=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(c,"vertexPane"),c._pmTempLayer=!0,this._layerGroup.addLayer(c),this._styleMarkers.push(c)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_placeStartingMarkers:function(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(o),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(c){L.DomUtil.addClass(c._icon,"visible"),c.setLatLng(o)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Pt("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin:function(){var n=this._startMarker.getLatLng();n&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([n,n]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}var c=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(c,"Draw")},_syncRectangleSize:function(){var n=this,o=bt(this._startMarker.getLatLng(),this._map),c=bt(this._hintMarker.getLatLng(),this._map),_=L.PM.Utils._getRotatedRectangle(o,c,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(_),this.options.cursorMarker&&this._styleMarkers){var k=[];_.forEach(function(S){S.equals(o,1e-8)||S.equals(c,1e-8)||k.push(S)}),k.forEach(function(S,D){try{n._styleMarkers[D].setLatLng(S)}catch{}})}},_findCorners:function(){var n=this._layer.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]},_finishShape:function(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),c=this._startMarker.getLatLng();if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){var _=L.rectangle([c,o],this.options.pathOptions);if(this.options.rectangleAngle){var k=L.PM.Utils._getRotatedRectangle(c,o,this.options.rectangleAngle||0,this._map);_.setLatLngs(k),_.pm&&_.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(_,"layerPane"),this._finishLayer(_),_.addTo(this._map.pm._getContainingLayer()),this._fireCreate(_),this.disable(),this.options.continueDrawing&&this.enable()}},setStyle:function(){var n;(n=this._layer)===null||n===void 0||n.setStyle(this.options.pathOptions)}}),A.Circle=A.extend({initialize:function(n){this._map=n,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(n){L.Util.setOptions(this,n),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle(this._map.getCenter(),Xe(Xe({},this.options.templineStyle),{},{radius:0})),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([n,o])},_syncCircleRadius:function(){var n,o=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng();n=this._map.options.crs===L.CRS.Simple?this._map.distance(o,c):o.distanceTo(c),this.options.minRadiusCircle&&n<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&n>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(n)},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this._handleHintMarkerSnapping();var c=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(c,"Draw")},_placeCenterMarker:function(n){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(o),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var n=this._centerMarker.getLatLng();n&&(this._layer.setLatLng(n),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Pt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_finishShape:function(n){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o,c=this._centerMarker.getLatLng(),_=this._hintMarker.getLatLng();o=this._map.options.crs===L.CRS.Simple?this._map.distance(c,_):c.distanceTo(_),this.options.minRadiusCircle&&o<this.options.minRadiusCircle?o=this.options.minRadiusCircle:this.options.maxRadiusCircle&&o>this.options.maxRadiusCircle&&(o=this.options.maxRadiusCircle);var k=Xe(Xe({},this.options.pathOptions),{},{radius:o}),S=L.circle(c,k);this._setPane(S,"layerPane"),this._finishLayer(S),S.addTo(this._map.pm._getContainingLayer()),S.pm&&S.pm._updateHiddenPolyCircle(),this._fireCreate(S),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var n=this._hintMarker.getLatLng();if(!this._layerGroup.hasLayer(this._centerMarker))return n;var o=this._centerMarker.getLatLng(),c=o.distanceTo(n);return this.options.minRadiusCircle&&c<this.options.minRadiusCircle?n=Ot(this._map,o,n,this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(n=Ot(this._map,o,n,this.options.maxRadiusCircle)),n},_handleHintMarkerSnapping:function(){if(this._hintMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),c=n.distanceTo(o);this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircle&&c<this.options.minRadiusCircle||this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())},setStyle:function(){var n,o;(n=this._layer)===null||n===void 0||n.setStyle(this.options.templineStyle),(o=this._hintline)===null||o===void 0||o.setStyle(this.options.hintlineStyle)}}),A.CircleMarker=A.Marker.extend({initialize:function(n){this._map=n,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1},enable:function(n){var o=this;if(L.Util.setOptions(this,n),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this.options.editable){var c={};L.extend(c,this.options.templineStyle),c.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circleMarker(this._map.getCenter(),c),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this),this._map._container.style.cursor="crosshair"}else this._map.on("click",this._createMarker,this),this._hintMarker=L.circleMarker(this._map.getCenter(),this.options.templineStyle),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),!this.options.editable&&this.options.markerEditable&&this._map.eachLayer(function(_){o.isRelevantMarker(_)&&_.pm.enable()}),this._layer.bringToBack(),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){var n=this;this._enabled&&(this._enabled=!1,this.options.editable?(this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._map.eachLayer(function(o){n.isRelevantMarker(o)&&o.pm.disable()}),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_placeCenterMarker:function(n){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(o),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var n=this._centerMarker.getLatLng();n&&(this._layer.setLatLng(n),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Pt("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([n,o])},_syncCircleRadius:function(){var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(o));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(c)},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}this._handleHintMarkerSnapping();var c=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(c,"Draw")},isRelevantMarker:function(n){return n instanceof L.CircleMarker&&!(n instanceof L.Circle)&&n.pm&&!n._pmTempLayer},_createMarker:function(n){if((!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())&&n.latlng&&!this._layerIsDragging){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._hintMarker.getLatLng(),c=L.circleMarker(o,this.options.pathOptions);this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),c.pm&&this.options.markerEditable&&c.pm.enable(),this._fireCreate(c),this._cleanupSnapping(),this.options.continueDrawing||this.disable()}},_finishShape:function(n){if(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer()){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var o=this._centerMarker.getLatLng(),c=this._hintMarker.getLatLng(),_=this._map.project(o).distanceTo(this._map.project(c));this.options.editable&&(this.options.minRadiusCircleMarker&&_<this.options.minRadiusCircleMarker?_=this.options.minRadiusCircleMarker:this.options.maxRadiusCircleMarker&&_>this.options.maxRadiusCircleMarker&&(_=this.options.maxRadiusCircleMarker));var k=dn(dn({},this.options.pathOptions),{},{radius:_}),S=L.circleMarker(o,k);this._setPane(S,"layerPane"),this._finishLayer(S),S.addTo(this._map.pm._getContainingLayer()),S.pm&&S.pm._updateHiddenPolyCircle(),this._fireCreate(S),this.disable(),this.options.continueDrawing&&this.enable()}},_getNewDestinationOfHintMarker:function(){var n=this._hintMarker.getLatLng();if(this.options.editable){if(!this._layerGroup.hasLayer(this._centerMarker))return n;var o=this._centerMarker.getLatLng(),c=this._map.project(o).distanceTo(this._map.project(n));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?n=Ot(this._map,o,n,this._pxRadiusToMeter(this.options.minRadiusCircleMarker)):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker&&(n=Ot(this._map,o,n,this._pxRadiusToMeter(this.options.maxRadiusCircleMarker)))}return n},_handleHintMarkerSnapping:function(){if(this.options.editable){if(this._hintMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._hintMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(o));this._layerGroup.hasLayer(this._centerMarker)&&(this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker)&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng)}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},_pxRadiusToMeter:function(n){var o=this._centerMarker.getLatLng(),c=this._map.project(o),_=L.point(c.x+n,c.y);return this._map.unproject(_).distanceTo(o)},setStyle:function(){var n,o,c={};L.extend(c,this.options.templineStyle),this.options.editable&&(c.radius=0),(n=this._layer)===null||n===void 0||n.setStyle(c),(o=this._hintline)===null||o===void 0||o.setStyle(this.options.hintlineStyle)}});const He=function(n){if(!n)throw new Error("geojson is required");var o=[];return br(n,function(c){(function(_,k){var S=[],D=_.geometry;if(D!==null){switch(D.type){case"Polygon":S=Te(D);break;case"LineString":S=[Te(D)]}S.forEach(function(G){var j=function(Z,J){var lt=[];return Z.reduce(function(rt,yt){var xt,zt,$t,he,It,ce,me=kt([rt,yt],J);return me.bbox=(zt=yt,$t=(xt=rt)[0],he=xt[1],It=zt[0],ce=zt[1],[$t<It?$t:It,he<ce?he:ce,$t>It?$t:It,he>ce?he:ce]),lt.push(me),yt}),lt}(G,_.properties);j.forEach(function(Z){Z.id=k.length,k.push(Z)})})}})(c,o)}),Tt(o)};var At=u(1787);function Lr(n,o){var c=Te(n),_=Te(o);if(c.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(_.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var k=c[0][0],S=c[0][1],D=c[1][0],G=c[1][1],j=_[0][0],Z=_[0][1],J=_[1][0],lt=_[1][1],rt=(lt-Z)*(D-k)-(J-j)*(G-S),yt=(J-j)*(S-Z)-(lt-Z)*(k-j),xt=(D-k)*(S-Z)-(G-S)*(k-j);if(rt===0)return null;var zt=yt/rt,$t=xt/rt;return zt>=0&&zt<=1&&$t>=0&&$t<=1?ft([k+zt*(D-k),S+zt*(G-S)]):null}const xn=function(n,o){var c={},_=[];if(n.type==="LineString"&&(n=Q(n)),o.type==="LineString"&&(o=Q(o)),n.type==="Feature"&&o.type==="Feature"&&n.geometry!==null&&o.geometry!==null&&n.geometry.type==="LineString"&&o.geometry.type==="LineString"&&n.geometry.coordinates.length===2&&o.geometry.coordinates.length===2){var k=Lr(n,o);return k&&_.push(k),Tt(_)}var S=At();return S.load(He(o)),bi(He(n),function(D){bi(S.search(D),function(G){var j=Lr(D,G);if(j){var Z=Te(j).join(",");c[Z]||(c[Z]=!0,_.push(j))}})}),Tt(_)},Mn=function(n,o,c){c===void 0&&(c={});var _=ze(n),k=ze(o),S=Gt(k[1]-_[1]),D=Gt(k[0]-_[0]),G=Gt(_[1]),j=Gt(k[1]),Z=Math.pow(Math.sin(S/2),2)+Math.pow(Math.sin(D/2),2)*Math.cos(G)*Math.cos(j);return Ft(2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z)),c.units)},uo=function(n){var o=n[0],c=n[1],_=n[2],k=n[3];if(Mn(n.slice(0,2),[_,c])>=Mn(n.slice(0,2),[o,k])){var S=(c+k)/2;return[o,S-(_-o)/2,_,S+(_-o)/2]}var D=(o+_)/2;return[D-(k-c)/2,c,D+(k-c)/2,k]};function Li(n){var o=[1/0,1/0,-1/0,-1/0];return vr(n,function(c){o[0]>c[0]&&(o[0]=c[0]),o[1]>c[1]&&(o[1]=c[1]),o[2]<c[0]&&(o[2]=c[0]),o[3]<c[1]&&(o[3]=c[1])}),o}Li.default=Li;const Qn=Li,ti=function(n,o){o===void 0&&(o={});var c=o.precision,_=o.coordinates,k=o.mutate;if(c=c==null||isNaN(c)?6:c,_=_==null||isNaN(_)?3:_,!n)throw new Error("<geojson> is required");if(typeof c!="number")throw new Error("<precision> must be a number");if(typeof _!="number")throw new Error("<coordinates> must be a number");k!==!1&&k!==void 0||(n=JSON.parse(JSON.stringify(n)));var S=Math.pow(10,c);return vr(n,function(D){(function(G,j,Z){G.length>Z&&G.splice(Z,G.length);for(var J=0;J<G.length;J++)G[J]=Math.round(G[J]*j)/j})(D,S,_)}),n};function kr(n,o,c){if(c===void 0&&(c={}),c.final===!0)return function(lt,rt){var yt=kr(rt,lt);return yt=(yt+180)%360}(n,o);var _=ze(n),k=ze(o),S=Gt(_[0]),D=Gt(k[0]),G=Gt(_[1]),j=Gt(k[1]),Z=Math.sin(D-S)*Math.cos(j),J=Math.cos(G)*Math.sin(j)-Math.sin(G)*Math.cos(j)*Math.cos(D-S);return le(Math.atan2(Z,J))}function ho(n,o,c,_){_===void 0&&(_={});var k=ze(n),S=Gt(k[0]),D=Gt(k[1]),G=Gt(c),j=Vt(o,_.units),Z=Math.asin(Math.sin(D)*Math.cos(j)+Math.cos(D)*Math.sin(j)*Math.cos(G));return ft([le(S+Math.atan2(Math.sin(G)*Math.sin(j)*Math.cos(D),Math.cos(j)-Math.sin(D)*Math.sin(Z))),le(Z)],_.properties)}const Rs=function(n,o,c){c===void 0&&(c={});var _=ft([1/0,1/0],{dist:1/0}),k=0;return br(n,function(S){for(var D=Te(S),G=0;G<D.length-1;G++){var j=ft(D[G]);j.properties.dist=Mn(o,j,c);var Z=ft(D[G+1]);Z.properties.dist=Mn(o,Z,c);var J=Mn(j,Z,c),lt=Math.max(j.properties.dist,Z.properties.dist),rt=kr(j,Z),yt=ho(o,lt,rt+90,c),xt=ho(o,lt,rt-90,c),zt=xn(kt([yt.geometry.coordinates,xt.geometry.coordinates]),kt([j.geometry.coordinates,Z.geometry.coordinates])),$t=null;zt.features.length>0&&(($t=zt.features[0]).properties.dist=Mn(o,$t,c),$t.properties.location=k+Mn(j,$t,c)),j.properties.dist<_.properties.dist&&((_=j).properties.index=G,_.properties.location=k),Z.properties.dist<_.properties.dist&&((_=Z).properties.index=G+1,_.properties.location=k+J),$t&&$t.properties.dist<_.properties.dist&&((_=$t).properties.index=G),k+=J}}),_};function co(n,o){var c=[],_=At();return br(o,function(k){if(c.forEach(function(G,j){G.id=j}),c.length){var S=_.search(k);if(S.features.length){var D=xr(k,S);c=c.filter(function(G){return G.id!==D.id}),_.remove(D),bi(wr(D,k),function(G){c.push(G),_.insert(G)})}}else(c=wr(n,k).features).forEach(function(G){G.bbox||(G.bbox=uo(Qn(G)))}),_.load(Tt(c))}),Tt(c)}function wr(n,o){var c=[],_=Te(n)[0],k=Te(n)[n.geometry.coordinates.length-1];if(Mr(_,ze(o))||Mr(k,ze(o)))return Tt([n]);var S=At(),D=He(n);S.load(D);var G=S.search(o);if(!G.features.length)return Tt([n]);var j=xr(o,G),Z=function(J,lt,rt){var yt=rt;return bi(J,function(xt,zt){yt=zt===0&&rt===void 0?xt:lt(yt,xt,zt)}),yt}(D,function(J,lt,rt){var yt=Te(lt)[1],xt=ze(o);return rt===j.id?(J.push(xt),c.push(kt(J)),Mr(xt,yt)?[xt]:[xt,yt]):(J.push(yt),J)},[_]);return Z.length>1&&c.push(kt(Z)),Tt(c)}function xr(n,o){if(!o.features.length)throw new Error("lines must contain features");if(o.features.length===1)return o.features[0];var c,_=1/0;return bi(o,function(k){var S=Rs(k,n).properties.dist;S<_&&(c=k,_=S)}),c}function Mr(n,o){return n[0]===o[0]&&n[1]===o[1]}const Zi=function(n,o){if(!n)throw new Error("line is required");if(!o)throw new Error("splitter is required");var c=Gi(n),_=Gi(o);if(c!=="LineString")throw new Error("line must be LineString");if(_==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(_==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var k=ti(o,{precision:7});switch(_){case"Point":return wr(n,k);case"MultiPoint":return co(n,k);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return co(n,xn(n,k))}};function Vi(n,o,c){if(c===void 0&&(c={}),!n)throw new Error("point is required");if(!o)throw new Error("polygon is required");var _=ze(n),k=wn(o),S=k.type,D=o.bbox,G=k.coordinates;if(D&&function(rt,yt){return yt[0]<=rt[0]&&yt[1]<=rt[1]&&yt[2]>=rt[0]&&yt[3]>=rt[1]}(_,D)===!1)return!1;S==="Polygon"&&(G=[G]);for(var j=!1,Z=0;Z<G.length&&!j;Z++)if(fo(_,G[Z][0],c.ignoreBoundary)){for(var J=!1,lt=1;lt<G[Z].length&&!J;)fo(_,G[Z][lt],!c.ignoreBoundary)&&(J=!0),lt++;J||(j=!0)}return j}function fo(n,o,c){var _=!1;o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]&&(o=o.slice(0,o.length-1));for(var k=0,S=o.length-1;k<o.length;S=k++){var D=o[k][0],G=o[k][1],j=o[S][0],Z=o[S][1];if(n[1]*(D-j)+G*(j-n[0])+Z*(n[0]-D)==0&&(D-n[0])*(j-n[0])<=0&&(G-n[1])*(Z-n[1])<=0)return!c;G>n[1]!=Z>n[1]&&n[0]<(j-D)*(n[1]-G)/(Z-G)+D&&(_=!_)}return _}function As(n,o,c,_,k){var S=c[0],D=c[1],G=n[0],j=n[1],Z=o[0],J=o[1],lt=Z-G,rt=J-j,yt=(c[0]-G)*rt-(c[1]-j)*lt;if(k!==null){if(Math.abs(yt)>k)return!1}else if(yt!==0)return!1;return _?_==="start"?Math.abs(lt)>=Math.abs(rt)?lt>0?G<S&&S<=Z:Z<=S&&S<G:rt>0?j<D&&D<=J:J<=D&&D<j:_==="end"?Math.abs(lt)>=Math.abs(rt)?lt>0?G<=S&&S<Z:Z<S&&S<=G:rt>0?j<=D&&D<J:J<D&&D<=j:_==="both"&&(Math.abs(lt)>=Math.abs(rt)?lt>0?G<S&&S<Z:Z<S&&S<G:rt>0?j<D&&D<J:J<D&&D<j):Math.abs(lt)>=Math.abs(rt)?lt>0?G<=S&&S<=Z:Z<=S&&S<=G:rt>0?j<=D&&D<=J:J<=D&&D<=j}const ki=function(n,o,c){c===void 0&&(c={});for(var _=ze(n),k=Te(o),S=0;S<k.length-1;S++){var D=!1;if(c.ignoreEndVertices&&(S===0&&(D="start"),S===k.length-2&&(D="end"),S===0&&S+1===k.length-1&&(D="both")),As(k[S],k[S+1],_,D,typeof c.epsilon>"u"?null:c.epsilon))return!0}return!1};function Bs(n,o){var c=wn(n),_=wn(o),k=c.type,S=_.type,D=c.coordinates,G=_.coordinates;switch(k){case"Point":if(S==="Point")return Nn(D,G);throw new Error("feature2 "+S+" geometry not supported");case"MultiPoint":switch(S){case"Point":return function(j,Z){var J,lt=!1;for(J=0;J<j.coordinates.length;J++)if(Nn(j.coordinates[J],Z.coordinates)){lt=!0;break}return lt}(c,_);case"MultiPoint":return function(j,Z){for(var J=0,lt=Z.coordinates;J<lt.length;J++){for(var rt=lt[J],yt=!1,xt=0,zt=j.coordinates;xt<zt.length;xt++)if(Nn(rt,zt[xt])){yt=!0;break}if(!yt)return!1}return!0}(c,_);default:throw new Error("feature2 "+S+" geometry not supported")}case"LineString":switch(S){case"Point":return ki(_,c,{ignoreEndVertices:!0});case"LineString":return function(j,Z){for(var J=!1,lt=0,rt=Z.coordinates;lt<rt.length;lt++){var yt=rt[lt];if(ki({type:"Point",coordinates:yt},j,{ignoreEndVertices:!0})&&(J=!0),!ki({type:"Point",coordinates:yt},j,{ignoreEndVertices:!1}))return!1}return J}(c,_);case"MultiPoint":return function(j,Z){for(var J=!1,lt=0,rt=Z.coordinates;lt<rt.length;lt++){var yt=rt[lt];if(ki(yt,j,{ignoreEndVertices:!0})&&(J=!0),!ki(yt,j))return!1}return!!J}(c,_);default:throw new Error("feature2 "+S+" geometry not supported")}case"Polygon":switch(S){case"Point":return Vi(_,c,{ignoreBoundary:!0});case"LineString":return function(j,Z){var J=!1,lt=0,rt=Qn(j),yt=Qn(Z);if(!Hi(rt,yt))return!1;for(;lt<Z.coordinates.length-1;lt++)if(Vi({type:"Point",coordinates:po(Z.coordinates[lt],Z.coordinates[lt+1])},j,{ignoreBoundary:!0})){J=!0;break}return J}(c,_);case"Polygon":return function(j,Z){if(j.type==="Feature"&&j.geometry===null||Z.type==="Feature"&&Z.geometry===null)return!1;var J=Qn(j),lt=Qn(Z);if(!Hi(J,lt))return!1;for(var rt=wn(Z).coordinates,yt=0,xt=rt;yt<xt.length;yt++)for(var zt=0,$t=xt[yt];zt<$t.length;zt++)if(!Vi($t[zt],j))return!1;return!0}(c,_);case"MultiPoint":return function(j,Z){for(var J=0,lt=Z.coordinates;J<lt.length;J++)if(!Vi(lt[J],j,{ignoreBoundary:!0}))return!1;return!0}(c,_);default:throw new Error("feature2 "+S+" geometry not supported")}default:throw new Error("feature1 "+k+" geometry not supported")}}function Hi(n,o){return!(n[0]>o[0])&&!(n[2]<o[2])&&!(n[1]>o[1])&&!(n[3]<o[3])}function Nn(n,o){return n[0]===o[0]&&n[1]===o[1]}function po(n,o){return[(n[0]+o[0])/2,(n[1]+o[1])/2]}var _o=u(2676),ei=u.n(_o);function te(n){var o={type:"Feature"};return o.geometry=n,o}function _e(n){return n.type==="Feature"?n.geometry:n}function wi(n){return n&&n.geometry&&n.geometry.coordinates?n.geometry.coordinates:n}function zn(n){return te({type:"Polygon",coordinates:n})}function jn(n){return te({type:"MultiPolygon",coordinates:n})}function Ki(n){return Array.isArray(n)?1+Ki(n[0]):-1}function qt(n){n instanceof L.Polyline&&(n=n.toGeoJSON(15));var o=wi(n),c=Ki(o),_=[];return c>1?o.forEach(function(k){_.push(function(S){return te({type:"LineString",coordinates:S})}(k))}):_.push(n),_}function ke(n){var o=[];return n.eachLayer(function(c){o.push(wi(c.toGeoJSON(15)))}),function(c){return te({type:"MultiLineString",coordinates:c})}(o)}function Pr(n,o){return function(c){if(Array.isArray(c))return c}(n)||function(c,_){var k=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(k!=null){var S,D,G=[],j=!0,Z=!1;try{for(k=k.call(c);!(j=(S=k.next()).done)&&(G.push(S.value),!_||G.length!==_);j=!0);}catch(J){Z=!0,D=J}finally{try{j||k.return==null||k.return()}finally{if(Z)throw D}}return G}}(n,o)||function(c,_){if(c){if(typeof c=="string")return xi(c,_);var k=Object.prototype.toString.call(c).slice(8,-1);if(k==="Object"&&c.constructor&&(k=c.constructor.name),k==="Map"||k==="Set")return Array.from(c);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return xi(c,_)}}(n,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xi(n,o){(o==null||o>n.length)&&(o=n.length);for(var c=0,_=new Array(o);c<o;c++)_[c]=n[c];return _}function Ke(n){return function(o){if(Array.isArray(o))return Cr(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,c){if(o){if(typeof o=="string")return Cr(o,c);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Cr(o,c)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Cr(n,o){(o==null||o>n.length)&&(o=n.length);for(var c=0,_=new Array(o);c<o;c++)_[c]=n[c];return _}A.Cut=A.Polygon.extend({initialize:function(n){this._map=n,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape:function(){var n=this;if(this._editedLayers=[],(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),!this._doesSelfIntersect))&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){var o=this._layer.getLatLngs();if(!(o.length<=2)){var c=L.polygon(o,this.options.pathOptions);c._latlngInfos=this._layer._latlngInfo,this.cut(c),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(function(_){var k=_.layer,S=_.originalLayer;n._fireCut(S,k,S),n._fireCut(n._map,k,S),S.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()}}},cut:function(n){var o=this,c=this._map._layers,_=n._latlngInfos||[];Object.keys(c).map(function(k){return c[k]}).filter(function(k){return k.pm}).filter(function(k){return!k._pmTempLayer}).filter(function(k){return!L.PM.optIn&&!k.options.pmIgnore||L.PM.optIn&&k.options.pmIgnore===!1}).filter(function(k){return k instanceof L.Polyline}).filter(function(k){return k!==n}).filter(function(k){return k.pm.options.allowCutting}).filter(function(k){return!(o.options.layersToCut&&L.Util.isArray(o.options.layersToCut)&&o.options.layersToCut.length>0)||o.options.layersToCut.indexOf(k)>-1}).filter(function(k){return!o._layerGroup.hasLayer(k)}).filter(function(k){try{var S=!!xn(n.toGeoJSON(15),k.toGeoJSON(15)).features.length>0;return S||k instanceof L.Polyline&&!(k instanceof L.Polygon)?S:(D=n.toGeoJSON(15),G=k.toGeoJSON(15),j=_e(D),Z=_e(G),!((J=ei().intersection(j.coordinates,Z.coordinates)).length===0||!(J.length===1?zn(J[0]):jn(J))))}catch{return k instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}var D,G,j,Z,J}).forEach(function(k){var S;if(k instanceof L.Polygon){var D=(S=L.polygon(k.getLatLngs())).getLatLngs();_.forEach(function(rt){if(rt&&rt.snapInfo){var yt=rt.latlng,xt=o._calcClosestLayer(yt,[S]);if(xt&&xt.segment&&xt.distance<o.options.snapDistance){var zt=xt.segment;if(zt&&zt.length===2){var $t=L.PM.Utils._getIndexFromSegment(D,zt),he=$t.indexPath,It=$t.parentPath,ce=$t.newIndex;(he.length>1?dt()(D,It):D).splice(ce,0,yt)}}}})}else S=k;var G=o._cutLayer(n,S),j=L.geoJSON(G,k.options);if(j.getLayers().length===1){var Z=j.getLayers();j=Pr(Z,1)[0]}o._setPane(j,"layerPane");var J=j.addTo(o._map.pm._getContainingLayer());if(J.pm.enable(k.pm.options),J.pm.disable(),k._pmTempLayer=!0,n._pmTempLayer=!0,k.remove(),k.removeFrom(o._map.pm._getContainingLayer()),n.remove(),n.removeFrom(o._map.pm._getContainingLayer()),J.getLayers&&J.getLayers().length===0&&o._map.pm.removeLayer({target:J}),J instanceof L.LayerGroup&&J.eachLayer(function(rt){o._addDrawnLayerProp(rt)}),o._addDrawnLayerProp(J),o.options.layersToCut&&L.Util.isArray(o.options.layersToCut)&&o.options.layersToCut.length>0){var lt=o.options.layersToCut.indexOf(k);lt>-1&&o.options.layersToCut.splice(lt,1)}o._editedLayers.push({layer:J,originalLayer:k})})},_cutLayer:function(n,o){var c,_,k,S,D,G,j=L.geoJSON();if(o instanceof L.Polygon)_=o.toGeoJSON(15),k=n.toGeoJSON(15),S=_e(_),D=_e(k),c=(G=ei().difference(S.coordinates,D.coordinates)).length===0?null:G.length===1?zn(G[0]):jn(G);else{var Z=qt(o);Z.forEach(function(J){var lt=Zi(J,n.toGeoJSON(15));(lt&&lt.features.length>0?L.geoJSON(lt):L.geoJSON(J)).getLayers().forEach(function(rt){Bs(n.toGeoJSON(15),rt.toGeoJSON(15))||rt.addTo(j)})}),c=Z.length>1?ke(j):j.toGeoJSON(15)}return c},_change:L.Util.falseFn}),A.Text=A.extend({initialize:function(n){this._map=n,this._shape="Text",this.toolbarButtonName="drawText"},enable:function(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Pt("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._fireDrawStart(),this._setGlobalDrawMode()},disable:function(){this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled:function(){return this._enabled},toggle:function(n){this.enabled()?this.disable():this.enable(n)},_syncHintMarker:function(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){var o=n;o.target=this._hintMarker,this._handleSnapping(o)}},_createMarker:function(n){var o;if(n.latlng&&(!this.options.requireSnapToFinish||this._hintMarker._snapped||this._isFirstLayer())){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);var c=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(o=this.options.textOptions)!==null&&o!==void 0&&o.className){var _,k=this.options.textOptions.className.split(" ");(_=this.textArea.classList).add.apply(_,Ke(k))}var S=this._createTextIcon(this.textArea),D=new L.Marker(c,{textMarker:!0,_textMarkerOverPM:!0,icon:S});if(this._setPane(D,"markerPane"),this._finishLayer(D),D.pm||(D.options.draggable=!1),D.addTo(this._map.pm._getContainingLayer()),D.pm){var G,j,Z,J,lt;D.pm.textArea=this.textArea,L.setOptions(D.pm,{removeIfEmpty:(G=(j=this.options.textOptions)===null||j===void 0?void 0:j.removeIfEmpty)===null||G===void 0||G});var rt=(Z=(J=this.options.textOptions)===null||J===void 0?void 0:J.focusAfterDraw)===null||Z===void 0||Z;D.pm._createTextMarker(rt),(lt=this.options.textOptions)!==null&&lt!==void 0&&lt.text&&D.pm.setText(this.options.textOptions.text)}this._fireCreate(D),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()}},_createTextArea:function(){var n=document.createElement("textarea");return n.autofocus=!0,n.readOnly=!0,n.classList.add("pm-textarea","pm-disabled"),n},_createTextIcon:function(n){return L.divIcon({className:"pm-text-marker",html:n})}});const qi={enableLayerDrag:function(){if(this.options.draggable&&this._layer._map){this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,St(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;var n=this._getDOMElem();n&&(St(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(n)):L.DomEvent.on(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()}},disableLayerDrag:function(){this._layerDragEnabled=!1,St(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();var n=this._getDOMElem();n&&(St(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(n)):L.DomEvent.off(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging:function(){return this._dragging},layerDragEnabled:function(){return!!this._layerDragEnabled},_simulateMouseDownEvent:function(n){var o=n.touches?n.touches[0]:n,c={originalEvent:o,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(o),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseDown(c),!1},_simulateMouseMoveEvent:function(n){var o=n.touches?n.touches[0]:n,c={originalEvent:o,target:this._layer};return c.containerPoint=this._map.mouseEventToContainerPoint(o),c.latlng=this._map.containerPointToLatLng(c.containerPoint),this._dragMixinOnMouseMove(c),!1},_simulateMouseUpEvent:function(n){var o={originalEvent:n.touches?n.touches[0]:n,target:this._layer};return n.type.indexOf("touch")===-1&&(o.containerPoint=this._map.mouseEventToContainerPoint(n),o.latlng=this._map.containerPointToLatLng(o.containerPoint)),this._dragMixinOnMouseUp(o),!1},_dragMixinOnMouseDown:function(n){if(!(n.originalEvent.button>0)){this._overwriteEventIfItComesFromMarker(n);var o=n._fromLayerSync,c=this._syncLayers("_dragMixinOnMouseDown",n);this._layer instanceof L.Marker&&(!this.options.snappable||o||c?this._disableSnapping():this._initSnappableMarkers()),this._layer instanceof L.CircleMarker&&!(this._layer instanceof L.Circle)&&(!this.options.snappable||o||c?this._layer.pm.options.editable?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag():this._layer.pm.options.editable||this._initSnappableMarkersDrag()),this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=n.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)}},_dragMixinOnMouseMove:function(n){this._overwriteEventIfItComesFromMarker(n);var o=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",n),this._dragging||(this._dragging=!0,L.DomUtil.addClass(o,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=n.latlng),this._onLayerDrag(n),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp:function(n){var o=this,c=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",n),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),!!this._dragging&&(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(function(){o._dragging=!1,c&&L.DomUtil.removeClass(c,"leaflet-pm-dragging"),o._fireDragEnd(),o._fireEdit(),o._layerEdited=!0},10),!0)},_onLayerDrag:function(n){var o=n.latlng,c=o.lat-this._tempDragCoord.lat,_=o.lng-this._tempDragCoord.lng,k=function J(lt){return lt.map(function(rt){if(Array.isArray(rt))return J(rt);var yt={lat:rt.lat+c,lng:rt.lng+_};return(rt.alt||rt.alt===0)&&(yt.alt=rt.alt),yt})};if(this._layer instanceof L.Circle||this._layer instanceof L.CircleMarker&&this._layer.options.editable){var S=k([this._layer.getLatLng()]);this._layer.setLatLng(S[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){var D=this._layer.getLatLng();this._layer._snapped&&(D=this._layer._orgLatLng);var G=k([D]);this._layer.setLatLng(G[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){var j=k([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(j),this._fireChange(this._layer.getBounds(),"Edit")}else{var Z=k(this._layer.getLatLngs());this._layer.setLatLngs(Z),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=o,n.layer=this._layer,this._fireDrag(n)},addDraggingClass:function(){var n=this._getDOMElem();n&&L.DomUtil.addClass(n,"leaflet-pm-draggable")},removeDraggingClass:function(){var n=this._getDOMElem();n&&L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_getDOMElem:function(){var n=null;return this._layer._path?n=this._layer._path:this._layer._renderer&&this._layer._renderer._container?n=this._layer._renderer._container:this._layer._image?n=this._layer._image:this._layer._icon&&(n=this._layer._icon),n},_overwriteEventIfItComesFromMarker:function(n){n.target.getLatLng&&(!n.target._radius||n.target._radius<=10)&&(n.containerPoint=this._map.mouseEventToContainerPoint(n.originalEvent),n.latlng=this._map.containerPointToLatLng(n.containerPoint))},_syncLayers:function(n,o){var c=this;if(this.enabled())return!1;if(!o._fromLayerSync&&this._layer===o.target&&this.options.syncLayersOnDrag){o._fromLayerSync=!0;var _=[];if(L.Util.isArray(this.options.syncLayersOnDrag))_=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(function(D){D instanceof L.LayerGroup&&(_=_.concat(D.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(var k in this._parentLayerGroup){var S=this._parentLayerGroup[k];S.pm&&(_=S.pm.getLayers(!0))}return L.Util.isArray(_)&&_.length>0&&(_=_.filter(function(D){return!!D.pm}).filter(function(D){return!!D.pm.options.draggable})).forEach(function(D){D!==c._layer&&D.pm[n]&&(D._snapped=!1,D.pm[n](o))}),_.length>0}return!1},_stopDOMImageDrag:function(n){return n.preventDefault(),!1}};function Pn(n,o,c){var _=c.getMaxZoom();if(_===1/0&&(_=c.getZoom()),L.Util.isArray(n)){var k=[];return n.forEach(function(S){k.push(Pn(S,o,c))}),k}return n instanceof L.LatLng?function(S,D,G,j){return G.unproject(D.transform(G.project(S,j)),j)}(n,o,c,_):null}function ge(n,o){o instanceof L.Layer&&(o=o.getLatLng());var c=n.getMaxZoom();return c===1/0&&(c=n.getZoom()),n.project(o,c)}function rn(n,o){var c=n.getMaxZoom();return c===1/0&&(c=n.getZoom()),n.unproject(o,c)}var Mi={_onRotateStart:function(n){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=ge(this._map,this._rotationOriginLatLng),this._rotationStartPoint=ge(this._map,n.target.getLatLng()),this._initialRotateLatLng=vt(this._layer),this._startAngle=this.getAngle();var o=vt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,o),this._fireRotationStart(this._map,o)},_onRotate:function(n){var o=ge(this._map,n.target.getLatLng()),c=this._rotationStartPoint,_=this._rotationOriginPoint,k=Math.atan2(o.y-_.y,o.x-_.x)-Math.atan2(c.y-_.y,c.x-_.x);this._layer.setLatLngs(this._rotateLayer(k,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var S=this;(function Z(J){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(rt>-1&&lt.push(rt),L.Util.isArray(J[0]))J.forEach(function(xt,zt){return Z(xt,lt.slice(),zt)});else{var yt=dt()(S._markers,lt);J.forEach(function(xt,zt){yt[zt].setLatLng(xt)})}})(this._layer.getLatLngs());var D=vt(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(k,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));var G=180*k/Math.PI,j=(G=G<0?G+360:G)+this._startAngle;this._setAngle(j),this._rotationLayer.pm._setAngle(j),this._fireRotation(this._rotationLayer,G,D),this._fireRotation(this._map,G,D),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd:function(){var n=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;var o=vt(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=vt(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,n,o),this._fireRotationEnd(this._map,n,o),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer:function(n,o,c,_,k){var S=ge(k,c);return this._matrix=_.clone().rotate(n,S).flip(),Pn(o,this._matrix,k)},_setAngle:function(n){n=n<0?n+360:n,this._angle=n%360},_getRotationCenter:function(){var n=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),o=n.getCenter();return n.removeFrom(this._layer._map),o},enableRotate:function(){this.options.allowRotation?(this.rotateEnabled()&&this.disableRotate(),this._rotatePoly=L.polygon(this._layer.getLatLngs(),{fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0}),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=vt(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)):this.disableRotate()},disableRotate:function(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled:function(){return this._rotateEnabled},rotateLayer:function(n){var o=this.getAngle(),c=this._layer.getLatLngs(),_=n*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(_,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+n),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(_,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());var k=this.getAngle()-o;k=k<0?k+360:k,this._startAngle=o,this._fireRotation(this._layer,k,c,this._layer),this._fireRotation(this._map||this._layer._map,k,c,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle:function(n){var o=n-this.getAngle();this.rotateLayer(o)},getAngle:function(){return this._angle||0},setInitAngle:function(n){this._setAngle(n)}};const Pi=Mi,we=L.Class.extend({includes:[qi,C,Pi,Mt],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0},setOptions:function(n){L.Util.setOptions(this,n)},getOptions:function(){return this.options},applyOptions:function(){},isPolygon:function(){return this._layer instanceof L.Polygon},getShape:function(){return this._shape},_setPane:function(n,o){o==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":o==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":o==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove:function(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation:function(n,o){var c=o.target,_={layer:this._layer,marker:c,event:o},k="";return n==="move"?k="moveVertexValidation":n==="add"?k="addVertexValidation":n==="remove"&&(k="removeVertexValidation"),this.options[k]&&typeof this.options[k]=="function"&&!this.options[k](_)?(n==="move"&&(c._cancelDragEventChain=c.getLatLng()),!1):(c._cancelDragEventChain=null,!0)},_vertexValidationDrag:function(n){return!n._cancelDragEventChain||(n._latlng=n._cancelDragEventChain,n.update(),!1)},_vertexValidationDragEnd:function(n){return!n._cancelDragEventChain||(n._cancelDragEventChain=null,!1)}});function Cn(n){return function(o){if(Array.isArray(o))return Ci(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,c){if(o){if(typeof o=="string")return Ci(o,c);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Ci(o,c)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ci(n,o){(o==null||o>n.length)&&(o=n.length);for(var c=0,_=new Array(o);c<o;c++)_[c]=n[c];return _}we.LayerGroup=L.Class.extend({initialize:function(n){var o=this;this._layerGroup=n,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(function(c){return o._initLayer(c)}),this._layerGroup.on("layeradd",L.Util.throttle(function(c){if(!c.layer._pmTempLayer){o._layers=o.getLayers();var _=o._layers.filter(function(k){return!k.pm._parentLayerGroup||!(o._layerGroup._leaflet_id in k.pm._parentLayerGroup)});_.forEach(function(k){o._initLayer(k)}),_.length>0&&o._getMap()&&o._getMap().pm.globalEditModeEnabled()&&o.enabled()&&o.enable(o.getOptions())}},100,this),this),this._layerGroup.on("layerremove",function(c){o._removeLayerFromGroup(c.target)},this),this._layerGroup.on("layerremove",L.Util.throttle(function(c){c.target._pmTempLayer||(o._layers=o.getLayers())},100,this),this)},enable:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(function(c){c instanceof L.LayerGroup?o.indexOf(c._leaflet_id)===-1&&(o.push(c._leaflet_id),c.pm.enable(n,o)):c.pm.enable(n)})},disable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.length===0&&(this._layers=this.getLayers()),this._layers.forEach(function(o){o instanceof L.LayerGroup?n.indexOf(o._leaflet_id)===-1&&(n.push(o._leaflet_id),o.pm.disable(n)):o.pm.disable()})},enabled:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.length===0&&(this._layers=this.getLayers());var o=this._layers.find(function(c){return c instanceof L.LayerGroup?n.indexOf(c._leaflet_id)===-1&&(n.push(c._leaflet_id),c.pm.enabled(n)):c.pm.enabled()});return!!o},toggleEdit:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(function(c){c instanceof L.LayerGroup?o.indexOf(c._leaflet_id)===-1&&(o.push(c._leaflet_id),c.pm.toggleEdit(n,o)):c.pm.toggleEdit(n)})},_initLayer:function(n){var o=L.Util.stamp(this._layerGroup);n.pm._parentLayerGroup||(n.pm._parentLayerGroup={}),n.pm._parentLayerGroup[o]=this._layerGroup},_removeLayerFromGroup:function(n){if(n.pm&&n.pm._layerGroup){var o=L.Util.stamp(this._layerGroup);delete n.pm._layerGroup[o]}},dragging:function(){if(this._layers=this.getLayers(),this._layers){var n=this._layers.find(function(o){return o.pm.dragging()});return!!n}return!1},getOptions:function(){return this.options},_getMap:function(){var n;return this._map||((n=this._layers.find(function(o){return!!o._map}))===null||n===void 0?void 0:n._map)||null},getLayers:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],k=[];return n?this._layerGroup.getLayers().forEach(function(S){k.push(S),S instanceof L.LayerGroup&&_.indexOf(S._leaflet_id)===-1&&(_.push(S._leaflet_id),k=k.concat(S.pm.getLayers(!0,!0,!0,_)))}):k=this._layerGroup.getLayers(),c&&(k=k.filter(function(S){return!(S instanceof L.LayerGroup)})),o&&(k=(k=(k=k.filter(function(S){return!!S.pm})).filter(function(S){return!S._pmTempLayer})).filter(function(S){return!L.PM.optIn&&!S.options.pmIgnore||L.PM.optIn&&S.options.pmIgnore===!1})),k},setOptions:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];o.length===0&&(this._layers=this.getLayers()),this.options=n,this._layers.forEach(function(c){c.pm&&(c instanceof L.LayerGroup?o.indexOf(c._leaflet_id)===-1&&(o.push(c._leaflet_id),c.pm.setOptions(n,o)):c.pm.setOptions(n))})}}),we.Marker=we.extend({_shape:"Marker",initialize:function(n){this._layer=n,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0};L.Util.setOptions(this,n),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()):this.disable()},disable:function(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker:function(n){var o=n.target;o.remove(),this._fireRemove(o),this._fireRemove(this._map,o)},_onDragEnd:function(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)}});const Er={filterMarkerGroup:function(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents:function(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache:function(){var n=[].concat(Cn(this._markerGroup.getLayers()),Cn(this.markerCache));this.markerCache=n.filter(function(o,c,_){return _.indexOf(o)===c})},renderLimits:function(n){var o=this;this.markerCache.forEach(function(c){n.includes(c)?o._markerGroup.addLayer(c):o._markerGroup.removeLayer(c)})},applyLimitFilters:function(n){var o=n.latlng,c=o===void 0?{lat:0,lng:0}:o;if(!this._preventRenderMarkers){var _=Cn(this._filterClosestMarkers(c));this.renderLimits(_)}},_filterClosestMarkers:function(n){var o=Cn(this.markerCache),c=this.options.limitMarkersToCount;return c===-1?o:(o.sort(function(_,k){return _._latlng.distanceTo(n)-k._latlng.distanceTo(n)}),o.filter(function(_,k){return!(c>-1)||k<c}))},_preventRenderMarkers:!1,_preventRenderingMarkers:function(n){this._preventRenderMarkers=!!n}};function $i(n,o){return function(c){if(Array.isArray(c))return c}(n)||function(c,_){var k=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(k!=null){var S,D,G=[],j=!0,Z=!1;try{for(k=k.call(c);!(j=(S=k.next()).done)&&(G.push(S.value),!_||G.length!==_);j=!0);}catch(J){Z=!0,D=J}finally{try{j||k.return==null||k.return()}finally{if(Z)throw D}}return G}}(n,o)||function(c,_){if(c){if(typeof c=="string")return Wi(c,_);var k=Object.prototype.toString.call(c).slice(8,-1);if(k==="Object"&&c.constructor&&(k=c.constructor.name),k==="Map"||k==="Set")return Array.from(c);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return Wi(c,_)}}(n,o)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wi(n,o){(o==null||o>n.length)&&(o=n.length);for(var c=0,_=new Array(o);c<o;c++)_[c]=n[c];return _}function Sr(n){return function(o){if(Array.isArray(o))return ni(o)}(n)||function(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}(n)||function(o,c){if(o){if(typeof o=="string")return ni(o,c);var _=Object.prototype.toString.call(o).slice(8,-1);if(_==="Object"&&o.constructor&&(_=o.constructor.name),_==="Map"||_==="Set")return Array.from(o);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return ni(o,c)}}(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ni(n,o){(o==null||o>n.length)&&(o=n.length);for(var c=0,_=new Array(o);c<o;c++)_[c]=n[c];return _}we.Line=we.extend({includes:[Er],_shape:"Line",initialize:function(n){this._layer=n,this._enabled=!1},enable:function(n){L.Util.setOptions(this,n),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()):this.disable())},disable:function(){if(this.enabled()&&!this._dragging){this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);var n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._map.hasLayer(this._layer)&&!this.hasSelfIntersection()||L.DomUtil.removeClass(n,"leaflet-pm-invalid"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(n){return this.enabled()?this.disable():this.enable(n),this.enabled()},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers:function(){var n=this,o=this._map,c=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,this._markers=function _(k){if(Array.isArray(k[0]))return k.map(_,n);var S=k.map(n._createMarker,n);return n.options.hideMiddleMarkers!==!0&&k.map(function(D,G){var j=n.isPolygon()?(G+1)%k.length:G+1;return n._createMiddleMarker(S[G],S[j])}),S}(c),this.filterMarkerGroup(),o.addLayer(this._markerGroup)},_createMarker:function(n){var o=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._pmTempLayer=!0,this.options.rotate?(o.on("dragstart",this._onRotateStart,this),o.on("drag",this._onRotate,this),o.on("dragend",this._onRotateEnd,this)):(o.on("click",this._onVertexClick,this),o.on("dragstart",this._onMarkerDragStart,this),o.on("move",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||o.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(o),o},_createMiddleMarker:function(n,o){if(!n||!o)return!1;var c=L.PM.Utils.calcMiddleLatLng(this._map,n.getLatLng(),o.getLatLng()),_=this._createMarker(c),k=L.divIcon({className:"marker-icon marker-icon-middle"});return _.setIcon(k),_.leftM=n,_.rightM=o,n._middleMarkerNext=_,o._middleMarkerPrev=_,_.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),_.on("movestart",this._onMiddleMarkerMoveStart,this),_},_onMiddleMarkerClick:function(n){var o=n.target;if(this._vertexValidation("add",n)){var c=L.divIcon({className:"marker-icon"});o.setIcon(c),this._addMarker(o,o.leftM,o.rightM)}},_onMiddleMarkerMoveStart:function(n){var o=n.target;o.on("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidation("add",n)?(o._dragging=!0,this._addMarker(o,o.leftM,o.rightM)):o.on("move",this._onMiddleMarkerMovePrevent,this)},_onMiddleMarkerMovePrevent:function(n){var o=n.target;this._vertexValidationDrag(o)},_onMiddleMarkerMoveEnd:function(n){var o=n.target;if(o.off("move",this._onMiddleMarkerMovePrevent,this),o.off("moveend",this._onMiddleMarkerMoveEnd,this),this._vertexValidationDragEnd(o)){var c=L.divIcon({className:"marker-icon"});o.setIcon(c),setTimeout(function(){delete o._dragging},100)}},_addMarker:function(n,o,c){n.off("movestart",this._onMiddleMarkerMoveStart,this),n.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);var _=n.getLatLng(),k=this._layer._latlngs;delete n.leftM,delete n.rightM;var S=L.PM.Utils.findDeepMarkerIndex(this._markers,o),D=S.indexPath,G=S.index,j=S.parentPath,Z=D.length>1?dt()(k,j):k,J=D.length>1?dt()(this._markers,j):this._markers;Z.splice(G+1,0,_),J.splice(G+1,0,n),this._layer.setLatLngs(k),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(o,n),this._createMiddleMarker(n,c)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(n,L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath,_),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection:function(){return Qt(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(n){var o=this._layer;if(this.hasSelfIntersection()){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return;n?this._flashLayer():(o.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(Qt(this._layer.toGeoJSON(15)))}else o.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1)},_flashLayer:function(){var n=this;this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(function(){n._layer.setStyle({color:n.cachedColor}),n.isRed=!1},200)},_updateDisabledMarkerStyle:function(n,o){var c=this;n.forEach(function(_){Array.isArray(_)?c._updateDisabledMarkerStyle(_,o):_._icon&&(o&&!c._checkMarkerAllowedToDrag(_)?L.DomUtil.addClass(_._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(_._icon,"vertexmarker-disabled"))})},_removeMarker:function(n){var o=n.target;if(this._vertexValidation("remove",n)){this.options.allowSelfIntersection||(this._coordsBeforeEdit=vt(this._layer,this._layer.getLatLngs()));var c=this._layer.getLatLngs(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,o),k=_.indexPath,S=_.index,D=_.parentPath;if(k){var G=k.length>1?dt()(c,D):c,j=k.length>1?dt()(this._markers,D):this._markers;if(this.options.removeLayerBelowMinVertexCount||!(G.length<=2||this.isPolygon()&&G.length<=3)){G.splice(S,1),this._layer.setLatLngs(c),this.isPolygon()&&G.length<=2&&G.splice(0,G.length);var Z=!1;if(G.length<=1&&(G.splice(0,G.length),D.length>1&&k.length>1&&(c=pe(c)),this._layer.setLatLngs(c),this._initMarkers(),Z=!0),Dt(c)||this._layer.remove(),c=pe(c),this._layer.setLatLngs(c),this._markers=pe(this._markers),!Z&&(j=k.length>1?dt()(this._markers,D):this._markers,o._middleMarkerPrev&&this._markerGroup.removeLayer(o._middleMarkerPrev),o._middleMarkerNext&&this._markerGroup.removeLayer(o._middleMarkerNext),this._markerGroup.removeLayer(o),j)){var J,lt;if(this.isPolygon()?(J=(S+1)%j.length,lt=(S+(j.length-1))%j.length):(lt=S-1<0?void 0:S-1,J=S+1>=j.length?void 0:S+1),J!==lt){var rt=j[lt],yt=j[J];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(rt,yt)}j.splice(S,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(o,k),this._fireChange(this._layer.getLatLngs(),"Edit")}else this._flashLayer()}}},updatePolygonCoordsFromMarkerDrag:function(n){var o=this._layer.getLatLngs(),c=n.getLatLng(),_=L.PM.Utils.findDeepMarkerIndex(this._markers,n),k=_.indexPath,S=_.index,D=_.parentPath;(k.length>1?dt()(o,D):o).splice(S,1,c),this._layer.setLatLngs(o)},_getNeighborMarkers:function(n){var o=L.PM.Utils.findDeepMarkerIndex(this._markers,n),c=o.indexPath,_=o.index,k=o.parentPath,S=c.length>1?dt()(this._markers,k):this._markers,D=(_+1)%S.length;return{prevMarker:S[(_+(S.length-1))%S.length],nextMarker:S[D]}},_checkMarkerAllowedToDrag:function(n){var o=this._getNeighborMarkers(n),c=o.prevMarker,_=o.nextMarker,k=L.polyline([c.getLatLng(),n.getLatLng()]),S=L.polyline([n.getLatLng(),_.getLatLng()]),D=xn(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length,G=xn(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length;return n.getLatLng()===this._markers[0][0].getLatLng()?G+=1:n.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(D+=1),!(D<=2&&G<=2)},_onMarkerDragStart:function(n){var o=n.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),this._vertexValidation("move",n)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath;this._fireMarkerDragStart(n,c),this.options.allowSelfIntersection||(this._coordsBeforeEdit=vt(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(o):this._markerAllowedToDrag=null}},_onMarkerDrag:function(n){var o=n.target;if(this._vertexValidationDrag(o)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,o),_=c.indexPath,k=c.index,S=c.parentPath;if(_){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1)return this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),void this._handleLayerStyle();this.updatePolygonCoordsFromMarkerDrag(o);var D=_.length>1?dt()(this._markers,S):this._markers,G=(k+1)%D.length,j=(k+(D.length-1))%D.length,Z=o.getLatLng(),J=D[j].getLatLng(),lt=D[G].getLatLng();if(o._middleMarkerNext){var rt=L.PM.Utils.calcMiddleLatLng(this._map,Z,lt);o._middleMarkerNext.setLatLng(rt)}if(o._middleMarkerPrev){var yt=L.PM.Utils.calcMiddleLatLng(this._map,Z,J);o._middleMarkerPrev.setLatLng(yt)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(n,_),this._fireChange(this._layer.getLatLngs(),"Edit")}}},_onMarkerDragEnd:function(n){var o=n.target;if(this._vertexValidationDragEnd(o)){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath,_=this.hasSelfIntersection();_&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(_=!1);var k=!this.options.allowSelfIntersection&&_;if(this._fireMarkerDragEnd(n,c,k),k)return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),void this._fireLayerReset(n,c);!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")}},_onVertexClick:function(n){var o=n.target;if(!o._dragging){var c=L.PM.Utils.findDeepMarkerIndex(this._markers,o).indexPath;this._fireVertexClick(n,c)}}}),we.Polygon=we.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag:function(n){var o=this._getNeighborMarkers(n),c=o.prevMarker,_=o.nextMarker,k=L.polyline([c.getLatLng(),n.getLatLng()]),S=L.polyline([n.getLatLng(),_.getLatLng()]),D=xn(this._layer.toGeoJSON(15),k.toGeoJSON(15)).features.length,G=xn(this._layer.toGeoJSON(15),S.toGeoJSON(15)).features.length;return!(D<=2&&G<=2)}}),we.Rectangle=we.Polygon.extend({_shape:"Rectangle",_initMarkers:function(){var n=this,o=this._map,c=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,o.addLayer(this._markerGroup),this._markers=[],this._markers[0]=c.map(this._createMarker,this);var _=$i(this._markers,1);this._cornerMarkers=_[0],this._layer.getLatLngs()[0].forEach(function(k,S){var D=n._cornerMarkers.find(function(G){return G._index===S});D&&D.setLatLng(k)})},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker:function(n,o){var c=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(c,"vertexPane"),c._origLatLng=n,c._index=o,c._pmTempLayer=!0,this._markerGroup.addLayer(c),c},_addMarkerEvents:function(){var n=this;this._markers[0].forEach(function(o){o.on("dragstart",n._onMarkerDragStart,n),o.on("drag",n._onMarkerDrag,n),o.on("dragend",n._onMarkerDragEnd,n),n.options.preventMarkerRemoval||o.on("contextmenu",n._removeMarker,n)})},_removeMarker:function(){return null},_onMarkerDragStart:function(n){if(this._vertexValidation("move",n)){var o=n.target,c=this._cornerMarkers;o._oppositeCornerLatLng=c.find(function(_){return _._index===(o._index+2)%4}).getLatLng(),o._snapped=!1,this._fireMarkerDragStart(n)}},_onMarkerDrag:function(n){var o=n.target;this._vertexValidationDrag(o)&&o._index!==void 0&&(this._adjustRectangleForMarkerMove(o),this._fireMarkerDrag(n),this._fireChange(this._layer.getLatLngs(),"Edit"))},_onMarkerDragEnd:function(n){var o=n.target;this._vertexValidationDragEnd(o)&&(this._cornerMarkers.forEach(function(c){delete c._oppositeCornerLatLng}),this._fireMarkerDragEnd(n),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"))},_adjustRectangleForMarkerMove:function(n){L.extend(n._origLatLng,n._latlng);var o=L.PM.Utils._getRotatedRectangle(n.getLatLng(),n._oppositeCornerLatLng,this._angle||0,this._map);this._layer.setLatLngs(o),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers:function(){var n=this,o=this._layer.getLatLngs()[0];o&&o.length!==4&&o.length>0?(o.forEach(function(c,_){n._cornerMarkers[_].setLatLng(c)}),this._cornerMarkers.slice(o.length).forEach(function(c){c.setLatLng(o[0])})):o&&o.length?this._cornerMarkers.forEach(function(c){c.setLatLng(o[c._index])}):console.error("The layer has no LatLngs")},_findCorners:function(){var n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this._angle||0,this._map)}}),we.Circle=we.extend({_shape:"Circle",initialize:function(n){this._layer=n,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(n){L.Util.setOptions(this,n),this._map=this._layer._map,this.options.allowEditing?(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){if(this.enabled()&&!this._dragging){this._centerMarker.off("dragstart",this._onCircleDragStart,this),this._centerMarker.off("drag",this._onCircleDrag,this),this._centerMarker.off("dragend",this._onCircleDragEnd,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this),this._layer.off("remove",this.disable,this),this._enabled=!1,this._helperLayers.clearLayers();var n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()}},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},_initMarkers:function(){var n=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(n);var o=this._layer.getLatLng(),c=this._layer._radius,_=this._getLatLngOnCircle(o,c);this._centerMarker=this._createCenterMarker(o),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},applyOptions:function(){this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()},_createHintLine:function(n,o){var c=n.getLatLng(),_=o.getLatLng();this._hintline=L.polyline([c,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(n){var o=this._createMarker(n);return L.DomUtil.addClass(o._icon,"leaflet-pm-draggable"),o.on("drag",this._moveCircle,this),o.on("dragstart",this._onCircleDragStart,this),o.on("drag",this._onCircleDrag,this),o.on("dragend",this._onCircleDragEnd,this),o},_createOuterMarker:function(n){var o=this._createMarker(n);return o.on("drag",this._resizeCircle,this),o},_createMarker:function(n){var o=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._origLatLng=n,o._pmTempLayer=!0,o.on("dragstart",this._onMarkerDragStart,this),o.on("drag",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(o),o},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(n){if(!n.target._cancelDragEventChain){var o=n.latlng;this._layer.setLatLng(o);var c=this._layer._radius,_=this._getLatLngOnCircle(o,c);this._outerMarker._latlng=_,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")}},_syncCircleRadius:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.distance(n,o);this.options.minRadiusCircle&&c<this.options.minRadiusCircle?this._layer.setRadius(this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle?this._layer.setRadius(this.options.maxRadiusCircle):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng();this._hintline.setLatLngs([n,o])},_disableSnapping:function(){var n=this;this._markers.forEach(function(o){o.off("move",n._syncHintLine,n),o.off("move",n._syncCircleRadius,n),o.off("drag",n._handleSnapping,n),o.off("dragend",n._cleanupSnapping,n)}),this._layer.off("pm:dragstart",this._unsnap,this)},_onMarkerDragStart:function(n){this._vertexValidation("move",n)&&this._fireMarkerDragStart(n)},_onMarkerDrag:function(n){var o=n.target;this._vertexValidationDrag(o)&&this._fireMarkerDrag(n)},_onMarkerDragEnd:function(n){var o=n.target;this._vertexValidationDragEnd(o)&&(this._fireEdit(),this._layerEdited=!0,this._fireMarkerDragEnd(n))},_onCircleDragStart:function(n){this._vertexValidationDrag(n.target)?(delete this._vertexValidationReset,this._fireDragStart()):this._vertexValidationReset=!0},_onCircleDrag:function(n){this._vertexValidationReset||this._fireDrag(n)},_onCircleDragEnd:function(){this._vertexValidationReset?delete this._vertexValidationReset:this._fireDragEnd()},_updateHiddenPolyCircle:function(){var n=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!n).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!n),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_getLatLngOnCircle:function(n,o){var c=this._map.project(n),_=L.point(c.x+o,c.y);return this._map.unproject(_)},_getNewDestinationOfOuterMarker:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.distance(n,o);return this.options.minRadiusCircle&&c<this.options.minRadiusCircle?o=Ot(this._map,n,o,this.options.minRadiusCircle):this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle&&(o=Ot(this._map,n,o,this.options.maxRadiusCircle)),o},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.distance(n,o);(this.options.minRadiusCircle&&c<this.options.minRadiusCircle||this.options.maxRadiusCircle&&c>this.options.maxRadiusCircle)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),we.CircleMarker=we.extend({_shape:"CircleMarker",initialize:function(n){this._layer=n,this._enabled=!1,this._updateHiddenPolyCircle()},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,n),this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this),this._updateHiddenPolyCircle(),this._fireEnable()):this.disable()},disable:function(){this._dragging||(this._helperLayers&&this._helperLayers.clearLayers(),this._map||(this._map=this._layer._map),this._map||(this.options.editable?(this._map.off("move",this._syncMarkers,this),this._outerMarker&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this)),this.disableLayerDrag(),this._layer.off("contextmenu",this._removeMarker,this),this._layer.off("remove",this.disable,this),this.enabled()&&(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){!this.options.editable&&this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.editable?(this._initMarkers(),this._map.on("move",this._syncMarkers,this)):this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this.options.editable?(this._initSnappableMarkers(),this._centerMarker.on("drag",this._moveCircle,this),this.options.editable&&this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this)):this._initSnappableMarkersDrag():this.options.editable?this._disableSnapping():this._disableSnappingDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers:function(){var n=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(n);var o=this._layer.getLatLng(),c=this._layer._radius,_=this._getLatLngOnCircle(o,c);this._centerMarker=this._createCenterMarker(o),this._outerMarker=this._createOuterMarker(_),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle:function(n,o){var c=this._map.project(n),_=L.point(c.x+o,c.y);return this._map.unproject(_)},_createHintLine:function(n,o){var c=n.getLatLng(),_=o.getLatLng();this._hintline=L.polyline([c,_],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(n){var o=this._createMarker(n);return this.options.draggable?L.DomUtil.addClass(o._icon,"leaflet-pm-draggable"):o.dragging.disable(),o},_createOuterMarker:function(n){var o=this._createMarker(n);return o.on("drag",this._resizeCircle,this),o},_createMarker:function(n){var o=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(o,"vertexPane"),o._origLatLng=n,o._pmTempLayer=!0,o.on("dragstart",this._onMarkerDragStart,this),o.on("drag",this._onMarkerDrag,this),o.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(o),o},_moveCircle:function(){var n=this._centerMarker.getLatLng();this._layer.setLatLng(n);var o=this._layer._radius,c=this._getLatLngOnCircle(n,o);this._outerMarker._latlng=c,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers:function(){var n=this._layer.getLatLng(),o=this._layer._radius,c=this._getLatLngOnCircle(n,o);this._outerMarker.setLatLng(c),this._centerMarker.setLatLng(n),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle:function(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(o));this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?this._layer.setRadius(this.options.minRadiusCircleMarker):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker?this._layer.setRadius(this.options.maxRadiusCircleMarker):this._layer.setRadius(c),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng();this._hintline.setLatLngs([n,o])},_removeMarker:function(){this.options.editable&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart:function(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart:function(n){this._vertexValidation("move",n)&&this._fireMarkerDragStart(n)},_onMarkerDrag:function(n){var o=n.target;o instanceof L.Marker&&!this._vertexValidationDrag(o)||this._fireMarkerDrag(n)},_onMarkerDragEnd:function(n){this._map.pm.Draw.CircleMarker._layerIsDragging=!1;var o=n.target;this._vertexValidationDragEnd(o)&&(this.options.editable&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(n))},_initSnappableMarkersDrag:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle:function(){var n=this._layer._map||this._map;if(n){var o=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),n,this._layer.getLatLng()),c=L.circle(this._layer.getLatLng(),this._layer.options);c.setRadius(o);var _=n&&n.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(c,200,!_).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(c,200,!_),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker:function(){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(o));return this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker?o=Ot(this._map,n,o,L.PM.Utils.pxRadiusToMeterRadius(this.options.minRadiusCircleMarker,this._map,n)):this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker&&(o=Ot(this._map,n,o,L.PM.Utils.pxRadiusToMeterRadius(this.options.maxRadiusCircleMarker,this._map,n))),o},_handleOuterMarkerSnapping:function(){if(this._outerMarker._snapped){var n=this._centerMarker.getLatLng(),o=this._outerMarker.getLatLng(),c=this._map.project(n).distanceTo(this._map.project(o));(this.options.minRadiusCircleMarker&&c<this.options.minRadiusCircleMarker||this.options.maxRadiusCircleMarker&&c>this.options.maxRadiusCircleMarker)&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())}}),we.ImageOverlay=we.extend({_shape:"ImageOverlay",initialize:function(n){this._layer=n,this._enabled=!1},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},enabled:function(){return this._enabled},enable:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,n),this._map=this._layer._map,this._map&&(this.options.allowEditing?(this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()):this.disable())},disable:function(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners:function(){var n=this._layer.getBounds();return[n.getNorthWest(),n.getNorthEast(),n.getSouthEast(),n.getSouthWest()]}}),we.Text=we.extend({_shape:"Text",initialize:function(n){this._layer=n,this._enabled=!1},enable:function(n){L.Util.setOptions(this,n),this.textArea&&(this.options.allowEditing&&this._layer._map?(this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()):this.disable())},disable:function(){if(this.enabled()){this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");var n=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),n.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1}},enabled:function(){return this._enabled},toggleEdit:function(n){this.enabled()?this.disable():this.enable(n)},applyOptions:function(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers:function(){var n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0||this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping:function(){var n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_autoResize:function(){this.textArea.style.height="1px",this.textArea.style.width="1px";var n=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,o=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height="".concat(n,"px"),this.textArea.style.width="".concat(o,"px"),this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur:function(){var n=this;this._disableOnBlurActive=!0,setTimeout(function(){n.enabled()&&L.DomEvent.on(document,"click",n._documentClick,n)},100)},_documentClick:function(n){n.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this._hasFocus;this._hasFocus=n.type==="focus",!o!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus:function(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus:function(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur:function(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus:function(){return this._hasFocus},getElement:function(){return this.textArea},setText:function(n){this.textArea.value=n,this._autoResize()},getText:function(){return this.textArea.value},_initTextMarker:function(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){var n,o=this.options.className.split(" ");(n=this.textArea.classList).add.apply(n,Sr(o))}var c=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(c),this._layer.once("add",this._createTextMarker,this)},_createTextMarker:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),n===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection:function(n){n.preventDefault()}});var Ji=function(n,o,c,_,k,S){this._matrix=[n,o,c,_,k,S]};Ji.init=function(){return new L.PM.Matrix(1,0,0,1,0,0)},Ji.prototype={transform:function(n){return this._transform(n.clone())},_transform:function(n){var o=this._matrix,c=n.x,_=n.y;return n.x=o[0]*c+o[1]*_+o[4],n.y=o[2]*c+o[3]*_+o[5],n},untransform:function(n){var o=this._matrix;return new L.Point((n.x/o[0]-o[4])/o[0],(n.y/o[2]-o[5])/o[2])},clone:function(){var n=this._matrix;return new L.PM.Matrix(n[0],n[1],n[2],n[3],n[4],n[5])},translate:function(n){return n===void 0?new L.Point(this._matrix[4],this._matrix[5]):(typeof n=="number"?(o=n,c=n):(o=n.x,c=n.y),this._add(1,0,0,1,o,c));var o,c},scale:function(n,o){return n===void 0?new L.Point(this._matrix[0],this._matrix[3]):(o=o||L.point(0,0),typeof n=="number"?(c=n,_=n):(c=n.x,_=n.y),this._add(c,0,0,_,o.x,o.y)._add(1,0,0,1,-o.x,-o.y));var c,_},rotate:function(n,o){var c=Math.cos(n),_=Math.sin(n);return o=o||new L.Point(0,0),this._add(c,_,-_,c,o.x,o.y)._add(1,0,0,1,-o.x,-o.y)},flip:function(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add:function(n,o,c,_,k,S){var D,G=[[],[],[]],j=this._matrix,Z=[[j[0],j[2],j[4]],[j[1],j[3],j[5]],[0,0,1]],J=[[n,c,k],[o,_,S],[0,0,1]];n&&n instanceof L.PM.Matrix&&(J=[[(j=n._matrix)[0],j[2],j[4]],[j[1],j[3],j[5]],[0,0,1]]);for(var lt=0;lt<3;lt+=1)for(var rt=0;rt<3;rt+=1){D=0;for(var yt=0;yt<3;yt+=1)D+=Z[lt][yt]*J[yt][rt];G[lt][rt]=D}return this._matrix=[G[0][0],G[1][0],G[0][1],G[1][1],G[0][2],G[1][2]],this}};const Tr=Ji;var Ds={calcMiddleLatLng:function(n,o,c){var _=n.project(o),k=n.project(c);return n.unproject(_._add(k)._divideBy(2))},findLayers:function(n){var o=[];return n.eachLayer(function(c){(c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.Circle||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&o.push(c)}),o=(o=(o=o.filter(function(c){return!!c.pm})).filter(function(c){return!c._pmTempLayer})).filter(function(c){return!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1})},circleToPolygon:function(n){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,c=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],_=n.getLatLng(),k=n.getRadius(),S=Jt(_,k,o,0,c),D=[],G=0;G<S.length;G+=1){var j=[S[G].lat,S[G].lng];D.push(j)}return L.polygon(D,n.options)},disablePopup:function(n){n.getPopup()&&(n._tempPopupCopy=n.getPopup(),n.unbindPopup())},enablePopup:function(n){n._tempPopupCopy&&(n.bindPopup(n._tempPopupCopy),delete n._tempPopupCopy)},_fireEvent:function(n,o,c){var _=arguments.length>3&&arguments[3]!==void 0&&arguments[3];n.fire(o,c,_);var k=this.getAllParentGroups(n),S=k.groups;S.forEach(function(D){D.fire(o,c,_)})},getAllParentGroups:function(n){var o=[],c=[];return!n._pmLastGroupFetch||!n._pmLastGroupFetch.time||new Date().getTime()-n._pmLastGroupFetch.time>1e3?(function _(k){for(var S in k._eventParents)if(o.indexOf(S)===-1){o.push(S);var D=k._eventParents[S];c.push(D),_(D)}}(n),n._pmLastGroupFetch={time:new Date().getTime(),groups:c,groupIds:o},{groupIds:o,groups:c}):{groups:n._pmLastGroupFetch.groups,groupIds:n._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Jt,getTranslation:Pt,findDeepCoordIndex:function(n,o){var c,_=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],k=function D(G){return function(j,Z){var J=G.concat(Z);if(_){if(j.lat&&j.lat===o.lat&&j.lng===o.lng)return c=J,!0}else if(j.lat&&L.latLng(j).equals(o))return c=J,!0;return Array.isArray(j)&&j.some(D(J))}};n.some(k([]));var S={};return c&&(S={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),S},findDeepMarkerIndex:function(n,o){var c;n.some(function k(S){return function(D,G){var j=S.concat(G);return D._leaflet_id===o._leaflet_id?(c=j,!0):Array.isArray(D)&&D.some(k(j))}}([]));var _={};return c&&(_={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),_},_getIndexFromSegment:function(n,o){if(o&&o.length===2){var c=this.findDeepCoordIndex(n,o[0]),_=this.findDeepCoordIndex(n,o[1]),k=Math.max(c.index,_.index);return c.index!==0&&_.index!==0||k===1||(k+=1),{indexA:c,indexB:_,newIndex:k,indexPath:c.indexPath,parentPath:c.parentPath}}return null},_getRotatedRectangle:function(n,o,c,_){var k=ge(_,n),S=ge(_,o),D=c*Math.PI/180,G=Math.cos(D),j=Math.sin(D),Z=(S.x-k.x)*G+(S.y-k.y)*j,J=(S.y-k.y)*G-(S.x-k.x)*j,lt=Z*G+k.x,rt=Z*j+k.y,yt=-J*j+k.x,xt=J*G+k.y;return[rn(_,k),rn(_,{x:lt,y:rt}),rn(_,S),rn(_,{x:yt,y:xt})]},pxRadiusToMeterRadius:function(n,o,c){var _=o.project(c),k=L.point(_.x+n,_.y);return o.distance(o.unproject(k),c)}};const Ht=Ds;L.PM=L.PM||{version:"2.14.2",Map:Yt,Toolbar:pt,Draw:A,Edit:we,Utils:Ht,Matrix:Tr,activeLang:"en",optIn:!1,initialize:function(n){this.addInitHooks(n)},setOptIn:function(n){this.optIn=!!n},addInitHooks:function(){L.Map.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}),L.LayerGroup.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}),L.Marker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}),L.CircleMarker.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}),L.Polyline.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}),L.Rectangle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}),L.ImageOverlay.addInitHook(function(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))})},reInitLayer:function(n){var o=this;n instanceof L.LayerGroup&&n.eachLayer(function(c){o.reInitLayer(c)}),n.pm||L.PM.optIn&&n.options.pmIgnore!==!1||n.options.pmIgnore||(n instanceof L.Map?n.pm=new L.PM.Map(n):n instanceof L.Marker?n.options.textMarker?(n.pm=new L.PM.Edit.Text(n),n.pm._initTextMarker(),n.pm._createTextMarker(!1)):n.pm=new L.PM.Edit.Marker(n):n instanceof L.Circle?n.pm=new L.PM.Edit.Circle(n):n instanceof L.CircleMarker?n.pm=new L.PM.Edit.CircleMarker(n):n instanceof L.Rectangle?n.pm=new L.PM.Edit.Rectangle(n):n instanceof L.Polygon?n.pm=new L.PM.Edit.Polygon(n):n instanceof L.Polyline?n.pm=new L.PM.Edit.Line(n):n instanceof L.LayerGroup?n.pm=new L.PM.Edit.LayerGroup(n):n instanceof L.ImageOverlay&&(n.pm=new L.PM.Edit.ImageOverlay(n)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick:function(n){for(var o,c,_=this._map.mouseEventToLayerPoint(n),k=this._drawFirst;k;k=k.next)(o=k.layer).options.interactive&&o._containsPoint(_)&&(n.type!=="click"&&n.type!=="preclick"||!this._map._draggableMoved(o))&&(c=o);c&&(L.DomEvent.fakeStop(n),this._fireEvent([c],n))}}),L.PM.initialize()},7107:()=>{Array.prototype.findIndex=Array.prototype.findIndex||function(a){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof a!="function")throw new TypeError("callback must be a function");for(var l=Object(this),u=l.length>>>0,f=arguments[1],p=0;p<u;p++)if(a.call(f,l[p],p,l))return p;return-1},Array.prototype.find=Array.prototype.find||function(a){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof a!="function")throw new TypeError("callback must be a function");for(var l=Object(this),u=l.length>>>0,f=arguments[1],p=0;p<u;p++){var m=l[p];if(a.call(f,m,p,l))return m}},typeof Object.assign!="function"&&(Object.assign=function(a){if(a==null)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(a[f]=u[f])}return a}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,l){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),f=u.length>>>0;if(f===0)return!1;for(var p,m,g=0|l,b=Math.max(g>=0?g:f-Math.abs(g),0);b<f;){if((p=u[b])===(m=a)||typeof p=="number"&&typeof m=="number"&&isNaN(p)&&isNaN(m))return!0;b++}return!1}})},1787:(a,l,u)=>{var f=u(2582),p=u(4102),m=u(1540),g=u(9705).Z,b=m.featureEach,x=(m.coordEach,p.polygon,p.featureCollection);function M(B){var R=new f(B);return R.insert=function(E){if(E.type!=="Feature")throw new Error("invalid feature");return E.bbox=E.bbox?E.bbox:g(E),f.prototype.insert.call(this,E)},R.load=function(E){var q=[];return Array.isArray(E)?E.forEach(function(I){if(I.type!=="Feature")throw new Error("invalid features");I.bbox=I.bbox?I.bbox:g(I),q.push(I)}):b(E,function(I){if(I.type!=="Feature")throw new Error("invalid features");I.bbox=I.bbox?I.bbox:g(I),q.push(I)}),f.prototype.load.call(this,q)},R.remove=function(E,q){if(E.type!=="Feature")throw new Error("invalid feature");return E.bbox=E.bbox?E.bbox:g(E),f.prototype.remove.call(this,E,q)},R.clear=function(){return f.prototype.clear.call(this)},R.search=function(E){var q=f.prototype.search.call(this,this.toBBox(E));return x(q)},R.collides=function(E){return f.prototype.collides.call(this,this.toBBox(E))},R.all=function(){var E=f.prototype.all.call(this);return x(E)},R.toJSON=function(){return f.prototype.toJSON.call(this)},R.fromJSON=function(E){return f.prototype.fromJSON.call(this,E)},R.toBBox=function(E){var q;if(E.bbox)q=E.bbox;else if(Array.isArray(E)&&E.length===4)q=E;else if(Array.isArray(E)&&E.length===6)q=[E[0],E[1],E[3],E[4]];else if(E.type==="Feature")q=g(E);else{if(E.type!=="FeatureCollection")throw new Error("invalid geojson");q=g(E)}return{minX:q[0],minY:q[1],maxX:q[2],maxY:q[3]}},R}a.exports=M,a.exports.default=M},1989:(a,l,u)=>{var f=u(1789),p=u(401),m=u(7667),g=u(1327),b=u(1866);function x(M){var B=-1,R=M==null?0:M.length;for(this.clear();++B<R;){var E=M[B];this.set(E[0],E[1])}}x.prototype.clear=f,x.prototype.delete=p,x.prototype.get=m,x.prototype.has=g,x.prototype.set=b,a.exports=x},8407:(a,l,u)=>{var f=u(7040),p=u(4125),m=u(2117),g=u(7518),b=u(4705);function x(M){var B=-1,R=M==null?0:M.length;for(this.clear();++B<R;){var E=M[B];this.set(E[0],E[1])}}x.prototype.clear=f,x.prototype.delete=p,x.prototype.get=m,x.prototype.has=g,x.prototype.set=b,a.exports=x},7071:(a,l,u)=>{var f=u(852)(u(5639),"Map");a.exports=f},3369:(a,l,u)=>{var f=u(4785),p=u(1285),m=u(6e3),g=u(9916),b=u(5265);function x(M){var B=-1,R=M==null?0:M.length;for(this.clear();++B<R;){var E=M[B];this.set(E[0],E[1])}}x.prototype.clear=f,x.prototype.delete=p,x.prototype.get=m,x.prototype.has=g,x.prototype.set=b,a.exports=x},6384:(a,l,u)=>{var f=u(8407),p=u(7465),m=u(3779),g=u(7599),b=u(4758),x=u(4309);function M(B){var R=this.__data__=new f(B);this.size=R.size}M.prototype.clear=p,M.prototype.delete=m,M.prototype.get=g,M.prototype.has=b,M.prototype.set=x,a.exports=M},2705:(a,l,u)=>{var f=u(5639).Symbol;a.exports=f},1149:(a,l,u)=>{var f=u(5639).Uint8Array;a.exports=f},6874:a=>{a.exports=function(l,u,f){switch(f.length){case 0:return l.call(u);case 1:return l.call(u,f[0]);case 2:return l.call(u,f[0],f[1]);case 3:return l.call(u,f[0],f[1],f[2])}return l.apply(u,f)}},4636:(a,l,u)=>{var f=u(2545),p=u(5694),m=u(1469),g=u(4144),b=u(5776),x=u(6719),M=Object.prototype.hasOwnProperty;a.exports=function(B,R){var E=m(B),q=!E&&p(B),I=!E&&!q&&g(B),U=!E&&!q&&!I&&x(B),K=E||q||I||U,T=K?f(B.length,String):[],F=T.length;for(var $ in B)!R&&!M.call(B,$)||K&&($=="length"||I&&($=="offset"||$=="parent")||U&&($=="buffer"||$=="byteLength"||$=="byteOffset")||b($,F))||T.push($);return T}},9932:a=>{a.exports=function(l,u){for(var f=-1,p=l==null?0:l.length,m=Array(p);++f<p;)m[f]=u(l[f],f,l);return m}},6556:(a,l,u)=>{var f=u(9465),p=u(7813);a.exports=function(m,g,b){(b!==void 0&&!p(m[g],b)||b===void 0&&!(g in m))&&f(m,g,b)}},4865:(a,l,u)=>{var f=u(9465),p=u(7813),m=Object.prototype.hasOwnProperty;a.exports=function(g,b,x){var M=g[b];m.call(g,b)&&p(M,x)&&(x!==void 0||b in g)||f(g,b,x)}},8470:(a,l,u)=>{var f=u(7813);a.exports=function(p,m){for(var g=p.length;g--;)if(f(p[g][0],m))return g;return-1}},9465:(a,l,u)=>{var f=u(8777);a.exports=function(p,m,g){m=="__proto__"&&f?f(p,m,{configurable:!0,enumerable:!0,value:g,writable:!0}):p[m]=g}},3118:(a,l,u)=>{var f=u(3218),p=Object.create,m=function(){function g(){}return function(b){if(!f(b))return{};if(p)return p(b);g.prototype=b;var x=new g;return g.prototype=void 0,x}}();a.exports=m},8483:(a,l,u)=>{var f=u(5063)();a.exports=f},7786:(a,l,u)=>{var f=u(1811),p=u(327);a.exports=function(m,g){for(var b=0,x=(g=f(g,m)).length;m!=null&&b<x;)m=m[p(g[b++])];return b&&b==x?m:void 0}},4239:(a,l,u)=>{var f=u(2705),p=u(9607),m=u(2333),g=f?f.toStringTag:void 0;a.exports=function(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":g&&g in Object(b)?p(b):m(b)}},8565:a=>{var l=Object.prototype.hasOwnProperty;a.exports=function(u,f){return u!=null&&l.call(u,f)}},9454:(a,l,u)=>{var f=u(4239),p=u(7005);a.exports=function(m){return p(m)&&f(m)=="[object Arguments]"}},8458:(a,l,u)=>{var f=u(3560),p=u(5346),m=u(3218),g=u(346),b=/^\[object .+?Constructor\]$/,x=Function.prototype,M=Object.prototype,B=x.toString,R=M.hasOwnProperty,E=RegExp("^"+B.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(q){return!(!m(q)||p(q))&&(f(q)?E:b).test(g(q))}},8749:(a,l,u)=>{var f=u(4239),p=u(1780),m=u(7005),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,a.exports=function(b){return m(b)&&p(b.length)&&!!g[f(b)]}},313:(a,l,u)=>{var f=u(3218),p=u(5726),m=u(3498),g=Object.prototype.hasOwnProperty;a.exports=function(b){if(!f(b))return m(b);var x=p(b),M=[];for(var B in b)(B!="constructor"||!x&&g.call(b,B))&&M.push(B);return M}},2980:(a,l,u)=>{var f=u(6384),p=u(6556),m=u(8483),g=u(9783),b=u(3218),x=u(1704),M=u(6390);a.exports=function B(R,E,q,I,U){R!==E&&m(E,function(K,T){if(U||(U=new f),b(K))g(R,E,T,q,B,I,U);else{var F=I?I(M(R,T),K,T+"",R,E,U):void 0;F===void 0&&(F=K),p(R,T,F)}},x)}},9783:(a,l,u)=>{var f=u(6556),p=u(4626),m=u(7133),g=u(278),b=u(8517),x=u(5694),M=u(1469),B=u(9246),R=u(4144),E=u(3560),q=u(3218),I=u(8630),U=u(6719),K=u(6390),T=u(9881);a.exports=function(F,$,ot,tt,it,ut,mt){var nt=K(F,ot),gt=K($,ot),Rt=mt.get(gt);if(Rt)f(F,ot,Rt);else{var Mt=ut?ut(nt,gt,ot+"",F,$,mt):void 0,Lt=Mt===void 0;if(Lt){var Bt=M(gt),dt=!Bt&&R(gt),ee=!Bt&&!dt&&U(gt);Mt=gt,Bt||dt||ee?M(nt)?Mt=nt:B(nt)?Mt=g(nt):dt?(Lt=!1,Mt=p(gt,!0)):ee?(Lt=!1,Mt=m(gt,!0)):Mt=[]:I(gt)||x(gt)?(Mt=nt,x(nt)?Mt=T(nt):q(nt)&&!E(nt)||(Mt=b(gt))):Lt=!1}Lt&&(mt.set(gt,Mt),it(Mt,gt,tt,ut,mt),mt.delete(gt)),f(F,ot,Mt)}}},5976:(a,l,u)=>{var f=u(6557),p=u(5357),m=u(61);a.exports=function(g,b){return m(p(g,b,f),g+"")}},6560:(a,l,u)=>{var f=u(5703),p=u(8777),m=u(6557),g=p?function(b,x){return p(b,"toString",{configurable:!0,enumerable:!1,value:f(x),writable:!0})}:m;a.exports=g},2545:a=>{a.exports=function(l,u){for(var f=-1,p=Array(l);++f<l;)p[f]=u(f);return p}},531:(a,l,u)=>{var f=u(2705),p=u(9932),m=u(1469),g=u(3448),b=f?f.prototype:void 0,x=b?b.toString:void 0;a.exports=function M(B){if(typeof B=="string")return B;if(m(B))return p(B,M)+"";if(g(B))return x?x.call(B):"";var R=B+"";return R=="0"&&1/B==-1/0?"-0":R}},1717:a=>{a.exports=function(l){return function(u){return l(u)}}},1811:(a,l,u)=>{var f=u(1469),p=u(5403),m=u(5514),g=u(9833);a.exports=function(b,x){return f(b)?b:p(b,x)?[b]:m(g(b))}},4318:(a,l,u)=>{var f=u(1149);a.exports=function(p){var m=new p.constructor(p.byteLength);return new f(m).set(new f(p)),m}},4626:(a,l,u)=>{a=u.nmd(a);var f=u(5639),p=l&&!l.nodeType&&l,m=p&&a&&!a.nodeType&&a,g=m&&m.exports===p?f.Buffer:void 0,b=g?g.allocUnsafe:void 0;a.exports=function(x,M){if(M)return x.slice();var B=x.length,R=b?b(B):new x.constructor(B);return x.copy(R),R}},7133:(a,l,u)=>{var f=u(4318);a.exports=function(p,m){var g=m?f(p.buffer):p.buffer;return new p.constructor(g,p.byteOffset,p.length)}},278:a=>{a.exports=function(l,u){var f=-1,p=l.length;for(u||(u=Array(p));++f<p;)u[f]=l[f];return u}},8363:(a,l,u)=>{var f=u(4865),p=u(9465);a.exports=function(m,g,b,x){var M=!b;b||(b={});for(var B=-1,R=g.length;++B<R;){var E=g[B],q=x?x(b[E],m[E],E,b,m):void 0;q===void 0&&(q=m[E]),M?p(b,E,q):f(b,E,q)}return b}},4429:(a,l,u)=>{var f=u(5639)["__core-js_shared__"];a.exports=f},1463:(a,l,u)=>{var f=u(5976),p=u(6612);a.exports=function(m){return f(function(g,b){var x=-1,M=b.length,B=M>1?b[M-1]:void 0,R=M>2?b[2]:void 0;for(B=m.length>3&&typeof B=="function"?(M--,B):void 0,R&&p(b[0],b[1],R)&&(B=M<3?void 0:B,M=1),g=Object(g);++x<M;){var E=b[x];E&&m(g,E,x,B)}return g})}},5063:a=>{a.exports=function(l){return function(u,f,p){for(var m=-1,g=Object(u),b=p(u),x=b.length;x--;){var M=b[l?x:++m];if(f(g[M],M,g)===!1)break}return u}}},8777:(a,l,u)=>{var f=u(852),p=function(){try{var m=f(Object,"defineProperty");return m({},"",{}),m}catch{}}();a.exports=p},1957:(a,l,u)=>{var f=typeof u.g=="object"&&u.g&&u.g.Object===Object&&u.g;a.exports=f},5050:(a,l,u)=>{var f=u(7019);a.exports=function(p,m){var g=p.__data__;return f(m)?g[typeof m=="string"?"string":"hash"]:g.map}},852:(a,l,u)=>{var f=u(8458),p=u(7801);a.exports=function(m,g){var b=p(m,g);return f(b)?b:void 0}},5924:(a,l,u)=>{var f=u(5569)(Object.getPrototypeOf,Object);a.exports=f},9607:(a,l,u)=>{var f=u(2705),p=Object.prototype,m=p.hasOwnProperty,g=p.toString,b=f?f.toStringTag:void 0;a.exports=function(x){var M=m.call(x,b),B=x[b];try{x[b]=void 0;var R=!0}catch{}var E=g.call(x);return R&&(M?x[b]=B:delete x[b]),E}},7801:a=>{a.exports=function(l,u){return l==null?void 0:l[u]}},222:(a,l,u)=>{var f=u(1811),p=u(5694),m=u(1469),g=u(5776),b=u(1780),x=u(327);a.exports=function(M,B,R){for(var E=-1,q=(B=f(B,M)).length,I=!1;++E<q;){var U=x(B[E]);if(!(I=M!=null&&R(M,U)))break;M=M[U]}return I||++E!=q?I:!!(q=M==null?0:M.length)&&b(q)&&g(U,q)&&(m(M)||p(M))}},1789:(a,l,u)=>{var f=u(4536);a.exports=function(){this.__data__=f?f(null):{},this.size=0}},401:a=>{a.exports=function(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}},7667:(a,l,u)=>{var f=u(4536),p=Object.prototype.hasOwnProperty;a.exports=function(m){var g=this.__data__;if(f){var b=g[m];return b==="__lodash_hash_undefined__"?void 0:b}return p.call(g,m)?g[m]:void 0}},1327:(a,l,u)=>{var f=u(4536),p=Object.prototype.hasOwnProperty;a.exports=function(m){var g=this.__data__;return f?g[m]!==void 0:p.call(g,m)}},1866:(a,l,u)=>{var f=u(4536);a.exports=function(p,m){var g=this.__data__;return this.size+=this.has(p)?0:1,g[p]=f&&m===void 0?"__lodash_hash_undefined__":m,this}},8517:(a,l,u)=>{var f=u(3118),p=u(5924),m=u(5726);a.exports=function(g){return typeof g.constructor!="function"||m(g)?{}:f(p(g))}},5776:a=>{var l=/^(?:0|[1-9]\d*)$/;a.exports=function(u,f){var p=typeof u;return!!(f=f??9007199254740991)&&(p=="number"||p!="symbol"&&l.test(u))&&u>-1&&u%1==0&&u<f}},6612:(a,l,u)=>{var f=u(7813),p=u(8612),m=u(5776),g=u(3218);a.exports=function(b,x,M){if(!g(M))return!1;var B=typeof x;return!!(B=="number"?p(M)&&m(x,M.length):B=="string"&&x in M)&&f(M[x],b)}},5403:(a,l,u)=>{var f=u(1469),p=u(3448),m=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;a.exports=function(b,x){if(f(b))return!1;var M=typeof b;return!(M!="number"&&M!="symbol"&&M!="boolean"&&b!=null&&!p(b))||g.test(b)||!m.test(b)||x!=null&&b in Object(x)}},7019:a=>{a.exports=function(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}},5346:(a,l,u)=>{var f,p=u(4429),m=(f=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";a.exports=function(g){return!!m&&m in g}},5726:a=>{var l=Object.prototype;a.exports=function(u){var f=u&&u.constructor;return u===(typeof f=="function"&&f.prototype||l)}},7040:a=>{a.exports=function(){this.__data__=[],this.size=0}},4125:(a,l,u)=>{var f=u(8470),p=Array.prototype.splice;a.exports=function(m){var g=this.__data__,b=f(g,m);return!(b<0)&&(b==g.length-1?g.pop():p.call(g,b,1),--this.size,!0)}},2117:(a,l,u)=>{var f=u(8470);a.exports=function(p){var m=this.__data__,g=f(m,p);return g<0?void 0:m[g][1]}},7518:(a,l,u)=>{var f=u(8470);a.exports=function(p){return f(this.__data__,p)>-1}},4705:(a,l,u)=>{var f=u(8470);a.exports=function(p,m){var g=this.__data__,b=f(g,p);return b<0?(++this.size,g.push([p,m])):g[b][1]=m,this}},4785:(a,l,u)=>{var f=u(1989),p=u(8407),m=u(7071);a.exports=function(){this.size=0,this.__data__={hash:new f,map:new(m||p),string:new f}}},1285:(a,l,u)=>{var f=u(5050);a.exports=function(p){var m=f(this,p).delete(p);return this.size-=m?1:0,m}},6e3:(a,l,u)=>{var f=u(5050);a.exports=function(p){return f(this,p).get(p)}},9916:(a,l,u)=>{var f=u(5050);a.exports=function(p){return f(this,p).has(p)}},5265:(a,l,u)=>{var f=u(5050);a.exports=function(p,m){var g=f(this,p),b=g.size;return g.set(p,m),this.size+=g.size==b?0:1,this}},4523:(a,l,u)=>{var f=u(8306);a.exports=function(p){var m=f(p,function(b){return g.size===500&&g.clear(),b}),g=m.cache;return m}},4536:(a,l,u)=>{var f=u(852)(Object,"create");a.exports=f},3498:a=>{a.exports=function(l){var u=[];if(l!=null)for(var f in Object(l))u.push(f);return u}},1167:(a,l,u)=>{a=u.nmd(a);var f=u(1957),p=l&&!l.nodeType&&l,m=p&&a&&!a.nodeType&&a,g=m&&m.exports===p&&f.process,b=function(){try{var x=m&&m.require&&m.require("util").types;return x||g&&g.binding&&g.binding("util")}catch{}}();a.exports=b},2333:a=>{var l=Object.prototype.toString;a.exports=function(u){return l.call(u)}},5569:a=>{a.exports=function(l,u){return function(f){return l(u(f))}}},5357:(a,l,u)=>{var f=u(6874),p=Math.max;a.exports=function(m,g,b){return g=p(g===void 0?m.length-1:g,0),function(){for(var x=arguments,M=-1,B=p(x.length-g,0),R=Array(B);++M<B;)R[M]=x[g+M];M=-1;for(var E=Array(g+1);++M<g;)E[M]=x[M];return E[g]=b(R),f(m,this,E)}}},5639:(a,l,u)=>{var f=u(1957),p=typeof self=="object"&&self&&self.Object===Object&&self,m=f||p||Function("return this")();a.exports=m},6390:a=>{a.exports=function(l,u){if((u!=="constructor"||typeof l[u]!="function")&&u!="__proto__")return l[u]}},61:(a,l,u)=>{var f=u(6560),p=u(1275)(f);a.exports=p},1275:a=>{var l=Date.now;a.exports=function(u){var f=0,p=0;return function(){var m=l(),g=16-(m-p);if(p=m,g>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(void 0,arguments)}}},7465:(a,l,u)=>{var f=u(8407);a.exports=function(){this.__data__=new f,this.size=0}},3779:a=>{a.exports=function(l){var u=this.__data__,f=u.delete(l);return this.size=u.size,f}},7599:a=>{a.exports=function(l){return this.__data__.get(l)}},4758:a=>{a.exports=function(l){return this.__data__.has(l)}},4309:(a,l,u)=>{var f=u(8407),p=u(7071),m=u(3369);a.exports=function(g,b){var x=this.__data__;if(x instanceof f){var M=x.__data__;if(!p||M.length<199)return M.push([g,b]),this.size=++x.size,this;x=this.__data__=new m(M)}return x.set(g,b),this.size=x.size,this}},5514:(a,l,u)=>{var f=u(4523),p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m=/\\(\\)?/g,g=f(function(b){var x=[];return b.charCodeAt(0)===46&&x.push(""),b.replace(p,function(M,B,R,E){x.push(R?E.replace(m,"$1"):B||M)}),x});a.exports=g},327:(a,l,u)=>{var f=u(3448);a.exports=function(p){if(typeof p=="string"||f(p))return p;var m=p+"";return m=="0"&&1/p==-1/0?"-0":m}},346:a=>{var l=Function.prototype.toString;a.exports=function(u){if(u!=null){try{return l.call(u)}catch{}try{return u+""}catch{}}return""}},5703:a=>{a.exports=function(l){return function(){return l}}},7813:a=>{a.exports=function(l,u){return l===u||l!=l&&u!=u}},7361:(a,l,u)=>{var f=u(7786);a.exports=function(p,m,g){var b=p==null?void 0:f(p,m);return b===void 0?g:b}},8721:(a,l,u)=>{var f=u(8565),p=u(222);a.exports=function(m,g){return m!=null&&p(m,g,f)}},6557:a=>{a.exports=function(l){return l}},5694:(a,l,u)=>{var f=u(9454),p=u(7005),m=Object.prototype,g=m.hasOwnProperty,b=m.propertyIsEnumerable,x=f(function(){return arguments}())?f:function(M){return p(M)&&g.call(M,"callee")&&!b.call(M,"callee")};a.exports=x},1469:a=>{var l=Array.isArray;a.exports=l},8612:(a,l,u)=>{var f=u(3560),p=u(1780);a.exports=function(m){return m!=null&&p(m.length)&&!f(m)}},9246:(a,l,u)=>{var f=u(8612),p=u(7005);a.exports=function(m){return p(m)&&f(m)}},4144:(a,l,u)=>{a=u.nmd(a);var f=u(5639),p=u(5062),m=l&&!l.nodeType&&l,g=m&&a&&!a.nodeType&&a,b=g&&g.exports===m?f.Buffer:void 0,x=(b?b.isBuffer:void 0)||p;a.exports=x},3560:(a,l,u)=>{var f=u(4239),p=u(3218);a.exports=function(m){if(!p(m))return!1;var g=f(m);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}},1780:a=>{a.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},3218:a=>{a.exports=function(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}},7005:a=>{a.exports=function(l){return l!=null&&typeof l=="object"}},8630:(a,l,u)=>{var f=u(4239),p=u(5924),m=u(7005),g=Function.prototype,b=Object.prototype,x=g.toString,M=b.hasOwnProperty,B=x.call(Object);a.exports=function(R){if(!m(R)||f(R)!="[object Object]")return!1;var E=p(R);if(E===null)return!0;var q=M.call(E,"constructor")&&E.constructor;return typeof q=="function"&&q instanceof q&&x.call(q)==B}},3448:(a,l,u)=>{var f=u(4239),p=u(7005);a.exports=function(m){return typeof m=="symbol"||p(m)&&f(m)=="[object Symbol]"}},6719:(a,l,u)=>{var f=u(8749),p=u(1717),m=u(1167),g=m&&m.isTypedArray,b=g?p(g):f;a.exports=b},1704:(a,l,u)=>{var f=u(4636),p=u(313),m=u(8612);a.exports=function(g){return m(g)?f(g,!0):p(g)}},8306:(a,l,u)=>{var f=u(3369);function p(m,g){if(typeof m!="function"||g!=null&&typeof g!="function")throw new TypeError("Expected a function");var b=function(){var x=arguments,M=g?g.apply(this,x):x[0],B=b.cache;if(B.has(M))return B.get(M);var R=m.apply(this,x);return b.cache=B.set(M,R)||B,R};return b.cache=new(p.Cache||f),b}p.Cache=f,a.exports=p},2492:(a,l,u)=>{var f=u(2980),p=u(1463)(function(m,g,b){f(m,g,b)});a.exports=p},5062:a=>{a.exports=function(){return!1}},9881:(a,l,u)=>{var f=u(8363),p=u(1704);a.exports=function(m){return f(m,p(m))}},9833:(a,l,u)=>{var f=u(531);a.exports=function(p){return p==null?"":f(p)}},2676:function(a){a.exports=function(){function l(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")}function u(O,v){for(var w=0;w<v.length;w++){var C=v[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}function f(O,v,w){return v&&u(O.prototype,v),w&&u(O,w),O}var p=function(){function O(v,w){this.next=null,this.key=v,this.data=w,this.left=null,this.right=null}return O}();function m(O,v){return O>v?1:O<v?-1:0}function g(O,v,w){for(var C=new p(null,null),A=C,N=C;;){var Y=w(O,v.key);if(Y<0){if(v.left===null)break;if(w(O,v.left.key)<0){var Q=v.left;if(v.left=Q.right,Q.right=v,(v=Q).left===null)break}N.left=v,N=v,v=v.left}else{if(!(Y>0)||v.right===null||w(O,v.right.key)>0&&(Q=v.right,v.right=Q.left,Q.left=v,(v=Q).right===null))break;A.right=v,A=v,v=v.right}}return A.right=v.left,N.left=v.right,v.left=C.right,v.right=C.left,v}function b(O,v,w,C){var A=new p(O,v);if(w===null)return A.left=A.right=null,A;var N=C(O,(w=g(O,w,C)).key);return N<0?(A.left=w.left,A.right=w,w.left=null):N>=0&&(A.right=w.right,A.left=w,w.right=null),A}function x(O,v,w){var C=null,A=null;if(v){var N=w((v=g(O,v,w)).key,O);N===0?(C=v.left,A=v.right):N<0?(A=v.right,v.right=null,C=v):(C=v.left,v.left=null,A=v)}return{left:C,right:A}}function M(O,v,w){return v===null?O:(O===null||((v=g(O.key,v,w)).left=O),v)}function B(O,v,w,C,A){if(O){C(v+(w?" ":" ")+A(O)+`
`);var N=v+(w?"    ":"   ");O.left&&B(O.left,N,!1,C,A),O.right&&B(O.right,N,!0,C,A)}}var R=function(){function O(v){v===void 0&&(v=m),this._root=null,this._size=0,this._comparator=v}return O.prototype.insert=function(v,w){return this._size++,this._root=b(v,w,this._root,this._comparator)},O.prototype.add=function(v,w){var C=new p(v,w);this._root===null&&(C.left=C.right=null,this._size++,this._root=C);var A=this._comparator,N=g(v,this._root,A),Y=A(v,N.key);return Y===0?this._root=N:(Y<0?(C.left=N.left,C.right=N,N.left=null):Y>0&&(C.right=N.right,C.left=N,N.right=null),this._size++,this._root=C),this._root},O.prototype.remove=function(v){this._root=this._remove(v,this._root,this._comparator)},O.prototype._remove=function(v,w,C){var A;return w===null?null:C(v,(w=g(v,w,C)).key)===0?(w.left===null?A=w.right:(A=g(v,w.left,C)).right=w.right,this._size--,A):w},O.prototype.pop=function(){var v=this._root;if(v){for(;v.left;)v=v.left;return this._root=g(v.key,this._root,this._comparator),this._root=this._remove(v.key,this._root,this._comparator),{key:v.key,data:v.data}}return null},O.prototype.findStatic=function(v){for(var w=this._root,C=this._comparator;w;){var A=C(v,w.key);if(A===0)return w;w=A<0?w.left:w.right}return null},O.prototype.find=function(v){return this._root&&(this._root=g(v,this._root,this._comparator),this._comparator(v,this._root.key)!==0)?null:this._root},O.prototype.contains=function(v){for(var w=this._root,C=this._comparator;w;){var A=C(v,w.key);if(A===0)return!0;w=A<0?w.left:w.right}return!1},O.prototype.forEach=function(v,w){for(var C=this._root,A=[],N=!1;!N;)C!==null?(A.push(C),C=C.left):A.length!==0?(C=A.pop(),v.call(w,C),C=C.right):N=!0;return this},O.prototype.range=function(v,w,C,A){for(var N=[],Y=this._comparator,Q=this._root;N.length!==0||Q;)if(Q)N.push(Q),Q=Q.left;else{if(Y((Q=N.pop()).key,w)>0)break;if(Y(Q.key,v)>=0&&C.call(A,Q))return this;Q=Q.right}return this},O.prototype.keys=function(){var v=[];return this.forEach(function(w){var C=w.key;return v.push(C)}),v},O.prototype.values=function(){var v=[];return this.forEach(function(w){var C=w.data;return v.push(C)}),v},O.prototype.min=function(){return this._root?this.minNode(this._root).key:null},O.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},O.prototype.minNode=function(v){if(v===void 0&&(v=this._root),v)for(;v.left;)v=v.left;return v},O.prototype.maxNode=function(v){if(v===void 0&&(v=this._root),v)for(;v.right;)v=v.right;return v},O.prototype.at=function(v){for(var w=this._root,C=!1,A=0,N=[];!C;)if(w)N.push(w),w=w.left;else if(N.length>0){if(w=N.pop(),A===v)return w;A++,w=w.right}else C=!0;return null},O.prototype.next=function(v){var w=this._root,C=null;if(v.right){for(C=v.right;C.left;)C=C.left;return C}for(var A=this._comparator;w;){var N=A(v.key,w.key);if(N===0)break;N<0?(C=w,w=w.left):w=w.right}return C},O.prototype.prev=function(v){var w=this._root,C=null;if(v.left!==null){for(C=v.left;C.right;)C=C.right;return C}for(var A=this._comparator;w;){var N=A(v.key,w.key);if(N===0)break;N<0?w=w.left:(C=w,w=w.right)}return C},O.prototype.clear=function(){return this._root=null,this._size=0,this},O.prototype.toList=function(){return I(this._root)},O.prototype.load=function(v,w,C){w===void 0&&(w=[]),C===void 0&&(C=!1);var A=v.length,N=this._comparator;if(C&&T(v,w,0,A-1,N),this._root===null)this._root=E(v,w,0,A),this._size=A;else{var Y=K(this.toList(),q(v,w),N);A=this._size+A,this._root=U({head:Y},0,A)}return this},O.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(O.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),O.prototype.toString=function(v){v===void 0&&(v=function(C){return String(C.key)});var w=[];return B(this._root,"",!0,function(C){return w.push(C)},v),w.join("")},O.prototype.update=function(v,w,C){var A=this._comparator,N=x(v,this._root,A),Y=N.left,Q=N.right;A(v,w)<0?Q=b(w,C,Q,A):Y=b(w,C,Y,A),this._root=M(Y,Q,A)},O.prototype.split=function(v){return x(v,this._root,this._comparator)},O}();function E(O,v,w,C){var A=C-w;if(A>0){var N=w+Math.floor(A/2),Y=O[N],Q=v[N],ft=new p(Y,Q);return ft.left=E(O,v,w,N),ft.right=E(O,v,N+1,C),ft}return null}function q(O,v){for(var w=new p(null,null),C=w,A=0;A<O.length;A++)C=C.next=new p(O[A],v[A]);return C.next=null,w.next}function I(O){for(var v=O,w=[],C=!1,A=new p(null,null),N=A;!C;)v?(w.push(v),v=v.left):w.length>0?v=(v=N=N.next=w.pop()).right:C=!0;return N.next=null,A.next}function U(O,v,w){var C=w-v;if(C>0){var A=v+Math.floor(C/2),N=U(O,v,A),Y=O.head;return Y.left=N,O.head=O.head.next,Y.right=U(O,A+1,w),Y}return null}function K(O,v,w){for(var C=new p(null,null),A=C,N=O,Y=v;N!==null&&Y!==null;)w(N.key,Y.key)<0?(A.next=N,N=N.next):(A.next=Y,Y=Y.next),A=A.next;return N!==null?A.next=N:Y!==null&&(A.next=Y),C.next}function T(O,v,w,C,A){if(!(w>=C)){for(var N=O[w+C>>1],Y=w-1,Q=C+1;;){do Y++;while(A(O[Y],N)<0);do Q--;while(A(O[Q],N)>0);if(Y>=Q)break;var ft=O[Y];O[Y]=O[Q],O[Q]=ft,ft=v[Y],v[Y]=v[Q],v[Q]=ft}T(O,v,w,Q,A),T(O,v,Q+1,C,A)}}var F=function(O,v){return O.ll.x<=v.x&&v.x<=O.ur.x&&O.ll.y<=v.y&&v.y<=O.ur.y},$=function(O,v){if(v.ur.x<O.ll.x||O.ur.x<v.ll.x||v.ur.y<O.ll.y||O.ur.y<v.ll.y)return null;var w=O.ll.x<v.ll.x?v.ll.x:O.ll.x,C=O.ur.x<v.ur.x?O.ur.x:v.ur.x;return{ll:{x:w,y:O.ll.y<v.ll.y?v.ll.y:O.ll.y},ur:{x:C,y:O.ur.y<v.ur.y?O.ur.y:v.ur.y}}},ot=Number.EPSILON;ot===void 0&&(ot=Math.pow(2,-52));var tt=ot*ot,it=function(O,v){if(-ot<O&&O<ot&&-ot<v&&v<ot)return 0;var w=O-v;return w*w<tt*O*v?0:O<v?-1:1},ut=function(){function O(){l(this,O),this.reset()}return f(O,[{key:"reset",value:function(){this.xRounder=new mt,this.yRounder=new mt}},{key:"round",value:function(v,w){return{x:this.xRounder.round(v),y:this.yRounder.round(w)}}}]),O}(),mt=function(){function O(){l(this,O),this.tree=new R,this.round(0)}return f(O,[{key:"round",value:function(v){var w=this.tree.add(v),C=this.tree.prev(w);if(C!==null&&it(w.key,C.key)===0)return this.tree.remove(v),C.key;var A=this.tree.next(w);return A!==null&&it(w.key,A.key)===0?(this.tree.remove(v),A.key):v}}]),O}(),nt=new ut,gt=function(O,v){return O.x*v.y-O.y*v.x},Rt=function(O,v){return O.x*v.x+O.y*v.y},Mt=function(O,v,w){var C={x:v.x-O.x,y:v.y-O.y},A={x:w.x-O.x,y:w.y-O.y},N=gt(C,A);return it(N,0)},Lt=function(O){return Math.sqrt(Rt(O,O))},Bt=function(O,v,w){var C={x:v.x-O.x,y:v.y-O.y},A={x:w.x-O.x,y:w.y-O.y};return gt(A,C)/Lt(A)/Lt(C)},dt=function(O,v,w){var C={x:v.x-O.x,y:v.y-O.y},A={x:w.x-O.x,y:w.y-O.y};return Rt(A,C)/Lt(A)/Lt(C)},ee=function(O,v,w){return v.y===0?null:{x:O.x+v.x/v.y*(w-O.y),y:w}},Et=function(O,v,w){return v.x===0?null:{x:w,y:O.y+v.y/v.x*(w-O.x)}},Pt=function(O,v,w,C){if(v.x===0)return Et(w,C,O.x);if(C.x===0)return Et(O,v,w.x);if(v.y===0)return ee(w,C,O.y);if(C.y===0)return ee(O,v,w.y);var A=gt(v,C);if(A==0)return null;var N={x:w.x-O.x,y:w.y-O.y},Y=gt(N,v)/A,Q=gt(N,C)/A;return{x:(O.x+Q*v.x+(w.x+Y*C.x))/2,y:(O.y+Q*v.y+(w.y+Y*C.y))/2}},Dt=function(){function O(v,w){l(this,O),v.events===void 0?v.events=[this]:v.events.push(this),this.point=v,this.isLeft=w}return f(O,null,[{key:"compare",value:function(v,w){var C=O.comparePoints(v.point,w.point);return C!==0?C:(v.point!==w.point&&v.link(w),v.isLeft!==w.isLeft?v.isLeft?1:-1:ie.compare(v.segment,w.segment))}},{key:"comparePoints",value:function(v,w){return v.x<w.x?-1:v.x>w.x?1:v.y<w.y?-1:v.y>w.y?1:0}}]),f(O,[{key:"link",value:function(v){if(v.point===this.point)throw new Error("Tried to link already linked events");for(var w=v.point.events,C=0,A=w.length;C<A;C++){var N=w[C];this.point.events.push(N),N.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var v=this.point.events.length,w=0;w<v;w++){var C=this.point.events[w];if(C.segment.consumedBy===void 0)for(var A=w+1;A<v;A++){var N=this.point.events[A];N.consumedBy===void 0&&C.otherSE.point.events===N.otherSE.point.events&&C.segment.consume(N.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var v=[],w=0,C=this.point.events.length;w<C;w++){var A=this.point.events[w];A!==this&&!A.segment.ringOut&&A.segment.isInResult()&&v.push(A)}return v}},{key:"getLeftmostComparator",value:function(v){var w=this,C=new Map,A=function(N){var Y=N.otherSE;C.set(N,{sine:Bt(w.point,v.point,Y.point),cosine:dt(w.point,v.point,Y.point)})};return function(N,Y){C.has(N)||A(N),C.has(Y)||A(Y);var Q=C.get(N),ft=Q.sine,kt=Q.cosine,Tt=C.get(Y),Ft=Tt.sine,Vt=Tt.cosine;return ft>=0&&Ft>=0?kt<Vt?1:kt>Vt?-1:0:ft<0&&Ft<0?kt<Vt?-1:kt>Vt?1:0:Ft<ft?-1:Ft>ft?1:0}}}]),O}(),pe=0,ie=function(){function O(v,w,C,A){l(this,O),this.id=++pe,this.leftSE=v,v.segment=this,v.otherSE=w,this.rightSE=w,w.segment=this,w.otherSE=v,this.rings=C,this.windings=A}return f(O,null,[{key:"compare",value:function(v,w){var C=v.leftSE.point.x,A=w.leftSE.point.x,N=v.rightSE.point.x,Y=w.rightSE.point.x;if(Y<C)return 1;if(N<A)return-1;var Q=v.leftSE.point.y,ft=w.leftSE.point.y,kt=v.rightSE.point.y,Tt=w.rightSE.point.y;if(C<A){if(ft<Q&&ft<kt)return 1;if(ft>Q&&ft>kt)return-1;var Ft=v.comparePoint(w.leftSE.point);if(Ft<0)return 1;if(Ft>0)return-1;var Vt=w.comparePoint(v.rightSE.point);return Vt!==0?Vt:-1}if(C>A){if(Q<ft&&Q<Tt)return-1;if(Q>ft&&Q>Tt)return 1;var le=w.comparePoint(v.leftSE.point);if(le!==0)return le;var Gt=v.comparePoint(w.rightSE.point);return Gt<0?1:Gt>0?-1:1}if(Q<ft)return-1;if(Q>ft)return 1;if(N<Y){var ae=w.comparePoint(v.rightSE.point);if(ae!==0)return ae}if(N>Y){var Qt=v.comparePoint(w.rightSE.point);if(Qt<0)return 1;if(Qt>0)return-1}if(N!==Y){var ue=kt-Q,Le=N-C,Ie=Tt-ft,Ne=Y-A;if(ue>Le&&Ie<Ne)return 1;if(ue<Le&&Ie>Ne)return-1}return N>Y?1:N<Y||kt<Tt?-1:kt>Tt?1:v.id<w.id?-1:v.id>w.id?1:0}}]),f(O,[{key:"replaceRightSE",value:function(v){this.rightSE=v,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var v=this.leftSE.point.y,w=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:v<w?v:w},ur:{x:this.rightSE.point.x,y:v>w?v:w}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(v){return v.x===this.leftSE.point.x&&v.y===this.leftSE.point.y||v.x===this.rightSE.point.x&&v.y===this.rightSE.point.y}},{key:"comparePoint",value:function(v){if(this.isAnEndpoint(v))return 0;var w=this.leftSE.point,C=this.rightSE.point,A=this.vector();if(w.x===C.x)return v.x===w.x?0:v.x<w.x?1:-1;var N=(v.y-w.y)/A.y,Y=w.x+N*A.x;if(v.x===Y)return 0;var Q=(v.x-w.x)/A.x,ft=w.y+Q*A.y;return v.y===ft?0:v.y<ft?-1:1}},{key:"getIntersection",value:function(v){var w=this.bbox(),C=v.bbox(),A=$(w,C);if(A===null)return null;var N=this.leftSE.point,Y=this.rightSE.point,Q=v.leftSE.point,ft=v.rightSE.point,kt=F(w,Q)&&this.comparePoint(Q)===0,Tt=F(C,N)&&v.comparePoint(N)===0,Ft=F(w,ft)&&this.comparePoint(ft)===0,Vt=F(C,Y)&&v.comparePoint(Y)===0;if(Tt&&kt)return Vt&&!Ft?Y:!Vt&&Ft?ft:null;if(Tt)return Ft&&N.x===ft.x&&N.y===ft.y?null:N;if(kt)return Vt&&Y.x===Q.x&&Y.y===Q.y?null:Q;if(Vt&&Ft)return null;if(Vt)return Y;if(Ft)return ft;var le=Pt(N,this.vector(),Q,v.vector());return le===null?null:F(A,le)?nt.round(le.x,le.y):null}},{key:"split",value:function(v){var w=[],C=v.events!==void 0,A=new Dt(v,!0),N=new Dt(v,!1),Y=this.rightSE;this.replaceRightSE(N),w.push(N),w.push(A);var Q=new O(A,Y,this.rings.slice(),this.windings.slice());return Dt.comparePoints(Q.leftSE.point,Q.rightSE.point)>0&&Q.swapEvents(),Dt.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),C&&(A.checkForConsuming(),N.checkForConsuming()),w}},{key:"swapEvents",value:function(){var v=this.rightSE;this.rightSE=this.leftSE,this.leftSE=v,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var w=0,C=this.windings.length;w<C;w++)this.windings[w]*=-1}},{key:"consume",value:function(v){for(var w=this,C=v;w.consumedBy;)w=w.consumedBy;for(;C.consumedBy;)C=C.consumedBy;var A=O.compare(w,C);if(A!==0){if(A>0){var N=w;w=C,C=N}if(w.prev===C){var Y=w;w=C,C=Y}for(var Q=0,ft=C.rings.length;Q<ft;Q++){var kt=C.rings[Q],Tt=C.windings[Q],Ft=w.rings.indexOf(kt);Ft===-1?(w.rings.push(kt),w.windings.push(Tt)):w.windings[Ft]+=Tt}C.rings=null,C.windings=null,C.consumedBy=w,C.leftSE.consumedBy=w.leftSE,C.rightSE.consumedBy=w.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var v=this.prev.consumedBy||this.prev;this._beforeState=v.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var v=this.beforeState();this._afterState={rings:v.rings.slice(0),windings:v.windings.slice(0),multiPolys:[]};for(var w=this._afterState.rings,C=this._afterState.windings,A=this._afterState.multiPolys,N=0,Y=this.rings.length;N<Y;N++){var Q=this.rings[N],ft=this.windings[N],kt=w.indexOf(Q);kt===-1?(w.push(Q),C.push(ft)):C[kt]+=ft}for(var Tt=[],Ft=[],Vt=0,le=w.length;Vt<le;Vt++)if(C[Vt]!==0){var Gt=w[Vt],ae=Gt.poly;if(Ft.indexOf(ae)===-1)if(Gt.isExterior)Tt.push(ae);else{Ft.indexOf(ae)===-1&&Ft.push(ae);var Qt=Tt.indexOf(Gt.poly);Qt!==-1&&Tt.splice(Qt,1)}}for(var ue=0,Le=Tt.length;ue<Le;ue++){var Ie=Tt[ue].multiPoly;A.indexOf(Ie)===-1&&A.push(Ie)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var v=this.beforeState().multiPolys,w=this.afterState().multiPolys;switch(W.type){case"union":var C=v.length===0,A=w.length===0;this._isInResult=C!==A;break;case"intersection":var N,Y;v.length<w.length?(N=v.length,Y=w.length):(N=w.length,Y=v.length),this._isInResult=Y===W.numMultiPolys&&N<Y;break;case"xor":var Q=Math.abs(v.length-w.length);this._isInResult=Q%2==1;break;case"difference":var ft=function(kt){return kt.length===1&&kt[0].isSubject};this._isInResult=ft(v)!==ft(w);break;default:throw new Error("Unrecognized operation type found ".concat(W.type))}return this._isInResult}}],[{key:"fromRing",value:function(v,w,C){var A,N,Y,Q=Dt.comparePoints(v,w);if(Q<0)A=v,N=w,Y=1;else{if(!(Q>0))throw new Error("Tried to create degenerate segment at [".concat(v.x,", ").concat(v.y,"]"));A=w,N=v,Y=-1}return new O(new Dt(A,!0),new Dt(N,!1),[C],[Y])}}]),O}(),Jt=function(){function O(v,w,C){if(l(this,O),!Array.isArray(v)||v.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=w,this.isExterior=C,this.segments=[],typeof v[0][0]!="number"||typeof v[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var A=nt.round(v[0][0],v[0][1]);this.bbox={ll:{x:A.x,y:A.y},ur:{x:A.x,y:A.y}};for(var N=A,Y=1,Q=v.length;Y<Q;Y++){if(typeof v[Y][0]!="number"||typeof v[Y][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var ft=nt.round(v[Y][0],v[Y][1]);ft.x===N.x&&ft.y===N.y||(this.segments.push(ie.fromRing(N,ft,this)),ft.x<this.bbox.ll.x&&(this.bbox.ll.x=ft.x),ft.y<this.bbox.ll.y&&(this.bbox.ll.y=ft.y),ft.x>this.bbox.ur.x&&(this.bbox.ur.x=ft.x),ft.y>this.bbox.ur.y&&(this.bbox.ur.y=ft.y),N=ft)}A.x===N.x&&A.y===N.y||this.segments.push(ie.fromRing(N,A,this))}return f(O,[{key:"getSweepEvents",value:function(){for(var v=[],w=0,C=this.segments.length;w<C;w++){var A=this.segments[w];v.push(A.leftSE),v.push(A.rightSE)}return v}}]),O}(),Ot=function(){function O(v,w){if(l(this,O),!Array.isArray(v))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Jt(v[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var C=1,A=v.length;C<A;C++){var N=new Jt(v[C],this,!1);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.interiorRings.push(N)}this.multiPoly=w}return f(O,[{key:"getSweepEvents",value:function(){for(var v=this.exteriorRing.getSweepEvents(),w=0,C=this.interiorRings.length;w<C;w++)for(var A=this.interiorRings[w].getSweepEvents(),N=0,Y=A.length;N<Y;N++)v.push(A[N]);return v}}]),O}(),at=function(){function O(v,w){if(l(this,O),!Array.isArray(v))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof v[0][0][0]=="number"&&(v=[v])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var C=0,A=v.length;C<A;C++){var N=new Ot(v[C],this);N.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=N.bbox.ll.x),N.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=N.bbox.ll.y),N.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=N.bbox.ur.x),N.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=N.bbox.ur.y),this.polys.push(N)}this.isSubject=w}return f(O,[{key:"getSweepEvents",value:function(){for(var v=[],w=0,C=this.polys.length;w<C;w++)for(var A=this.polys[w].getSweepEvents(),N=0,Y=A.length;N<Y;N++)v.push(A[N]);return v}}]),O}(),vt=function(){function O(v){l(this,O),this.events=v;for(var w=0,C=v.length;w<C;w++)v[w].segment.ringOut=this;this.poly=null}return f(O,null,[{key:"factory",value:function(v){for(var w=[],C=0,A=v.length;C<A;C++){var N=v[C];if(N.isInResult()&&!N.ringOut){for(var Y=null,Q=N.leftSE,ft=N.rightSE,kt=[Q],Tt=Q.point,Ft=[];Y=Q,Q=ft,kt.push(Q),Q.point!==Tt;)for(;;){var Vt=Q.getAvailableLinkedEvents();if(Vt.length===0){var le=kt[0].point,Gt=kt[kt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(le.x,",")+" ".concat(le.y,"]. Last matching segment found ends at")+" [".concat(Gt.x,", ").concat(Gt.y,"]."))}if(Vt.length===1){ft=Vt[0].otherSE;break}for(var ae=null,Qt=0,ue=Ft.length;Qt<ue;Qt++)if(Ft[Qt].point===Q.point){ae=Qt;break}if(ae===null){Ft.push({index:kt.length,point:Q.point});var Le=Q.getLeftmostComparator(Y);ft=Vt.sort(Le)[0].otherSE;break}var Ie=Ft.splice(ae)[0],Ne=kt.splice(Ie.index);Ne.unshift(Ne[0].otherSE),w.push(new O(Ne.reverse()))}w.push(new O(kt))}}return w}}]),f(O,[{key:"getGeom",value:function(){for(var v=this.events[0].point,w=[v],C=1,A=this.events.length-1;C<A;C++){var N=this.events[C].point,Y=this.events[C+1].point;Mt(N,v,Y)!==0&&(w.push(N),v=N)}if(w.length===1)return null;var Q=w[0],ft=w[1];Mt(Q,v,ft)===0&&w.shift(),w.push(w[0]);for(var kt=this.isExteriorRing()?1:-1,Tt=this.isExteriorRing()?0:w.length-1,Ft=this.isExteriorRing()?w.length:-1,Vt=[],le=Tt;le!=Ft;le+=kt)Vt.push([w[le].x,w[le].y]);return Vt}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var v=this.enclosingRing();this._isExteriorRing=!v||!v.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var v=this.events[0],w=1,C=this.events.length;w<C;w++){var A=this.events[w];Dt.compare(v,A)>0&&(v=A)}for(var N=v.segment.prevInResult(),Y=N?N.prevInResult():null;;){if(!N)return null;if(!Y)return N.ringOut;if(Y.ringOut!==N.ringOut)return Y.ringOut.enclosingRing()!==N.ringOut?N.ringOut:N.ringOut.enclosingRing();N=Y.prevInResult(),Y=N?N.prevInResult():null}}}]),O}(),bt=function(){function O(v){l(this,O),this.exteriorRing=v,v.poly=this,this.interiorRings=[]}return f(O,[{key:"addInterior",value:function(v){this.interiorRings.push(v),v.poly=this}},{key:"getGeom",value:function(){var v=[this.exteriorRing.getGeom()];if(v[0]===null)return null;for(var w=0,C=this.interiorRings.length;w<C;w++){var A=this.interiorRings[w].getGeom();A!==null&&v.push(A)}return v}}]),O}(),St=function(){function O(v){l(this,O),this.rings=v,this.polys=this._composePolys(v)}return f(O,[{key:"getGeom",value:function(){for(var v=[],w=0,C=this.polys.length;w<C;w++){var A=this.polys[w].getGeom();A!==null&&v.push(A)}return v}},{key:"_composePolys",value:function(v){for(var w=[],C=0,A=v.length;C<A;C++){var N=v[C];if(!N.poly)if(N.isExteriorRing())w.push(new bt(N));else{var Y=N.enclosingRing();Y.poly||w.push(new bt(Y)),Y.poly.addInterior(N)}}return w}}]),O}(),Yt=function(){function O(v){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ie.compare;l(this,O),this.queue=v,this.tree=new R(w),this.segments=[]}return f(O,[{key:"process",value:function(v){var w=v.segment,C=[];if(v.consumedBy)return v.isLeft?this.queue.remove(v.otherSE):this.tree.remove(w),C;var A=v.isLeft?this.tree.insert(w):this.tree.find(w);if(!A)throw new Error("Unable to find segment #".concat(w.id," ")+"[".concat(w.leftSE.point.x,", ").concat(w.leftSE.point.y,"] -> ")+"[".concat(w.rightSE.point.x,", ").concat(w.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var N=A,Y=A,Q=void 0,ft=void 0;Q===void 0;)(N=this.tree.prev(N))===null?Q=null:N.key.consumedBy===void 0&&(Q=N.key);for(;ft===void 0;)(Y=this.tree.next(Y))===null?ft=null:Y.key.consumedBy===void 0&&(ft=Y.key);if(v.isLeft){var kt=null;if(Q){var Tt=Q.getIntersection(w);if(Tt!==null&&(w.isAnEndpoint(Tt)||(kt=Tt),!Q.isAnEndpoint(Tt)))for(var Ft=this._splitSafely(Q,Tt),Vt=0,le=Ft.length;Vt<le;Vt++)C.push(Ft[Vt])}var Gt=null;if(ft){var ae=ft.getIntersection(w);if(ae!==null&&(w.isAnEndpoint(ae)||(Gt=ae),!ft.isAnEndpoint(ae)))for(var Qt=this._splitSafely(ft,ae),ue=0,Le=Qt.length;ue<Le;ue++)C.push(Qt[ue])}if(kt!==null||Gt!==null){var Ie=null;Ie=kt===null?Gt:Gt===null||Dt.comparePoints(kt,Gt)<=0?kt:Gt,this.queue.remove(w.rightSE),C.push(w.rightSE);for(var Ne=w.split(Ie),nn=0,Xe=Ne.length;nn<Xe;nn++)C.push(Ne[nn])}C.length>0?(this.tree.remove(w),C.push(v)):(this.segments.push(w),w.prev=Q)}else{if(Q&&ft){var Fe=Q.getIntersection(ft);if(Fe!==null){if(!Q.isAnEndpoint(Fe))for(var Qe=this._splitSafely(Q,Fe),dn=0,In=Qe.length;dn<In;dn++)C.push(Qe[dn]);if(!ft.isAnEndpoint(Fe))for(var ze=this._splitSafely(ft,Fe),Te=0,wn=ze.length;Te<wn;Te++)C.push(ze[Te])}}this.tree.remove(w)}return C}},{key:"_splitSafely",value:function(v,w){this.tree.remove(v);var C=v.rightSE;this.queue.remove(C);var A=v.split(w);return A.push(C),v.consumedBy===void 0&&this.tree.insert(v),A}}]),O}(),z=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,H=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,W=new(function(){function O(){l(this,O)}return f(O,[{key:"run",value:function(v,w,C){W.type=v,nt.reset();for(var A=[new at(w,!0)],N=0,Y=C.length;N<Y;N++)A.push(new at(C[N],!1));if(W.numMultiPolys=A.length,W.type==="difference")for(var Q=A[0],ft=1;ft<A.length;)$(A[ft].bbox,Q.bbox)!==null?ft++:A.splice(ft,1);if(W.type==="intersection"){for(var kt=0,Tt=A.length;kt<Tt;kt++)for(var Ft=A[kt],Vt=kt+1,le=A.length;Vt<le;Vt++)if($(Ft.bbox,A[Vt].bbox)===null)return[]}for(var Gt=new R(Dt.compare),ae=0,Qt=A.length;ae<Qt;ae++)for(var ue=A[ae].getSweepEvents(),Le=0,Ie=ue.length;Le<Ie;Le++)if(Gt.insert(ue[Le]),Gt.size>z)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Ne=new Yt(Gt),nn=Gt.size,Xe=Gt.pop();Xe;){var Fe=Xe.key;if(Gt.size===nn){var Qe=Fe.segment;throw new Error("Unable to pop() ".concat(Fe.isLeft?"left":"right"," SweepEvent ")+"[".concat(Fe.point.x,", ").concat(Fe.point.y,"] from segment #").concat(Qe.id," ")+"[".concat(Qe.leftSE.point.x,", ").concat(Qe.leftSE.point.y,"] -> ")+"[".concat(Qe.rightSE.point.x,", ").concat(Qe.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Gt.size>z)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Ne.segments.length>H)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var dn=Ne.process(Fe),In=0,ze=dn.length;In<ze;In++){var Te=dn[In];Te.consumedBy===void 0&&Gt.insert(Te)}nn=Gt.size,Xe=Gt.pop()}nt.reset();var wn=vt.factory(Ne.segments);return new St(wn).getGeom()}}]),O}()),st=function(O){for(var v=arguments.length,w=new Array(v>1?v-1:0),C=1;C<v;C++)w[C-1]=arguments[C];return W.run("union",O,w)},ht=function(O){for(var v=arguments.length,w=new Array(v>1?v-1:0),C=1;C<v;C++)w[C-1]=arguments[C];return W.run("intersection",O,w)},pt=function(O){for(var v=arguments.length,w=new Array(v>1?v-1:0),C=1;C<v;C++)w[C-1]=arguments[C];return W.run("xor",O,w)},wt=function(O){for(var v=arguments.length,w=new Array(v>1?v-1:0),C=1;C<v;C++)w[C-1]=arguments[C];return W.run("difference",O,w)};return{union:st,intersection:ht,xor:pt,difference:wt}}()},2582:function(a){a.exports=function(){function l(T,F,$,ot,tt){(function it(ut,mt,nt,gt,Rt){for(;gt>nt;){if(gt-nt>600){var Mt=gt-nt+1,Lt=mt-nt+1,Bt=Math.log(Mt),dt=.5*Math.exp(2*Bt/3),ee=.5*Math.sqrt(Bt*dt*(Mt-dt)/Mt)*(Lt-Mt/2<0?-1:1);it(ut,mt,Math.max(nt,Math.floor(mt-Lt*dt/Mt+ee)),Math.min(gt,Math.floor(mt+(Mt-Lt)*dt/Mt+ee)),Rt)}var Et=ut[mt],Pt=nt,Dt=gt;for(u(ut,nt,mt),Rt(ut[gt],Et)>0&&u(ut,nt,gt);Pt<Dt;){for(u(ut,Pt,Dt),Pt++,Dt--;Rt(ut[Pt],Et)<0;)Pt++;for(;Rt(ut[Dt],Et)>0;)Dt--}Rt(ut[nt],Et)===0?u(ut,nt,Dt):u(ut,++Dt,gt),Dt<=mt&&(nt=Dt+1),mt<=Dt&&(gt=Dt-1)}})(T,F,$||0,ot||T.length-1,tt||f)}function u(T,F,$){var ot=T[F];T[F]=T[$],T[$]=ot}function f(T,F){return T<F?-1:T>F?1:0}var p=function(T){T===void 0&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function m(T,F,$){if(!$)return F.indexOf(T);for(var ot=0;ot<F.length;ot++)if($(T,F[ot]))return ot;return-1}function g(T,F){b(T,0,T.children.length,F,T)}function b(T,F,$,ot,tt){tt||(tt=U(null)),tt.minX=1/0,tt.minY=1/0,tt.maxX=-1/0,tt.maxY=-1/0;for(var it=F;it<$;it++){var ut=T.children[it];x(tt,T.leaf?ot(ut):ut)}return tt}function x(T,F){return T.minX=Math.min(T.minX,F.minX),T.minY=Math.min(T.minY,F.minY),T.maxX=Math.max(T.maxX,F.maxX),T.maxY=Math.max(T.maxY,F.maxY),T}function M(T,F){return T.minX-F.minX}function B(T,F){return T.minY-F.minY}function R(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function E(T){return T.maxX-T.minX+(T.maxY-T.minY)}function q(T,F){return T.minX<=F.minX&&T.minY<=F.minY&&F.maxX<=T.maxX&&F.maxY<=T.maxY}function I(T,F){return F.minX<=T.maxX&&F.minY<=T.maxY&&F.maxX>=T.minX&&F.maxY>=T.minY}function U(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function K(T,F,$,ot,tt){for(var it=[F,$];it.length;)if(!(($=it.pop())-(F=it.pop())<=ot)){var ut=F+Math.ceil(($-F)/ot/2)*ot;l(T,ut,F,$,tt),it.push(F,ut,ut,$)}}return p.prototype.all=function(){return this._all(this.data,[])},p.prototype.search=function(T){var F=this.data,$=[];if(!I(T,F))return $;for(var ot=this.toBBox,tt=[];F;){for(var it=0;it<F.children.length;it++){var ut=F.children[it],mt=F.leaf?ot(ut):ut;I(T,mt)&&(F.leaf?$.push(ut):q(T,mt)?this._all(ut,$):tt.push(ut))}F=tt.pop()}return $},p.prototype.collides=function(T){var F=this.data;if(!I(T,F))return!1;for(var $=[];F;){for(var ot=0;ot<F.children.length;ot++){var tt=F.children[ot],it=F.leaf?this.toBBox(tt):tt;if(I(T,it)){if(F.leaf||q(T,it))return!0;$.push(tt)}}F=$.pop()}return!1},p.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var F=0;F<T.length;F++)this.insert(T[F]);return this}var $=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===$.height)this._splitRoot(this.data,$);else{if(this.data.height<$.height){var ot=this.data;this.data=$,$=ot}this._insert($,this.data.height-$.height-1,!0)}else this.data=$;return this},p.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},p.prototype.clear=function(){return this.data=U([]),this},p.prototype.remove=function(T,F){if(!T)return this;for(var $,ot,tt,it=this.data,ut=this.toBBox(T),mt=[],nt=[];it||mt.length;){if(it||(it=mt.pop(),ot=mt[mt.length-1],$=nt.pop(),tt=!0),it.leaf){var gt=m(T,it.children,F);if(gt!==-1)return it.children.splice(gt,1),mt.push(it),this._condense(mt),this}tt||it.leaf||!q(it,ut)?ot?($++,it=ot.children[$],tt=!1):it=null:(mt.push(it),nt.push($),$=0,ot=it,it=it.children[0])}return this},p.prototype.toBBox=function(T){return T},p.prototype.compareMinX=function(T,F){return T.minX-F.minX},p.prototype.compareMinY=function(T,F){return T.minY-F.minY},p.prototype.toJSON=function(){return this.data},p.prototype.fromJSON=function(T){return this.data=T,this},p.prototype._all=function(T,F){for(var $=[];T;)T.leaf?F.push.apply(F,T.children):$.push.apply($,T.children),T=$.pop();return F},p.prototype._build=function(T,F,$,ot){var tt,it=$-F+1,ut=this._maxEntries;if(it<=ut)return g(tt=U(T.slice(F,$+1)),this.toBBox),tt;ot||(ot=Math.ceil(Math.log(it)/Math.log(ut)),ut=Math.ceil(it/Math.pow(ut,ot-1))),(tt=U([])).leaf=!1,tt.height=ot;var mt=Math.ceil(it/ut),nt=mt*Math.ceil(Math.sqrt(ut));K(T,F,$,nt,this.compareMinX);for(var gt=F;gt<=$;gt+=nt){var Rt=Math.min(gt+nt-1,$);K(T,gt,Rt,mt,this.compareMinY);for(var Mt=gt;Mt<=Rt;Mt+=mt){var Lt=Math.min(Mt+mt-1,Rt);tt.children.push(this._build(T,Mt,Lt,ot-1))}}return g(tt,this.toBBox),tt},p.prototype._chooseSubtree=function(T,F,$,ot){for(;ot.push(F),!F.leaf&&ot.length-1!==$;){for(var tt=1/0,it=1/0,ut=void 0,mt=0;mt<F.children.length;mt++){var nt=F.children[mt],gt=R(nt),Rt=(Mt=T,Lt=nt,(Math.max(Lt.maxX,Mt.maxX)-Math.min(Lt.minX,Mt.minX))*(Math.max(Lt.maxY,Mt.maxY)-Math.min(Lt.minY,Mt.minY))-gt);Rt<it?(it=Rt,tt=gt<tt?gt:tt,ut=nt):Rt===it&&gt<tt&&(tt=gt,ut=nt)}F=ut||F.children[0]}var Mt,Lt;return F},p.prototype._insert=function(T,F,$){var ot=$?T:this.toBBox(T),tt=[],it=this._chooseSubtree(ot,this.data,F,tt);for(it.children.push(T),x(it,ot);F>=0&&tt[F].children.length>this._maxEntries;)this._split(tt,F),F--;this._adjustParentBBoxes(ot,tt,F)},p.prototype._split=function(T,F){var $=T[F],ot=$.children.length,tt=this._minEntries;this._chooseSplitAxis($,tt,ot);var it=this._chooseSplitIndex($,tt,ot),ut=U($.children.splice(it,$.children.length-it));ut.height=$.height,ut.leaf=$.leaf,g($,this.toBBox),g(ut,this.toBBox),F?T[F-1].children.push(ut):this._splitRoot($,ut)},p.prototype._splitRoot=function(T,F){this.data=U([T,F]),this.data.height=T.height+1,this.data.leaf=!1,g(this.data,this.toBBox)},p.prototype._chooseSplitIndex=function(T,F,$){for(var ot,tt,it,ut,mt,nt,gt,Rt=1/0,Mt=1/0,Lt=F;Lt<=$-F;Lt++){var Bt=b(T,0,Lt,this.toBBox),dt=b(T,Lt,$,this.toBBox),ee=(tt=Bt,it=dt,ut=void 0,mt=void 0,nt=void 0,gt=void 0,ut=Math.max(tt.minX,it.minX),mt=Math.max(tt.minY,it.minY),nt=Math.min(tt.maxX,it.maxX),gt=Math.min(tt.maxY,it.maxY),Math.max(0,nt-ut)*Math.max(0,gt-mt)),Et=R(Bt)+R(dt);ee<Rt?(Rt=ee,ot=Lt,Mt=Et<Mt?Et:Mt):ee===Rt&&Et<Mt&&(Mt=Et,ot=Lt)}return ot||$-F},p.prototype._chooseSplitAxis=function(T,F,$){var ot=T.leaf?this.compareMinX:M,tt=T.leaf?this.compareMinY:B;this._allDistMargin(T,F,$,ot)<this._allDistMargin(T,F,$,tt)&&T.children.sort(ot)},p.prototype._allDistMargin=function(T,F,$,ot){T.children.sort(ot);for(var tt=this.toBBox,it=b(T,0,F,tt),ut=b(T,$-F,$,tt),mt=E(it)+E(ut),nt=F;nt<$-F;nt++){var gt=T.children[nt];x(it,T.leaf?tt(gt):gt),mt+=E(it)}for(var Rt=$-F-1;Rt>=F;Rt--){var Mt=T.children[Rt];x(ut,T.leaf?tt(Mt):Mt),mt+=E(ut)}return mt},p.prototype._adjustParentBBoxes=function(T,F,$){for(var ot=$;ot>=0;ot--)x(F[ot],T)},p.prototype._condense=function(T){for(var F=T.length-1,$=void 0;F>=0;F--)T[F].children.length===0?F>0?($=T[F-1].children).splice($.indexOf(T[F]),1):this.clear():g(T[F],this.toBBox)},p}()}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={id:a,loaded:!1,exports:{}};return e[a].call(u.exports,u,u.exports,s),u.loaded=!0,u.exports}s.n=a=>{var l=a&&a.__esModule?()=>a.default:()=>a;return s.d(l,{a:l}),l},s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.nmd=a=>(a.paths=[],a.children||(a.children=[]),a),s(5975)})();const dl=m_(Vv);dl.use(v_());dl.use(Ts);(async()=>{try{await Bn.init()}catch{}dl.mount("#app")})();
